(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("PAY00U0000P");this.set_titletext("고객청구서비스정보조회");this.getSetter("scrollbars").set("none");if(Form==this.constructor){this._setFormPosition(664,424);}_a=new Dataset("dst_cob",this);_a._setContents("<ColumnInfo><Column id=\"code\" size=\"256\" type=\"STRING\"/><Column id=\"value\" size=\"256\" type=\"STRING\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dst_svclisthist",this);_a._setContents("<ColumnInfo><Column id=\"SV_ACNT_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"CHG_DT\" size=\"256\" type=\"STRING\"/><Column id=\"CNCL_DTM\" size=\"256\" type=\"STRING\"/><Column id=\"CHG_DTM\" size=\"256\" type=\"STRING\"/><Column id=\"SV_ACNT_CHG_HST_SER_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"BL_ACNT_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"CU_ACNT_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"CUST_NM\" size=\"256\" type=\"STRING\"/><Column id=\"SV_ACNT_CHG_CD\" size=\"256\" type=\"STRING\"/><Column id=\"MAIN_CHG_CD\" size=\"256\" type=\"STRING\"/><Column id=\"MAIN_CHG_NM\" size=\"256\" type=\"STRING\"/><Column id=\"SV_ACNT_CHG_RSN_CD\" size=\"256\" type=\"STRING\"/><Column id=\"SV_ACNT_CHG_RSN_NM\" size=\"256\" type=\"STRING\"/><Column id=\"SVC_CD\" size=\"256\" type=\"STRING\"/><Column id=\"SVC_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"CHK\" size=\"256\" type=\"STRING\"/><Column id=\"ORG_SVC_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"CTZ_CORP_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"ENC_CTZ_CORP_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"CTZ_CORP_SER_NUM\" size=\"256\" type=\"STRING\"/><Column id=\"SV_ACNT_CHG_NM\" size=\"256\" type=\"STRING\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dst_findhist",this);_a._setContents("<ColumnInfo><Column id=\"svAcntNum\" size=\"11\" type=\"BIGDECIMAL\"/><Column id=\"svcNum\" size=\"22\" type=\"STRING\"/><Column id=\"chkHist\" size=\"256\" type=\"STRING\"/></ColumnInfo><Rows><Row><Col id=\"chkHist\">0</Col><Col id=\"svAcntNum\"/><Col id=\"svcNum\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("dst_svacntnum",this);_a._setContents("<ColumnInfo><Column id=\"SV_ACNT_NUM\" size=\"256\" type=\"STRING\"/></ColumnInfo><Rows><Row><Col id=\"SV_ACNT_NUM\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("dst_find",this);_a._setContents("<ColumnInfo><Column id=\"searchTyp\" size=\"256\" type=\"STRING\"/><Column id=\"searchVal\" size=\"256\" type=\"STRING\"/><Column id=\"searchSerNum\" size=\"256\" type=\"STRING\"/><Column id=\"process_cd\" size=\"256\" type=\"STRING\"/><Column id=\"prodId\" size=\"256\" type=\"STRING\"/><Column id=\"nc_pageNo\" size=\"256\" type=\"STRING\"/><Column id=\"nc_recordCountPerPage\" size=\"256\" type=\"STRING\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dst_fetchInfo",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Dataset("dst_searchAppend",this);_a._setContents("<ColumnInfo><Column id=\"searchTyp\" size=\"256\" type=\"STRING\"/><Column id=\"searchVal\" size=\"256\" type=\"STRING\"/><Column id=\"process_cd\" size=\"256\" type=\"STRING\"/><Column id=\"prodId\" size=\"256\" type=\"STRING\"/><Column id=\"nc_pageNo\" size=\"256\" type=\"STRING\"/><Column id=\"nc_recordCountPerPage\" size=\"256\" type=\"STRING\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dst_commSearch",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Grid("grd_svcNumHist","10","96","644","286",null,null,null,null,null,null,this);_a.set_binddataset("dst_svclisthist");_a.set_cellsizingtype("col");_a.set_enable("true");_a.set_fillareatype("allrow");_a.set_taborder("7");_a.set_tabstop("false");_a.set_useselcolor("true");_a.set_visible("false");_a.set_wheelscrollrow("1");_a.set_readonly("true");_a.set_formatid("default");_a.set_selecttype("row");_a.set_background("user8");_a.set_border("HalfFlat");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"17\"/><Column size=\"17\"/><Column size=\"85\"/><Column size=\"85\"/><Column size=\"80\"/><Column size=\"150\"/><Column size=\"150\"/><Column size=\"85\"/><Column size=\"80\"/><Column size=\"110\"/></Columns><Rows><Row size=\"19\" band=\"head\"/><Row size=\"21\"/></Rows><Band id=\"head\"><Cell col=\"0\" colspan=\"2\" displaytype=\"text\" text=\"선택\" background=\"user4\" color=\"user8\"/><Cell col=\"2\" displaytype=\"text\" text=\"청구계정\" background=\"user4\" color=\"user8\"/><Cell col=\"3\" displaytype=\"text\" text=\"서비스계정\" background=\"user4\" color=\"user8\"/><Cell col=\"4\" displaytype=\"text\" text=\"변경일\" background=\"user4\" color=\"user8\"/><Cell col=\"5\" displaytype=\"text\" text=\"변경명\" background=\"user4\" color=\"user8\"/><Cell col=\"6\" displaytype=\"text\" text=\"변경사유\" background=\"user4\" color=\"user8\"/><Cell col=\"7\" displaytype=\"text\" text=\"고객계정\" background=\"user4\" color=\"user8\"/><Cell col=\"8\" displaytype=\"text\" text=\"고객명\" background=\"user4\" color=\"user8\"/><Cell col=\"9\" displaytype=\"text\" text=\"고객식별번호\" background=\"user4\" color=\"user8\"/></Band><Band id=\"body\"><Cell celltype=\"head\" col=\"0\" displaytype=\"text\" expr=\"comp.parent.m2n_decode(comp.parent.dst_svclisthist.rowposition, &quot;-1&quot;, &quot;&quot;, currow, &quot;▶&quot;,&quot;&quot;)\" textAlign=\"left\" color=\"user8\" font=\" 7pt &quot;돋움체&quot;\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"1\" text=\"bind:CHK\" displaytype=\"checkboxcontrol\" edittype=\"checkbox\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"2\" text=\"bind:BL_ACNT_NUM\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"3\" text=\"bind:SV_ACNT_NUM\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"4\" text=\"bind:CHG_DT\" displaytype=\"date\" maskeditformat=\"comp.parent.m2n_lookupPath(&quot;sysf_setdateformat&quot;)(&quot;NOR&quot;)\" calendardisplaynulltype=\"none\" selectbackground=\"user2\"/><Cell textAlign=\"left\" col=\"5\" text=\"bind:SV_ACNT_CHG_NM\" displaytype=\"text\" selectbackground=\"user2\"/><Cell textAlign=\"left\" col=\"6\" text=\"bind:SV_ACNT_CHG_RSN_NM\" displaytype=\"text\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"7\" text=\"bind:CU_ACNT_NUM\" displaytype=\"text\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"8\" text=\"bind:CUST_NM\" displaytype=\"text\" selectbackground=\"user2\"/><Cell textAlign=\"center\" col=\"9\" text=\"bind:ENC_CTZ_CORP_NUM\" displaytype=\"text\" selectbackground=\"user2\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Grid("grd_custhist","10","96",null,"286","10",null,null,null,null,null,this);_a.set_binddataset("dst_commSearch");_a.set_cellsizingtype("col");_a.set_enable("true");_a.set_fillareatype("allrow");_a.set_taborder("3");_a.set_tabstop("false");_a.set_useselcolor("true");_a.set_visible("true");_a.set_wheelscrollrow("1");_a.set_readonly("true");_a.set_formatid("default");_a.set_selecttype("row");_a.set_background("user8");_a.set_border("HalfFlat");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"17\"/><Column size=\"17\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"100\"/><Column size=\"85\"/></Columns><Rows><Row size=\"30\" band=\"head\"/><Row size=\"30\"/></Rows><Band id=\"head\"><Cell colspan=\"2\" displaytype=\"text\" text=\"Chk\" domainid=\"PAY00U0000P.grd_custhist_Head01\" background=\"user4\" color=\"user8\"/><Cell col=\"2\" displaytype=\"text\" text=\"customer number\" domainid=\"PAY00U0000P.grd_custhist_Head02\" background=\"user4\" color=\"user8\"/><Cell col=\"3\" displaytype=\"text\" text=\"customer name\" domainid=\"PAY00U0000P.grd_custhist_Head03\" background=\"user4\" color=\"user8\"/><Cell col=\"4\" displaytype=\"text\" text=\"Invoice Account Number\" domainid=\"PAY00U0000P.grd_custhist_Head05\" background=\"user4\" color=\"user8\"/><Cell col=\"5\" displaytype=\"text\" domainid=\"PAY00U0000P.grd_custhist_Head06\" background=\"user4\" color=\"user8\"/><Cell col=\"6\" displaytype=\"text\" domainid=\"PAY00U0000P.grd_custhist_Head07\" background=\"user4\" color=\"user8\"/><Cell col=\"7\" displaytype=\"text\" text=\"Service Account Number\" domainid=\"PAY00U0000P.grd_custhist_Head09\" background=\"user4\" color=\"user8\"/><Cell col=\"8\" displaytype=\"text\" text=\"Service Number\" domainid=\"PAY00U0000P.grd_custhist_Head10\" background=\"user4\" color=\"user8\"/><Cell col=\"9\" displaytype=\"text\" text=\"서비스가입일자\" domainid=\"PAY00U0000P.grd_custhist_Head11\" background=\"user4\" color=\"user8\"/></Band><Band id=\"body\"><Cell celltype=\"head\" displaytype=\"text\" textAlign=\"left\" color=\"user8\" font=\" 7pt &quot;돋움체&quot;\" selectbackground=\"user2\"/><Cell col=\"1\" textAlign=\"center\" text=\"bind:chk\" combodataset=\"dst_search\" displaytype=\"checkboxcontrol\" edittype=\"checkbox\" selectbackground=\"user2\"/><Cell col=\"2\" textAlign=\"center\" text=\"bind:nmAcntNum\" combodataset=\"dst_search\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"3\" textAlign=\"left\" text=\"bind:nmCuNm\" combocodecol=\"code\" combodataset=\"dst_search\" combodatacol=\"value\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"4\" textAlign=\"center\" text=\"bind:nmBlAcntNum\" combodataset=\"dst_search\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"5\" textAlign=\"center\" text=\"bind:cuAcntNum\" combodataset=\"dst_search\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"6\" textAlign=\"left\" text=\"bind:corpNm\" combocodecol=\"code\" combodataset=\"dst_search\" combodatacol=\"value\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"7\" textAlign=\"center\" text=\"bind:svAcntNum\" combodataset=\"dst_search\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"8\" textAlign=\"center\" text=\"bind:svcNum\" combodataset=\"dst_search\" displaytype=\"text\" selectbackground=\"user2\"/><Cell col=\"9\" textAlign=\"center\" text=\"bind:svcScrbDt\" combodataset=\"dst_search\" displaytype=\"comp.parent.m2n_iif(comp.parent.m2n_length(svcScrbDt) &lt; 1, &quot;normal&quot;,&quot;date&quot;)\" maskeditformat=\"comp.parent.m2n_lookupPath(&quot;sysf_setdateformat&quot;)(&quot;NOR&quot;)\" selectbackground=\"user2\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new ImageViewer("Title_Search0","10","6","644","25",null,null,null,null,null,null,this);_a.set_image("tit_bul_search");_a.set_taborder("1");_a.set_text("Search");_a.getSetter("domainid").set("PAY00U0000P.Title_Search0");_a.set_imagealign("left middle");_a.set_cssclass("img_WF_Title");this.addChild(_a.name,_a);_a=new Div("Div_search","10","32",null,"33","10",null,null,null,null,null,this);_a.set_taborder("2");_a.set_text("Div_Normal1");_a.getSetter("scrollbars").set("none");_a.set_cssclass("div_WF_Search");this.addChild(_a.name,_a);_a=new Edit("edt_value","144","5","224","21",null,null,null,null,null,null,this.Div_search.form);_a.set_autoselect("true");_a.set_taborder("1");this.Div_search.addChild(_a.name,_a);_a=new Button("Button_search",null,"6","70","20","8",null,null,null,null,null,this.Div_search.form);_a.set_taborder("3");_a.set_tabstop("false");_a.set_text("Search");_a.getSetter("domainid").set("PAY00U0000P.Div_search.Button_search");_a.set_cssclass("btn_WF_Crud");this.Div_search.addChild(_a.name,_a);_a=new Combo("cob_search","14","5","130","21",null,null,null,null,null,null,this.Div_search.form);_a.set_codecolumn("code");_a.set_datacolumn("value");_a.set_innerdataset("dst_cob");_a.set_taborder("0");this.Div_search.addChild(_a.name,_a);_a=new CheckBox("chkHist","399","5","97","21",null,null,null,null,null,null,this.Div_search.form);_a.getSetter("binddataset").set("dst_findhist");_a.set_taborder("2");_a.set_text("번호별이력");_a.set_value("false");_a.set_visible("false");_a.set_truevalue("true");_a.set_falsevalue("false");this.Div_search.addChild(_a.name,_a);_a=new Button("btn_find","368","5","21","21",null,null,null,null,null,null,this.Div_search.form);_a.set_cursor("hand");_a.set_taborder("5");_a.set_visible("false");_a.set_cssclass("btn_WF_SchSmall");this.Div_search.addChild(_a.name,_a);_a=new Button("BTN_Apply","270","392","50","20",null,null,null,null,null,null,this);_a.set_cursor("hand");_a.set_taborder("5");_a.set_tabstop("false");_a.set_text("Apply");_a.getSetter("domainid").set("PAY00U0000P.BTN_Apply");this.addChild(_a.name,_a);_a=new Button("BTN_Close","325","392","70","20",null,null,null,null,null,null,this);_a.set_cursor("hand");_a.set_taborder("6");_a.set_tabstop("false");_a.set_text("Cancel");_a.getSetter("domainid").set("PAY00U0000P.BTN_Close");this.addChild(_a.name,_a);_a=new ImageViewer("Title_Normal0","10","70","644","25",null,null,null,null,null,null,this);_a.set_image("tit_bul_process");_a.set_taborder("4");_a.set_text("result");_a.getSetter("domainid").set("PAY00U0000P.Title_Normal0");_a.set_imagealign("left middle");_a.set_cssclass("img_WF_Title");this.addChild(_a.name,_a);_a=new Button("btn_fetch_grp","635","74","19","19",null,null,null,null,null,null,this);_a.set_cursor("hand");_a.set_enable("FALSE");_a.set_taborder("8");_a.set_text("Button_Patch_Next0");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.Div_search.form,function(_b){});this.Div_search.form.addLayout(_a.name,_a);_a=new Layout("default","",664,424,this,function(_b){});this.addLayout(_a.name,_a);_a=new BindItem("Div_search_form_chkHist_value","Div_search.form.chkHist","value","dst_findhist","chkHist");this.addChild(_a.name,_a);_a.bind();};this.loadPreloadList=function(){};this.addIncludeScript("PAY00U0000P.xfdl","ximport::lib_XConvert.xjs");this.addIncludeScript("PAY00U0000P.xfdl","LIB::SYSUTL0010.xjs");this.addIncludeScript("PAY00U0000P.xfdl","LIB::SYSSVC0010.xjs");this.addIncludeScript("PAY00U0000P.xfdl","LIB::SYSGRD0010.xjs");this.addIncludeScript("PAY00U0000P.xfdl","CM_LIB::UTL80U0010.xjs");this.addIncludeScript("PAY00U0000P.xfdl","CR_LIB::ORHUTL0001.js");this.registerScript("PAY00U0000P.xfdl",function(){this.executeIncludeScript("ximport::lib_XConvert.xjs");this.executeIncludeScript("LIB::SYSUTL0010.xjs");this.executeIncludeScript("LIB::SYSSVC0010.xjs");this.executeIncludeScript("LIB::SYSGRD0010.xjs");this.executeIncludeScript("CM_LIB::UTL80U0010.xjs");this.executeIncludeScript("CR_LIB::ORHUTL0001.js");this.fv_nGrdListPageNo_cdGrp=0;this.fv_nPageNo_cdGrp=1;this.fv_nPageSize_cdGrp=25;this.fv_bTabChangeFlag=false;this.fv_nCurCnt_cdGrp=0;this.fv_nTotCnt_cdGrp=0;this.fv_nCurCnt_cdDtl=0;this.fv_strScreenName="PAY00U0000P";this.lastRowPosition=0;this.fv_searchTyp="";this.fv_searchVal="";this.fv_searchSerNum="";this.p_strParam="";this.ff_commonInitForm=function(){this.reload();};this.ff_commonCloseForm=function(){var _b=new Array(-1);_b[0]="dst_cob";_b[1]="dst_commSearch";return this.sysf_isModifiedDatasets(_b);};this.ff_callBack=function(_b,_c,_d){this.Div_search.form.Button_search.set_enable(true);if(_c!=0){this.m2n_lookupPath("edt_cntGrp").set_text(0);this.btn_fetch_grp.set_enable(false);this.grd_custhist.set_enableredraw(true);return;}if(_b=='find'){if(this.dst_commSearch.getRowCount()==0){this.Div_search.form.edt_value.setFocus();this.Div_search.form.edt_value.setSelect(0);}this.dst_commSearch.addColumn("chk","STRING",1);this.dst_commSearch.filter("this.m2n_isNull(nmBlAcntNum) != true && this.m2n_isNull(svAcntNum) != true && this.m2n_isNull(svcNumOrgi) != true");this.dst_commSearch.setColumn(0,"chk",1);if(this.dst_commSearch.getRowCount()==1){this.dst_commSearch.set_enableevent(false);this.dst_commSearch.setColumn(0,"chk",1);this.dst_commSearch.set_enableevent(true);}this.fv_nGrdListPageNo_cdGrp=1;this.grd_custhist.set_enableredraw(true);this.util_setCnt(this.dst_commSearch.getRowCount(),0);if(this.dst_commSearch.getRowCount()<this.fv_nPageSize_cdGrp){this.btn_fetch_grp.set_enable(false);}else{this.btn_fetch_grp.set_enable(true);}}else if(_b=="getCob"){if(!this.m2n_isExistVar(this,"p_strParam")&&this.utlf_isNull(this.p_strParam)){this.sysf_alert("XORHW2103");this.m2n_close("");}var _e=this.m2n_split(this.p_strParam,",");if(this.m2n_length(_e)<1){this.sysf_alert("XORHW2103");this.m2n_close("");}this.fv_searchTyp=_e[0];this.fv_searchVal=_e[1];this.fv_searchSerNum=_e[2];this.Div_search.form.cob_search.set_value(this.fv_searchTyp);this.ff_SrchCond(this.fv_searchTyp);if(_e[3]!="Y"){this.dst_cob.filter("code != '0EDD'");}if(this.m2n_isExistVar(this,"fv_searchVal")&&!this.utlf_isNull(this.fv_searchVal)){this.Div_search.form.edt_value.set_value(this.fv_searchVal);this.dst_find.clearData();this.dst_find.addRow();this.dst_find.setColumn(0,"searchTyp",this.fv_searchTyp);this.dst_find.setColumn(0,"searchVal",this.fv_searchVal);this.dst_find.setColumn(0,"searchSerNum",this.fv_searchSerNum);this.ff_commonFind();}}else if(_b=="selectHst"){this.dst_svclisthist.addColumn("chk");this.dst_svclisthist.filter("this.m2n_isNull(sv_Acnt_Num) != true && this.m2n_isNull(org_svc_Num) != true");if(this.dst_svclisthist.getRowCount()>0){this.dst_svclisthist.setColumn(0,"chk","1");}this.m2n_lookupPath("edt_cntGrp").set_text(this.dst_svclisthist.getRowCount());for(var _f=0;_f<this.dst_svclisthist.getRowCount();_f++ ){if(this.dst_svclisthist.getColumn(_f,"TERM_SVC_SPRAT_YN")=="1"){this.dst_svclisthist.setColumn(_f,"CUST_NM","<<분리고객>>");}}}else if(_b=="appendLst"){this.dst_searchAppend.addColumn("chk","STRING",1);this.fv_nGrdListPageNo_cdGrp++ ;this.m2n_appendDataset(this.dst_commSearch,this.dst_searchAppend);this.dst_commSearch.filter("this.m2n_isNull(nmBlAcntNum) != true && this.m2n_isNull(svAcntNum) != true && this.m2n_isNull(svcNumOrgi) != true");this.grd_custhist.set_enableredraw(true);this.util_setCnt(this.dst_commSearch.getRowCount(),0);if(this.dst_searchAppend.getRowCount()<this.fv_nPageSize_cdGrp){this.btn_fetch_grp.set_enable(false);}else{this.btn_fetch_grp.set_enable(true);}}};this.ff_commonFind=function(){var _b="";var _c="";var _d="";var _e="";var _f;var _g;this.fv_nPageNo_cdGrp=1;this.dst_find.setColumn(0,"nc_pageNo",this.fv_nPageNo_cdGrp);this.dst_find.setColumn(0,"nc_recordCountPerPage",this.fv_nPageSize_cdGrp);this.dst_find.setColumn(0,"process_cd","1");_g=new Array(4);_g[0]="CRCSRO00#retrieveMulti_PSCRCSRRU0103P";_c="find";_d="CRCsrLuAcntDto=dst_find";_e="dst_commSearch=CRCsrLuAcntListDto/CRCsrLuAcntDto";_f=new Array(-1);this.btn_fetch_grp.set_enable(false);this.grd_custhist.set_enableredraw(false);this.sysf_callSyncTR(_c,_g,_b,"",_d,_e,_f,"ff_callBack");};this.ff_commonPreFind=function(){var _b=0;var _c=0;if(this.Div_search.form.cob_search.index==-1){this.sysf_alert("XCSRW0001");this.Div_search.form.cob_search.setFocus();return false;}if(this.m2n_isNull(this.Div_search.form.edt_value)==true){this.sysf_alert("XCSRW0001");this.Div_search.form.edt_value.setFocus();return false;}if(this.Div_search.form.cob_search.value=="0ED3"&&this.Div_search.form.edt_value.value.length<2){this.sysf_alert("XPAYW3049");this.Div_search.form.edt_value.setFocus();return false;}return true;};this.Button_search_OnClick=function(_a,_b){if(this.Div_search.form.cob_search.value=="0ED7"&&this.dst_findhist.getColumn(0,"chkHist")=="1"){this.ff_commonSearchHist();}else{this.ff_commonSearch();}};this.ff_commonSearch=function(){var _b;if(!this.ff_commonPreFind()){return false;}this.m2n_lookupPath("searchconde")=this.Div_search.form.cob_search.value;this.m2n_lookupPath("searchvalue")=this.Div_search.form.edt_value.value;if(this.dst_find.getColumn(0,"searchVal")!=this.m2n_lookupPath("searchvalue")){this.dst_find.clearData();this.dst_find.addRow();this.dst_find.setColumn(0,"searchTyp",this.m2n_lookupPath("searchconde"));this.dst_find.setColumn(0,"searchVal",this.m2n_lookupPath("searchvalue"));}this.dst_commSearch.clearData();this.dst_svclisthist.clearData();this.ff_commonFind();};this.ff_commonSearchHist=function(){if(!this.ff_commonPreFindHist()){return false;}if(this.Div_search.form.cob_search.value=="0ED7"){this.dst_findhist.setColumn(0,"svcNum",this.Div_search.form.edt_value.value);this.dst_findhist.setColumn(0,"svAcntNum","");}else if(this.Div_search.form.cob_search.value=="0ED6"){this.dst_findhist.setColumn(0,"svcNum","");this.dst_findhist.setColumn(0,"svAcntNum",this.Div_search.form.edt_value.value);}this.dst_find.clearData();this.dst_commSearch.clearData();this.dst_svclisthist.clearData();this.ff_commonFindHist();};this.ff_commonPreFindHist=function(){if(this.utlf_isNull(this.Div_search.form.edt_value.value)){this.m2n_lookupPath("orhf_showMsg")("XCSRW0002",this.Div_search.form.edt_value);return false;}return true;};this.ff_commonFindHist=function(){this.btn_fetch_grp.set_enable(false);var _b="";var _c="";var _d="";var _e="";var _f;var _g;_g="bs.pay.BSPAYO11#psBSPAY10U0100_S001";_c="selectHst";_d="nc_input_fieldDs=dst_findhist";_e="dst_svclisthist=SVC_HST";this.sysf_ncCallAsyncTR(_c,_g,_b,"",_d,_e,"ff_callBack");};this.grd_custhist_OnCellDblClick=function(_a,_b){this.dst_commSearch.setColumn(_b.row,"chk",1);this.BTN_Apply_OnClick(_a);};this.BTN_Apply_OnClick=function(_a,_b){if(this.Div_search.form.cob_search.value=="0ED7"&&this.dst_findhist.getColumn(0,"chkHist")=="1"){if(this.dst_svclisthist.getCaseCount("chk==1")<1){this.sysf_alert("XSYSN0207");return;}this.ff_applyHist();}else{this.ff_apply();}};this.ff_apply=function(){if(this.dst_commSearch.getCaseCount("chk==1")<1){this.sysf_alert("XSYSN0207");return;}var _b=this.dst_commSearch.findRow("chk","1");var _c="";if(this.utlf_isNull(this.dst_commSearch.getColumn(this.m2n_lookupPath("tmpIndex"),"nmBlAcntNum"))){this.sysf_alert("XORHW2407");return;}else if(this.utlf_isNull(this.dst_commSearch.getColumn(this.m2n_lookupPath("tmpIndex"),"svAcntNum"))){this.sysf_alert("XORHW2408");return;}else if(this.utlf_isNull(this.dst_commSearch.getColumn(this.m2n_lookupPath("tmpIndex"),"svcNumOrgi"))){this.sysf_alert("XORHW2409");return;}var _d=new Array(-1);_d[0]=this.dst_commSearch.getColumn(_b,"nmAcntNum");_d[1]=this.dst_commSearch.getColumn(_b,"nmCuNm");_d[2]=this.dst_commSearch.getColumn(_b,"nmCtzCorpNum");_d[3]=this.dst_commSearch.getColumn(_b,"nmBlAcntNum");_d[4]=this.dst_commSearch.getColumn(_b,"svAcntNum");_d[5]=this.dst_commSearch.getColumn(_b,"svcNumOrgi");_d[6]=this.dst_commSearch.getColumn(_b,"svcScrbDt");_d[7]=this.dst_commSearch.getColumn(_b,"nmCustTypCd");_d[8]=this.dst_commSearch.getColumn(_b,"nmCustTypNm");_d[9]=this.dst_commSearch.getColumn(_b,"nmCustDtlTypCd");_d[10]=this.dst_commSearch.getColumn(_b,"nmCustDtlTypNm");_d[11]=this.dst_commSearch.getColumn(_b,"nmCustCreditGrCd");_d[12]=this.dst_commSearch.getColumn(_b,"nmWlfDcCd");_d[13]=this.dst_commSearch.getColumn(_b,"nmWlfDcNm");_d[14]=this.dst_commSearch.getColumn(_b,"nmSexCd");_d[15]=this.dst_commSearch.getColumn(_b,"nmSexNm");_d[16]=this.dst_commSearch.getColumn(_b,"nmSurtaxYn");_d[17]=this.dst_commSearch.getColumn(_b,"nmBrithDt");_d[18]=this.dst_commSearch.getColumn(_b,"blAcntTitleNm");_d[19]=this.dst_commSearch.getColumn(_b,"blAcntTypCd");_d[20]=this.dst_commSearch.getColumn(_b,"blAcntTypNm");_d[21]=this.dst_commSearch.getColumn(_b,"payMthdCd");_d[22]=this.dst_commSearch.getColumn(_b,"payMthdNm");_d[23]=this.dst_commSearch.getColumn(_b,"invCyClCd");_d[24]=this.dst_commSearch.getColumn(_b,"cuAcntNum");_d[25]=this.dst_commSearch.getColumn(_b,"corpNm");_d[26]=this.dst_commSearch.getColumn(_b,"ctzCorpNum");_d[27]=this.dst_commSearch.getColumn(_b,"custTypCd");_d[28]=this.dst_commSearch.getColumn(_b,"custTypNm");_d[29]=this.dst_commSearch.getColumn(_b,"custDtlTypCd");_d[30]=this.dst_commSearch.getColumn(_b,"custDtlTypNm");_d[31]=this.dst_commSearch.getColumn(_b,"custCreditGrCd");_d[32]=this.dst_commSearch.getColumn(_b,"wlfDcCd");_d[33]=this.dst_commSearch.getColumn(_b,"wlfDcNm");_d[34]=this.dst_commSearch.getColumn(_b,"sexCd");_d[35]=this.dst_commSearch.getColumn(_b,"sexNm");_d[36]=this.dst_commSearch.getColumn(_b,"surtaxYn");_d[37]=this.dst_commSearch.getColumn(_b,"birthDt");_d[38]=this.dst_commSearch.getColumn(_b,"svAcntStCd");_d[39]=this.dst_commSearch.getColumn(_b,"svAcntStNm");_d[40]=this.dst_commSearch.getColumn(_b,"svAcntStChgCd");_d[41]=this.dst_commSearch.getColumn(_b,"svAcntStChgNm");_d[42]=this.dst_commSearch.getColumn(_b,"svcChgRsnCd");_d[43]=this.dst_commSearch.getColumn(_b,"svcChgRsnNm");_d[44]=this.dst_commSearch.getColumn(_b,"svcTypCd");_d[45]=this.dst_commSearch.getColumn(_b,"svcTypNm");_d[46]=this.dst_commSearch.getColumn(_b,"svcTermDt");_d[47]=this.dst_commSearch.getColumn(_b,"feeProdId");_d[48]=this.dst_commSearch.getColumn(_b,"eqpMdlCd");_d[49]=this.dst_commSearch.getColumn(_b,"eqpMdlNm");_d[50]=this.dst_commSearch.getColumn(_b,"eqpSerNum");_d[51]=this.dst_commSearch.getColumn(_b,"usimMdlCd");_d[52]=this.dst_commSearch.getColumn(_b,"usimMdlNm");_d[53]=this.dst_commSearch.getColumn(_b,"usimSerNum");_d[54]=this.dst_commSearch.getColumn(_b,"invCyClNm");_d[55]=this.dst_commSearch.getColumn(_b,"svcCd");_d[56]=this.dst_commSearch.getColumn(_b,"svcNm");_d[57]=this.dst_commSearch.getColumn(_b,"nmCtzCorpNum");_d[58]=this.dst_commSearch.getColumn(_b,"nmblAcntTypCd");_d[59]=this.dst_commSearch.getColumn(_b,"__mi_authYn");_d[60]=this.dst_commSearch.getColumn(_b,"stayExpirDt");_d[61]=this.dst_commSearch.getColumn(_b,"custNumIdntClCd");_d[62]=this.Div_search.form.cob_search.value;_d[63]=this.dst_commSearch.getColumn(_b,"nmCtzCorpSerNum");_d[64]=this.dst_commSearch.getColumn(_b,"ctzCorpSerNum");_d[65]=this.dst_commSearch.getColumn(_b,"enc_ctz_corp_num");var _e="";for(i=0;i<this.m2n_length(_d);i++ ){if(i>0){_e+=",";}_e+=nexacro.wrapQuote(this.m2n_trim(_d[i]));}this.m2n_close(_e);};this.BTN_Close_OnClick=function(_a,_b){this.m2n_close("");};this.Div_search_cob_search_OnChanged=function(_a,_b){this.ff_SrchCond(_b.postvalue);};this.Div_search_chkHist_OnClick=function(_a,_b){if(_a.value=="1"){if(this.grd_svcNumHist.visible==false){this.grd_custhist.set_visible(false);this.grd_svcNumHist.set_visible(true);}}else{if(this.grd_custhist.visible==false){this.grd_custhist.set_visible(true);this.grd_svcNumHist.set_visible(false);}}};this.ff_applyHist=function(){var _b=this.dst_svclisthist.findRow("CHK","1");var _c="";if(this.dst_svclisthist.getCaseCount("CHK==1")<1){this.sysf_alert("XSYSN0207");return;}if(this.dst_svclisthist.getColumn(_b,"TERM_SVC_SPRAT_YN")=="1"){this.sysf_alert("XOSRN8039","{0}","해지 후 분리된 서비스입니다. 조회할 수");return;}var _d=new Array(-1);_d[0]=this.dst_svclisthist.getColumn(_b,"CU_ACNT_NUM");_d[1]=this.dst_svclisthist.getColumn(_b,"CUST_NM");_d[2]=this.dst_svclisthist.getColumn(_b,"CTZ_CORP_NUM");_d[3]=this.dst_svclisthist.getColumn(_b,"BL_ACNT_NUM");_d[4]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_NUM");_d[5]=this.dst_svclisthist.getColumn(_b,"ORG_SVC_NUM");_d[6]=this.dst_svclisthist.getColumn(_b,"CHG_DT");_d[7]="";_d[8]="";_d[9]="";_d[10]="";_d[11]="";_d[12]="";_d[13]="";_d[14]="";_d[15]="";_d[16]="";_d[17]="";_d[18]="";_d[19]="";_d[20]="";_d[21]="";_d[22]="";_d[23]="";_d[24]="";_d[25]="";_d[26]="";_d[27]="";_d[28]="";_d[29]="";_d[30]="";_d[31]="";_d[32]="";_d[33]="";_d[34]="";_d[35]="";_d[36]="";_d[37]="";_d[38]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_CHG_CD");_d[39]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_CHG_NM");_d[40]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_CHG_CD");_d[41]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_CHG_NM");_d[42]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_CHG_RSN_CD");_d[43]=this.dst_svclisthist.getColumn(_b,"SV_ACNT_CHG_RSN_NM");_d[44]="";_d[45]="";_d[46]="";_d[47]="";_d[48]="";_d[49]="";_d[50]="";_d[51]="";_d[52]="";_d[53]="";_d[54]="";_d[55]=this.dst_svclisthist.getColumn(_b,"SVC_CD");_d[56]="";_d[57]="";_d[58]="";_d[59]="";_d[60]="";_d[61]="";_d[62]=this.m2n_lookupPath("div_searchArea").cob_Search.value;_d[63]=this.dst_svclisthist.getColumn(_b,"CTZ_CORP_SER_NUM");_d[64]="";_d[65]=this.dst_svclisthist.getColumn(_b,"ENC_CTZ_CORP_NUM");var _e="";for(i=0;i<this.m2n_length(_d);i++ ){if(i>0){_e+=",";}_e+=nexacro.wrapQuote(this.m2n_trim(_d[i]));}this.m2n_close(_e);};this.grd_svcNumHist_OnCellDblClick=function(_a,_b){this.dst_svclisthist.setColumn(_b.row,"chk",1);this.BTN_Apply_OnClick(_a);};this.PAY00U0000P_OnLoadCompleted=function(_a,_b){var _c=new Array(-1);var _d="getCob";_c[0]="dst_cob,0ED";this.dst_commSearch.clearData();this.sysf_setCommonCombo(_d,this.fv_strScreenName,_c,"ff_callBack");this.Div_search.form.edt_value.setFocus();};this.PAY00U0000P_OnKeyDown=function(_a,_b){if(_b.keycode==13){if(this.m2n_getType(_b.fromreferenceobject)=="Button"){_b.fromreferenceobject.Click();}else if(_b.fromreferenceobject.parent.id=="Div_search"){this.Button_search_OnClick();}}};this.dst_svclisthist_OnRowPosChanged=function(_a,_b){if(_b.oldrow>-1){_a.setColumn(_b.oldrow,"chk",0);}_a.setColumn(_b.newrow,"chk",1);};this.util_setCnt=function(_b,_c){this.m2n_lookupPath("edt_cntGrp").set_text(_b);};this.ff_setFetchCtrl=function(){if(this.fv_nCurCnt_cdGrp==0){this.fv_nTotCnt_cdGrp=0;}var _b=parseInt(this.dst_commSearch.rowcount);var _c=parseInt(this.dst_fetchInfo.getColumn(0,"totalCnt"));_c-=this.dst_commSearch.getRowCountNF()-_b;this.util_setCnt(_b,_c);if((_b-_c)<0){this.btn_fetch_grp.set_enable(true);}else{this.btn_fetch_grp.set_enable(false);}};this.div_grp_btn_fetch_grp_OnClick=function(_a,_b){this.ff_setFetchLst(_a);};this.ff_setFetchLst=function(_a){var _b="";var _c="";var _d="";var _e="";var _f;var _g;this.fv_nPageNo_cdGrp++ ;this.dst_find.setColumn(0,"nc_pageNo",this.fv_nPageNo_cdGrp);this.dst_find.setColumn(0,"nc_recordCountPerPage",this.fv_nPageSize_cdGrp);_g=new Array(4);_g[0]="CRCSRO00#retrieveMulti_PSCRCSRRU0103P";_c="appendLst";_d="CRCsrLuAcntDto=dst_find";_e="dst_searchAppend=CRCsrLuAcntListDto/CRCsrLuAcntDtoAppend"+" dst_fetchInfo=CRCsrLuAcntListDto/fetchInfo";_f=new Array(-1);this.Div_search.form.Button_search.set_enable(false);this.grd_custhist.set_enableredraw(false);this.sysf_callSyncTR(_c,_g,_b,"",_d,_e,_f,"ff_callBack");};this.ff_SrchCond=function(_b){this.m2n_lookupPath("orhf_searchCondition")(_b,this.Div_search.form.edt_value);if(_b=="0ED7"){this.Div_search.form.chkHist.set_visible(true);this.Div_search.form.btn_find.set_visible(false);}else{this.Div_search.form.chkHist.set_visible(false);this.dst_findhist.setColumn(0,"chkHist","0");if(this.grd_custhist.visible==false){this.grd_custhist.set_visible(true);this.grd_svcNumHist.set_visible(false);}if(_b=="0ED1"||_b=="0EDD"){this.Div_search.form.btn_find.set_visible(true);}else{this.Div_search.form.btn_find.set_visible(false);}}};this.div_custInfo_btn_find_OnClick=function(_a,_b){var _c=this.sysf_openDialog("CR_CSR","CSR11U0500P","",830,400,"");if(this.m2n_length(_c)>0){var _d=this.Div_search.form.cob_search.value;var _e;if(_d=="0ED1"){_e=_c[0];}else if(_d=="0EDD"){_e=_c[2];}else{return;}this.Div_search.form.edt_value.set_value(_e);this.dst_find.clearData();this.dst_find.addRow();this.dst_find.setColumn(0,"searchSerNum",_c[1]);this.dst_find.setColumn(0,"searchVal",_e);this.dst_find.setColumn(0,"searchTyp",_d);if(this.Div_search.form.Button_search.enable){this.Div_search.form.Button_search.click();}}};this.dst_commSearch_OnRowPosChanged=function(_a,_b){if(_b.oldrow>-1){_a.setColumn(_b.oldrow,"chk",0);}_a.setColumn(_b.newrow,"chk",1);};});this.on_initEvent=function(){this.addEventHandler("onkeydown",this.PAY00U0000P_OnKeyDown,this);this.addEventHandler("onload",this.PAY00U0000P_OnLoadCompleted,this);this.grd_svcNumHist.addEventHandler("oncelldblclick",this.grd_svcNumHist_OnCellDblClick,this);this.grd_custhist.addEventHandler("oncelldblclick",this.grd_custhist_OnCellDblClick,this);this.Div_search.form.Button_search.addEventHandler("onclick",this.Button_search_OnClick,this);this.Div_search.form.cob_search.addEventHandler("onitemchanged",this.Div_search_cob_search_OnChanged,this);this.Div_search.form.chkHist.addEventHandler("onclick",this.Div_search_chkHist_OnClick,this);this.Div_search.form.btn_find.addEventHandler("onclick",this.div_custInfo_btn_find_OnClick,this);this.BTN_Apply.addEventHandler("onclick",this.BTN_Apply_OnClick,this);this.BTN_Close.addEventHandler("onclick",this.BTN_Close_OnClick,this);this.btn_fetch_grp.addEventHandler("onclick",this.div_grp_btn_fetch_grp_OnClick,this);this.dst_svclisthist.addEventHandler("onrowposchanged",this.dst_svclisthist_OnRowPosChanged,this);this.dst_commSearch.addEventHandler("onrowposchanged",this.dst_commSearch_OnRowPosChanged,this);};this.loadIncludeScript("PAY00U0000P.xfdl");this.loadPreloadList();_a=null;};})();
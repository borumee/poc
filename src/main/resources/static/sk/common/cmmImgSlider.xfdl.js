(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("slideimage");if(Form==this.constructor){this._setFormPosition(860,204);}_a=new Dataset("dsImageList",this);_a._setContents("<ColumnInfo><Column id=\"img\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"img\">imagerc::ImgSlider/circle-5090539_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/eye-4063134_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/fantasy-2801105_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/fantasy-2861815_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/fiber-optic-2749588_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/network-3148727_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/raisting-satellite-1010862_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/robot-3010309_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/skyscrapers-4168483_1280.jpg</Col></Row><Row><Col id=\"img\">imagerc::ImgSlider/tower-820001_1280.jpg</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Button("btnPrev","0","0","40","40",null,null,null,null,null,null,this);_a.set_taborder("1");_a.set_text("◀");_a.set_opacity("0.8");this.addChild(_a.name,_a);_a=new Div("divBanner","0","0","860","204",null,null,null,null,null,null,this);_a.set_taborder("0");_a.set_text("");this.addChild(_a.name,_a);_a=new Button("btnNext","820","0","40","40",null,null,null,null,null,null,this);_a.set_taborder("2");_a.set_text("▶");_a.set_opacity("0.8");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.divBanner.form,function(_b){});this.divBanner.form.addLayout(_a.name,_a);_a=new Layout("default","",860,204,this,function(_b){});_a.set_mobileorientation("landscape");_a.set_type("horizontal");_a.set_flexmainaxisalign("spacebetween");_a.set_flexcrossaxisalign("center");this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("cmmImgSlider.xfdl",function(){this._basewidth;this._imageshowcount;this._scrollpositiontype;this.imgwidth=252;this.imghgap=10;this.imgvgap=10;this.autoslide=true;this.autoslidecycle=2000;this.slideimage_onload=function(_a,_b){this.gfnInitSlideImage(this.divBanner,this.dsImageList);};this.gfnInitSlideImage=function(_b,_c){var _d;_b.set_formscrollbartype("none");_b.addEventHandler('onhscroll',this.gfnBaseDiv_onhscroll,this);this.gfnSetImgBaseWidthAuto(this.getOffsetWidth());this.gfnClearSlideImage(_b);this.gfnCreateSlideImageAll(_b,_c);_d=this.gfnCreateSlideImageAni(_b);_b.stepIdx=0;_b.targetAni=_d;_b.form.resetScroll();if(this.autoslide){this.addEventHandler('ontimer',this.gfnOnTimer,this);this.setTimer(0,this.autoslidecycle);}};this.gfnOnTimer=function(_a,_b){if(_b.timerid==0){this.btnNext.click();}};this.gfnGetImgCountAuto=function(_b){var _c=this.divBanner.getOffsetWidth();var _d=this.imgwidth;return _d/_c;};this.gfnClearSlideImage=function(_b){var _c;var _d=_b.form.components;var _e=_d.length;var _f;for(_c=_e -1;_c>=0;_c-- ){_b.form.removeChild(_d[_c].name);}_b.form.resetScroll();};this.gfnCreateSlideImageAll=function(_b,_c){var _d;var _e=_c.rowcount;var _f=0;var _g=this.imgvgap;var _h=this.imgvgap;var _i=this.imgwidth;var _j=_b.getOffsetHeight();var _k;var _l;for(_d=0;_d<_e;_d++ ){_l=_c.getColumn(_d,"img");_k=new ImageViewer("imgView"+_d,_f,_g,_i,null,null,_h);_b.form.addChild(_k.name,_k);_k.show();_k.set_image(_l);_k.set_stretch("fit");_k.set_borderRadius('10px');_f=_k.getOffsetLeft()+_k.getOffsetWidth()+this.imghgap;}};this.gfnCreateSlideImage=function(_b,_c,_d){var _e;var _f=_c.rowcount;var _g=0;var _h=0;var _i=this.imgwidth;var _j=_b.getOffsetHeight();var _k;var _l;_l=_c.getColumn(idx,"img");_k=new ImageViewer("imgView"+_e,_g,_h,_i,_j,null,null);_b.form.addChild(_k.name,_k);_k.show();_k.set_image(_l);_k.set_stretch("fit");_g=_k.getOffsetLeft()+_k.getOffsetWidth()+this.imghgap;};this.gfnCreateSlideImageAni=function(_b){var _c;if(this.isValidObject(_b.name+"_ani")==true){_c=this.all[_b.name+"_ani"];}else{_c=new nexacro.Animation(_b.name+"_ani",this);this.addChild(_c.name,_c);_c.set_duration(500);_c.set_easing("easeOutCubic");_c.addTarget("AniItem00",_b,"aniIdx:100");_c.targetComp=_b;_c.addEventHandler("onrun",this.gfnSlideImage_onrun,this);}_b.aniIdx=0;return _c;};this.gfnSlideImage_onrun=function(_a,_b){this.gfnRunSlideImage(_a.targetComp);};this.gfnRunSlideImage=function(_b){var _c=_b.startScrollPos+(_b.changeScrollPos* (_b.aniIdx/100));_b.form.scrollTo(_c,0);};this.gfnSetSlideImage=function(_b,_c){var _d=_b.form.components["imgView"+_c];var _e=_b.form.getHScrollPos();var _f=nexacro.toNumber(_d.getOffsetLeft());_b.startScrollPos=_e;_b.changeScrollPos=_f-_e;_b.aniIdx=0;_b.stepIdx=_c;_b.targetAni.play();};this.btnPrev_onclick=function(_a,_b){var _c=this.divBanner.form.components.length;if(this._scrollpositiontype=='firstover'){this.gfnSetSlideImage(this.divBanner,_c -1);}else if(this.divBanner.stepIdx>0){this.gfnSetSlideImage(this.divBanner,this.divBanner.stepIdx-1);}};this.btnNext_onclick=function(_a,_b){var _c=this.divBanner.form.components.length;if(this._scrollpositiontype=='lastover'){this.gfnSetSlideImage(this.divBanner,0);}else if(this.divBanner.stepIdx+1<_c){this.gfnSetSlideImage(this.divBanner,this.divBanner.stepIdx+1);}};this.gfnBaseDiv_onhscroll=function(_a,_b){this._scrollpositiontype=_b.type;};this.slideimage_onsize=function(_a,_b){this.gfnSetImgBaseWidthAuto(_b.cx);};this.gfnSetImgBaseWidthAuto=function(_b){let _c=_b;let _d=this.btnPrev.width;let _e=this.btnNext.width;let _f=this.imgwidth;let _g=this.imghgap;_c-=_d;_c-=_e;let _h=_f;while(_h<_c){_h+=_g;_h+=_f;}_h-=_g;_h-=_f;this.divBanner.set_width(_h+2);};});this.on_initEvent=function(){this.addEventHandler("onload",this.slideimage_onload,this);this.addEventHandler("onsize",this.slideimage_onsize,this);this.btnPrev.addEventHandler("onclick",this.btnPrev_onclick,this);this.btnNext.addEventHandler("onclick",this.btnNext_onclick,this);};this.loadIncludeScript("cmmImgSlider.xfdl");this.loadPreloadList();_a=null;};})();
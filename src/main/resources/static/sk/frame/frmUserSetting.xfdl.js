(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("Temp19");this.set_titletext("사용자설정 팝업");if(Form==this.constructor){this._setFormPosition(320,230);}_a=new Dataset("dsTheme",this);_a._setContents("<ColumnInfo><Column id=\"PASSWORD\" type=\"STRING\" size=\"256\"/><Column id=\"THEME_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dsCond",this);_a._setContents("<ColumnInfo><Column id=\"USER_ID\" type=\"STRING\" size=\"256\"/><Column id=\"CUR_PASSWORD\" type=\"STRING\" size=\"256\"/><Column id=\"NEW_PASSWORD\" type=\"STRING\" size=\"256\"/><Column id=\"CONFIRM_PASSWORD\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"CONFIRM_PASSWORD\"/><Col id=\"NEW_PASSWORD\"/><Col id=\"CUR_PASSWORD\"/><Col id=\"USER_ID\"/></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("dsUser",this);_a._setContents("<ColumnInfo><Column id=\"PASSWORD\" type=\"STRING\" size=\"256\"/><Column id=\"THEME_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Div("divTheme","30","62","260","100",null,null,null,null,null,null,this);_a.set_taborder("4");this.addChild(_a.name,_a);_a=new Static("sta00","30","8","75","55",null,null,null,null,null,null,this.divTheme.form);_a.set_taborder("0");_a.set_cssclass("sta_WF_Light");this.divTheme.addChild(_a.name,_a);_a=new Static("sta00_00","151","8","75","55",null,null,null,null,null,null,this.divTheme.form);_a.set_taborder("1");_a.set_cssclass("sta_WF_Dark");this.divTheme.addChild(_a.name,_a);_a=new Radio("rdoTheme","27","67","231","21",null,null,null,null,null,null,this.divTheme.form);_a.set_taborder("2");_a.set_codecolumn("codecolumn");_a.set_datacolumn("datacolumn");_a.set_direction("vertical");var _b=new nexacro.NormalDataset("divTheme_form_rdoTheme_innerdataset",_a);_b._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\">0</Col><Col id=\"datacolumn\">라이트모드</Col></Row><Row><Col id=\"codecolumn\">1</Col><Col id=\"datacolumn\">다크모드</Col></Row></Rows>");_a.set_innerdataset(_b);_a.set_text("라이트모드");_a.set_value("0");_a.set_index("0");this.divTheme.addChild(_a.name,_a);_a=new Div("divPassword","330","62","260","100",null,null,null,null,null,null,this);_a.set_taborder("5");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Static("sta03","0","0",null,"34","0",null,null,null,null,null,this.divPassword.form);_a.set_taborder("0");_a.set_cssclass("sta_WF_LabelBg");this.divPassword.addChild(_a.name,_a);_a=new Edit("edtCurPassword","125","5",null,"24","5",null,null,null,null,null,this.divPassword.form);_a.set_taborder("1");_a.set_password("true");this.divPassword.addChild(_a.name,_a);_a=new Static("sta03_00","0","33",null,"34","0",null,null,null,null,null,this.divPassword.form);_a.set_taborder("2");_a.set_cssclass("sta_WF_LabelBg");_a.set_text("");this.divPassword.addChild(_a.name,_a);_a=new Static("sta02_00","-4","33","125","34",null,null,null,null,null,null,this.divPassword.form);_a.set_taborder("3");_a.set_text("새 비밀번호");_a.set_cssclass("sta_WF_Label");this.divPassword.addChild(_a.name,_a);_a=new Edit("edtNewPassword","125","38",null,"24","5",null,null,null,null,null,this.divPassword.form);_a.set_taborder("4");_a.set_password("true");this.divPassword.addChild(_a.name,_a);_a=new Static("sta03_00_00","0","66",null,"34","0",null,null,null,null,null,this.divPassword.form);_a.set_taborder("5");_a.set_cssclass("sta_WF_LabelBg");this.divPassword.addChild(_a.name,_a);_a=new Static("sta02_00_00","-4","66","125","34",null,null,null,null,null,null,this.divPassword.form);_a.set_taborder("6");_a.set_text("새 비밀번호 확인");_a.set_cssclass("sta_WF_Label");this.divPassword.addChild(_a.name,_a);_a=new Edit("edtConfirmPassword","125","71",null,"24","5",null,null,null,null,null,this.divPassword.form);_a.set_taborder("7");_a.set_password("true");this.divPassword.addChild(_a.name,_a);_a=new Static("sta02","-4","0","125","34",null,null,null,null,null,null,this.divPassword.form);_a.set_taborder("8");_a.set_text("현재 비밀번호");_a.set_cssclass("sta_WF_Label");this.divPassword.addChild(_a.name,_a);_a=new Button("btnConfirm",null,null,"50","28","25","20",null,null,null,null,this);_a.set_taborder("0");_a.set_text("저장");_a.set_fittocontents("width");_a.set_cssclass("btn_WF_Crud");this.addChild(_a.name,_a);_a=new Button("btnClose",null,null,"50","28","78","20",null,null,null,null,this);_a.set_taborder("1");_a.set_text("취소");_a.set_fittocontents("width");this.addChild(_a.name,_a);_a=new Button("btnTheme","30","20","130","32",null,null,null,null,null,null,this);_a.set_taborder("2");_a.set_text("테마 설정");_a.set_cssclass("btn_WF_TabS");this.addChild(_a.name,_a);_a=new Button("btnPassword","160","20","130","32",null,null,null,null,null,null,this);_a.set_taborder("3");_a.set_text("비밀번호 변경");_a.set_cssclass("btn_WF_Tab");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.divTheme.form,function(_c){});this.divTheme.form.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.divPassword.form,function(_c){});this.divPassword.form.addLayout(_a.name,_a);_a=new Layout("default","",320,230,this,function(_c){});_a.set_mobileorientation("landscape");this.addLayout(_a.name,_a);_a=new BindItem("item0","divPassword.form.edtCurPassword","value","dsCond","CUR_PASSWORD");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item1","divPassword.form.edtNewPassword","value","dsCond","NEW_PASSWORD");this.addChild(_a.name,_a);_a.bind();_a=new BindItem("item2","divPassword.form.edtConfirmPassword","value","dsCond","CONFIRM_PASSWORD");this.addChild(_a.name,_a);_a.bind();};this.loadPreloadList=function(){};this.registerScript("frmUserSetting.xfdl",function(){this.objApp=nexacro.getApplication();this.form_onload=function(_a,_b){this.gfnFormOnload(_a,_b);this.fnInit();};this.fnSearch=function(){var _b="searchUserSetting";var _c="searchUserSetting.do";var _d="";var _e="dsTheme=dsList";var _f="";var _g="fnCallback";this.gfnTransaction(_b,_c,_d,_e,_f,_g);};this.fnSaveUserSetting=function(){var _b=this.divTheme.form.rdoTheme.value;if(_b==0){this.dsTheme.setColumn(0,"THEME_ID","01");}else{this.dsTheme.setColumn(0,"THEME_ID","02");}var _c="saveUserSetting";var _d="saveUserSetting.do";var _e="dsList=dsTheme:U";var _f="";var _g="";var _h="fnCallback";this.gfnTransaction(_c,_d,_e,_f,_g,_h);};this.fnCallback=function(_b,_c,_d){switch(_b){case "searchUserSetting":var _e=this.dsTheme.getColumn(0,"THEME_ID");if(!this.gfnIsNull(_e)){if(_e=="02"){this.divTheme.form.rdoTheme.set_value(1);nexacro.loadStyle("xcssrc::darkMode.xcss");}else{this.divTheme.form.rdoTheme.set_value(0);nexacro.loadStyle("xcssrc::lightMode.xcss");}}break;case "saveUserSetting":if(this.divTheme.form.rdoTheme.value=="1"){nexacro.loadStyle("xcssrc::darkMode.xcss");}else{nexacro.loadStyle("xcssrc::lightMode.xcss");}this.close();break;case "searchCurPassword":if(_c==-200){this.gfnAlert("msg.err.tran",[_d]);return;}else if(_c==0){this.fnSavePassword();}break;case "saveUserPassword":this.gfnAlert("msg.save.success","","msg.save.success","fnMsgCallback");this.close();break;default:break;}};this.fnMsgCallback=function(_b,_c){if(_b=="confirm.general"){if(_c==true){this.fnSaveUserSetting();}}};this.fnInit=function(){this.dsCond.setColumn(0,"USER_ID",this.objApp.gdsUser.getColumn(0,"USER_ID"));};this.fnSavePassword=function(){var _b="saveUserPassword";var _c="saveUserPassword.do";var _d="dsCond=dsCond";var _e="";var _f="";var _g="fnCallback";this.gfnTransaction(_b,_c,_d,_e,_f,_g);};this.btnClose_onclick=function(_a,_b){this.gfnClosePopup();};this.btnConfirm_onclick=function(_a,_b){return;if(this.divTheme.visible){}else{this.gfnClearValidation(this.dsCond);this.gfnSetValidation(this.dsCond,"CUR_PASSWORD","현재 비밀번호","required");this.gfnSetValidation(this.dsCond,"NEW_PASSWORD","새 비밀번호","required");this.gfnSetValidation(this.dsCond,"CONFIRM_PASSWORD","새 비밀번호 확인","required");if(this.divPassword.form.edtNewPassword.value!=this.divPassword.form.edtConfirmPassword.value){this.gfnAlert("msg.err.validator.password.chnge.dfrnt");this.divPassword.form.edtConfirmPassword.setFocus();return;}if(this.gfnValidation(this.dsCond,"A")==false){return;}var _c="searchCurPassword";var _d="searchCurPassword.do";var _e="dsCond=dsCond";var _f="dsUser=dsLoginUser";var _g="";var _h="fnCallback";this.gfnTransaction(_c,_d,_e,_f,_g,_h);}};this.grdList_oncelldblclick=function(_a,_b){var _c=this.dsGrid.rowposition;var _d=this.dsGrid.getColumn(_c,"ID");var _e=this.dsGrid.getColumn(_c,"NAME");var _f={rtnId:_d,rtnName:_e};this.gfnClosePopup(JSON.stringify(_f));};this.divSearch_btnSearch_onclick=function(_a,_b){this.fnSearch();};this.divSearch_edtName_onkeyup=function(_a,_b){if(_b.keycode==13){this.fnSearch();}};this.div00_rdo00_onitemchanged=function(_a,_b){var _c="";if(_b.postvalue=="0"){_c="01";}else{_c="02";}this.dsTheme.setColumn(0,"THEME_ID",_c);};this.btnTheme_onclick=function(_a,_b){this.btnTheme.set_cssclass("btn_WF_TabS");this.btnPassword.set_cssclass("btn_WF_Tab");this.divTheme.set_visible(true);this.divPassword.set_visible(false);};this.btnPassword_onclick=function(_a,_b){this.btnTheme.set_cssclass("btn_WF_Tab");this.btnPassword.set_cssclass("btn_WF_TabS");this.divTheme.set_visible(false);this.divPassword.set_left(30);this.divPassword.set_visible(true);};});this.on_initEvent=function(){this.addEventHandler("onload",this.form_onload,this);this.divTheme.form.rdoTheme.addEventHandler("onitemchanged",this.div00_rdo00_onitemchanged,this);this.btnConfirm.addEventHandler("onclick",this.btnConfirm_onclick,this);this.btnClose.addEventHandler("onclick",this.btnClose_onclick,this);this.btnTheme.addEventHandler("onclick",this.btnTheme_onclick,this);this.btnPassword.addEventHandler("onclick",this.btnPassword_onclick,this);this.dsTheme.addEventHandler("canrowposchange",this.dsList_canrowposchange,this);this.dsTheme.addEventHandler("cancolumnchange",this.dsList_cancolumnchange,this);this.dsUser.addEventHandler("canrowposchange",this.dsList_canrowposchange,this);this.dsUser.addEventHandler("cancolumnchange",this.dsList_cancolumnchange,this);};this.loadIncludeScript("frmUserSetting.xfdl");this.loadPreloadList();_a=null;};})();
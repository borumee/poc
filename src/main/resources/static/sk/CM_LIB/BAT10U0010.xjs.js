(function(){return function(_a){var _b;this.addIncludeScript(_a,"LIB::SYSSVC0010.xjs");this.registerScript(_a,function(){this.executeIncludeScript("LIB::SYSSVC0010.xjs");this.fv_SCHEDULER_SERVICE="http://localhost:7001/job_scheduler/";this.fv_SCHEDULER_STATE_EVENT_ID=0;this.fv_SCHEDULER_STATE_CHECK_INTERVAL=60000;this.fv_SCHEDULER_PREV_STATE="";this.batf_getSchedulerService=function(){var _c=this.gf_GetGlobalValue("g_SchedulerServerPath");if(this.m2n_isNull(_c)==true||this.m2n_isNull(_c)==true){_c=this.fv_SCHEDULER_SERVICE;}return _c;};this.batf_callSyncTR=function(_c,_d,_e,_f,_g,_h){var _i=this.batf_getSchedulerService()+_d;nexacro.getApplication().nexacro.getApplication().http.Sync=true;this.m2n_transaction(_c,_i,_e,_f,_g,_h);nexacro.getApplication().nexacro.getApplication().http.Sync=false;};this.batf_callAsyncTR=function(_c,_d,_e,_f,_g,_h){var _i=this.batf_getSchedulerService()+_d;this.m2n_transaction(_c,_i,_e,_f,_g,_h);};this.batf_showMessage=function(_c,_d){this._sysf_showClientMessageWin(_c,_d,"Warning","A");};this.batf_controlBySchedulerState_Init=function(_c,_d){this.m2n_create(this,"Dataset","_ds_scheduler_state");this.m2n_lookupPath("_ds_scheduler_state").addColumn("schedulerName","STRING");this.m2n_lookupPath("_ds_scheduler_state").addColumn("state","STRING");this.batf_controlBySchedulerState_StartTimer(_c,_d);};this.batf_controlBySchedulerState_StartTimer=function(_c,_d){this.m2n_lookupPath("_ds_scheduler_state").clearData();var _e="getSchedulerState";var _f="GetSchedulerState.do";var _g="";var _h="_ds_scheduler_state=ds_state";var _i="";var _j="";this.batf_callSyncTR(_e,_f,_g,_h,_i,_j);var _k=this.m2n_lookupPath("_ds_scheduler_state").getColumn(0,"schedulerName");var _l=this.m2n_lookupPath("_ds_scheduler_state").getColumn(0,"state");if(this.fv_SCHEDULER_PREV_STATE!=_l){if(_l=="STOPPED"||_l=="PAUSED"){_c.set_value("Scheduler was paused");_c.set_cssclass("st_Caution");for(var _m=0;_m<_d.length;_m++ ){this.m2n_lookupPath("sysf_setEnable")(_d[_m],false,true);}}else if(_l=="STARTED"){_c.set_value("Scheduler was started");_c.set_cssclass("st_Info");for(var _m=0;_m<_d.length;_m++ ){this.m2n_lookupPath("sysf_setEnable")(_d[_m],true,true);}}}this.fv_SCHEDULER_PREV_STATE=_l;};});this.loadIncludeScript(_a);_b=null;};})();
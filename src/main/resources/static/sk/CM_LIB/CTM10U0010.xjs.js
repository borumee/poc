(function(){return function(_a){var _b;this.addIncludeScript(_a,"LIB::SYSSVC0010.xjs");this.registerScript(_a,function(){this.executeIncludeScript("LIB::SYSSVC0010.xjs");this.utlf_validateDateRange=function(_c,_d){if(this.m2n_length(_c)==0||this.m2n_length(_d)==0){return true;}if(_c>_d){return false;}return true;};this.utlf_checkMandatoryObj=function(_c,_d){var _b;for(var _e=0;_e<this.m2n_length(_d);_e++ ){_b=this.m2n_getChild(_c,_d[_e]);if((this.m2n_isNull(_b)!=true&&_b.enable&&this.m2n_lookupPath("utlf_isNull")(_b.value))||(this.m2n_getType(_b)=="Combo"&&_b.index<0)){this.sysf_alert("XCOMW0005");_b.setFocus();return false;}}return true;};this.utlf_countCheckItem=function(_c){var _d=0;var _e=0;for(_d=0;_d<_c.getRowCount();_d++ ){if(_c.getColumn(_d,"chk")=="1"){_e+=1;}}return _e;};this.utlf_precheckFormObject=function(_c){};this.utlf_searchFormObject=function(_c,_d,_e){var _b;var _f=null;for(var _g=0;_g<this.m2n_length(_c.all);_g++ ){_b=_c.all[_g];if(this.m2n_getType(_b)==_d&&this.m2n_toUpper(_b.id)==this.m2n_toUpper(_e)){return _b;}else if(this.m2n_isComposite(_b)&&(this.m2n_getType(_b)=="Tab"||this.m2n_getType(_b)=="TabPage"||this.m2n_getType(_b)=="Div")){_f=this.utlf_searchFormObject(_b,_d,_e);if(this.m2n_isNull(_f)!=true){return _f;}}}return null;};this.utlf_searchObjectById=function(_c,_d){if(this.m2n_length(this.m2n_trim(_d))<=0){return null;}for(var _e=0;_e<this.m2n_length(_c);_e++ ){if(this.m2n_isValidObject(_c[_e])){if(_c[_e].id==_d){return _c[_e];}}}return null;};this.utlf_scrnItmProc=function(){var _c=0;var _d=0;var _e=null;var _f=null;var _g=null;var _h=this.utlf_getFormId(this);while(true){_d=nexacro.getApplication().GDS_SCRNCTRL.findRow("pgmId",_h,_c);if(_d==-1){break;}_c=_d+1;_e=nexacro.getApplication().GDS_SCRNCTRL.getColumn(_d,"scrnItmTypCd");_f=nexacro.getApplication().GDS_SCRNCTRL.getColumn(_d,"scrnItmNm");_g=nexacro.getApplication().GDS_SCRNCTRL.getColumn(_d,"scrnItmAuthAplyCd");this.m2n_lookupPath("useYn")=nexacro.getApplication().GDS_SCRNCTRL.getColumn(_d,"usableYn");this.utlf_ConstrainObject(_e,_f,_g,this.m2n_lookupPath("useYn"));}};this._utlf_GetCompTypeCd=function(_c){var _d;if(_c=="Button"){_d="05GBTN";}else if(_c=="Combo"){_d="05GCOM";}else if(_c=="Edit"){_d="05GEDT";}else if(_c=="NumEdit"){_d="05GNET";}else if(_c=="CurEdit"){_d="05GCET";}else if(_c=="Radio"){_d="05GRDO";}else if(_c=="List"){_d="05GLIS";}else if(_c=="Calendar"){_d="05GCAL";}else{_d=null;}return _d;};this._utlf_GetCompType=function(_c){var _d;if(_c=="05GBTN"){_d="Button";}else if(_c=="05GCOM"){_d="Combo";}else if(_c=="05GEDT"){_d="Edit";}else if(_c=="05GNET"){_d="NumEdit";}else if(_c=="05GCET"){_d="CurEdit";}else if(_c=="05GRDO"){_d="Radio";}else if(_c=="05GLIS"){_d="List";}else if(_c=="05GCAL"){_d="Calendar";}else{_d=null;}return _d;};this.utlf_ConstrainObject=function(_c,_d,_e,_f){var _g;var _b;_g=this._utlf_GetCompType(_c);trace("==*happytk*=="+_b+"|"+_g+"|"+_e+"|"+_d);if(this.m2n_isNull(_g)!=true){_b=this.utlf_searchFormObject(this,_g,_d);if(this.m2n_isNull(_b)!=true&&this.m2n_isValidObject(_b)){if(_f=="0"){if(_e=="05HDISABL"){_b.set_enable(false);}else if(_e=="05HHIDDEN"){_b.set_visible(false);}else if(_e=="05HRDONLY"){_b.set_readonly(true);}else if(_e=="05HCOCHNG"){nexacro.getApplication().gv_dtlAuthAplyYn=false;}}else if(_f=="1"){if(_e=="05HDISABL"){_b.set_enable(true);}else if(_e=="05HHIDDEN"){_b.set_visible(true);}else if(_e=="05HRDONLY"){_b.set_readonly(false);}else if(_e=="05HCOCHNG"){nexacro.getApplication().gv_dtlAuthAplyYn=true;}}}}};this.utlf_intersectDs=function(_c,_d){var _e=_d.getRowCount()-1;for(var _f=_c.getRowCount()-1;_f>=0;_f-- ){if(_c.getColumn(_f,"code")==_d.getColumn(_e,"code")){_e-=1;}else{_c.deleteRow(_f);}}};this.utlf_getFormId=function(_b){var _c;if(this.id=="div_body"){_c=this.parent.id;var _d=nexacro.getApplication().GDS_TREELIST.findRow("menuId",_c);if(_d!=-1){_c=nexacro.getApplication().GDS_TREELIST.getColumn(_d,"pgmId");}}else{_c=_b.id;}return _c;};this.utlf_comboFilter=function(){var _c=null;var _d=null;var _e=null;var _f=null;var _g=0;var _h=0;this.m2n_create(this,"Dataset","dst_temp");this.m2n_lookupPath("dst_temp").clear();this.m2n_lookupPath("dst_temp").addColumn("code","String");this.m2n_lookupPath("dst_temp").addColumn("value","String");this.m2n_lookupPath("dst_temp").clearData();var _i=this.utlf_getFormId(this);while(true){_d=_c;_h=nexacro.getApplication().GDS_AUTHOUTCOMBO.findRow("oparam1",_i,_g);_g=_h+1;if(_h==-1){if(this.m2n_isNull(_f)!=true){this.m2n_copy(_f,this.m2n_lookupPath("dst_temp"));this.m2n_lookupPath("dst_temp").clearData();}break;}_c=nexacro.getApplication().GDS_AUTHOUTCOMBO.getColumn(_h,"oparam5");if(_c!=_d){if(this.m2n_isNull(_f)!=true){this.m2n_copy(_f,this.m2n_lookupPath("dst_temp"));this.m2n_lookupPath("dst_temp").clearData();}_e=this.utlf_searchFormObject(this,"Combo",_c);if(this.m2n_isNull(_e)==true||(this.m2n_getType(_e)!="Combo"&&this.m2n_getType(_e)!="List")){this.alert(_c+" is not valid object.");continue;}_f=_e.innerdataset;if(this.m2n_isNull(_f)==true){this.alert(_c+" has no dataset.");continue;}_f=this.m2n_getObject(_f);}if(this.m2n_isNull(_f)!=true){for(var _j=0;_j<_f.getRowCount();_j++ ){if(_f.getColumn(_j,"code")==nexacro.getApplication().GDS_AUTHOUTCOMBO.getColumn(_h,"oparam3")){if(this.m2n_lookupPath("dst_temp").findRowExpr("code=\""+nexacro.getApplication().GDS_AUTHOUTCOMBO.getColumn(_h,"oparam3")+"\"")==-1){this.m2n_lookupPath("dst_temp").addRow();this.m2n_lookupPath("dst_temp").setColumn(this.m2n_lookupPath("dst_temp").row,"code",nexacro.getApplication().GDS_AUTHOUTCOMBO.getColumn(_h,"oparam3"));this.m2n_lookupPath("dst_temp").setColumn(this.m2n_lookupPath("dst_temp").row,"value",nexacro.getApplication().GDS_AUTHOUTCOMBO.getColumn(_h,"oparam4"));}break;}}}}this.m2n_destroy("dst_temp");};this.utlf_screenItemCtrl=function(_c){var _d="";var _e="";var _f="";var _g;var _h;if(nexacro.getApplication().gv_RUNTYPE!="M"){return;}if(nexacro.getApplication().GDS_SCRNCTRLMAIN.findRow("pgmId",_c)>=0){return;}this.m2n_create(this,"Dataset","dst_ScrnCtrlInput");this.m2n_lookupPath("dst_ScrnCtrlInput").clear();this.m2n_lookupPath("dst_ScrnCtrlInput").addColumn("pgmId","String");this.m2n_lookupPath("dst_ScrnCtrlInput").addRow();this.m2n_lookupPath("dst_ScrnCtrlInput").setColumn(this.m2n_lookupPath("dst_ScrnCtrlInput").row,"pgmId",_c);this.m2n_create(this,"Dataset","dst_ScrnCtrl_tmp");this.m2n_create(this,"Dataset","dst_AuthOutCombo_tmp");_h=new Array(4);_h[0]="CMRSMO00#retrieveLst_PSCMRSM50U0101";_d="retrieve";_e="CMRsmScrnItmLstMngDto/scrnItmSubDto/subDto=dst_ScrnCtrlInput";_f="dst_ScrnCtrl_tmp=CMRsmScrnItmLstMngDto/scrnItmSubDto/subDto dst_AuthOutCombo_tmp=CMRsmScrnItmLstMngDto/commCdSubDto/outdto";_g=new Array(-1);_g[0]="CMRsmScrnItmLstMngDto/scrnItmSubDto,1,0,0";this.sysf_callSyncTR(_d,_h,_c,"",_e,_f,_g);trace(this.m2n_lookupPath("dst_ScrnCtrl_tmp").saveXML());nexacro.getApplication().GDS_SCRNCTRLMAIN.addRow();nexacro.getApplication().GDS_SCRNCTRLMAIN.setColumn(nexacro.getApplication().GDS_SCRNCTRLMAIN.rowposition,"pgmId",_c);this.m2n_appendDataset(nexacro.getApplication().GDS_SCRNCTRL,this.m2n_lookupPath("dst_ScrnCtrl_tmp"));this.m2n_appendDataset(nexacro.getApplication().GDS_AUTHOUTCOMBO,this.m2n_lookupPath("dst_AuthOutCombo_tmp"));this.m2n_destroy("dst_ScrnCtrlInput");this.m2n_destroy("dst_ScrnCtrl_tmp");this.m2n_destroy("dst_AuthOutCombo_tmp");};this.utlf_accessIpCtrl=function(_c){var _d="";var _e="";var _f="";var _g="";var _h;this.m2n_create(this,"Dataset","dst_ipCtrlInput");this.m2n_lookupPath("dst_ipCtrlInput").clear();this.m2n_lookupPath("dst_ipCtrlInput").addColumn("pgmId","String");this.m2n_lookupPath("dst_ipCtrlInput").addRow();this.m2n_lookupPath("dst_ipCtrlInput").setColumn(0,"pgmId",_c);this.m2n_create(this,"Dataset","dst_ipCtrlOutput");_d="select";_e="cm.rsm.CMRSMS42#fbCMRSM42S0301_S002";_f="subDto=dst_ipCtrlInput";_g="dst_ipCtrlOutput=nc_output_fieldDs";_h=new Array(-1);this.sysf_ncCallSyncTR(_d,_e,_c,"",_f,_g,_h);if(this.m2n_lookupPath("dst_ipCtrlOutput").getColumn(0,"ipResult")=="NOT_EXIST_IP"){var _i=this.m2n_lookupPath("dst_ipCtrlOutput").getColumn(0,"ipAddress");this.sysf_alert("XSYSN0229","&IP",_i);return false;}else{return true;}};this.utlf_mvonAttrChk=function(){if(this.m2n_length(nexacro.getApplication().GDS_MVNO_ATTR)==0){var _c="";var _d="";var _e="";var _f="";var _g;var _h;var _i=0;this.m2n_create(this,"Dataset","ds_attr");this.m2n_lookupPath("strNcTxId")="cm.cdm.CMCDMO00#retreiveMvnoAttrList";_d="";_e="";_f="ds_attr=attrList";this.sysf_ncCallSyncTR(_d,this.m2n_lookupPath("strNcTxId"),_c,"",_e,_f);this.m2n_appendDataset(nexacro.getApplication().GDS_MVNO_ATTR,this.m2n_lookupPath("ds_attr"));trace(nexacro.getApplication().GDS_MVNO_ATTR.saveXML());this.m2n_destroy("ds_attr");}};this.utlf_findCompInGDS_SCRNCTRL=function(_c,_d){var _e=0;var _f=0;while(true){_f=nexacro.getApplication().GDS_SCRNCTRL.findRow("scrnItmFulNm1",_c,_e);if(_f==-1){break;}_e=_f+1;if(nexacro.getApplication().GDS_SCRNCTRL.getColumn(_f,"scrnItmAuthAplyCd")==_d&&nexacro.getApplication().GDS_SCRNCTRL.getColumn(_f,"usableYn")=="0"){return true;}}return false;};this.utlf_IsUserAuth=function(_c){var _d=this.gf_GetGlobalValue("g_AuthId");var _e=this.m2n_split(_d,";");for(var _f=0;_f<this.m2n_length(_e);_f++ ){if(_c==_e[_f]){return true;}}return false;};this.utlf_ClickAuth=function(_c,_d,_e){if(this.m2n_length(_c)==0){this.alert("서비스계정번호는 필수항목 입니다.");return "N";}if(this.m2n_length(_d)==0){this.alert("고객계정번호는 필수항목 입니다.");return "N";}if(this.m2n_length(_e)==0){this.alert("화면ID는 필수항목 입니다.");return "N";}nexacro.getApplication().GDS_DUMMY_IN.clear();nexacro.getApplication().GDS_DUMMY_OUT.clear();nexacro.getApplication().GDS_DUMMY_IN.addColumn("sv_acnt_num","String");nexacro.getApplication().GDS_DUMMY_IN.addColumn("cu_acnt_num","String");nexacro.getApplication().GDS_DUMMY_IN.addColumn("scrn_id","String");nexacro.getApplication().GDS_DUMMY_IN.addRow();nexacro.getApplication().GDS_DUMMY_IN.setColumn(0,"sv_acnt_num",_c);nexacro.getApplication().GDS_DUMMY_IN.setColumn(0,"cu_acnt_num",_d);nexacro.getApplication().GDS_DUMMY_IN.setColumn(0,"scrn_id",_e);var _f="auth";var _g="cm.ctm.CMCTMO00#psCMCTM30U0301P_P001";var _h="nc_input_fieldDs=GDS_DUMMY_IN";var _i="GDS_DUMMY_OUT=nc_output_fieldDs";this.sysf_ncCallSyncTR(_f,_g,_e,"",_h,_i);var _j=nexacro.getApplication().GDS_DUMMY_OUT.getColumn(0,"proc_result");if(_j=="Y"){return "Y";}else{if(_j=="E1"){this.alert("서비스계정번호는 필수항목 입니다.");}else if(_j=="E2"){this.alert("고객계정번호는 필수항목 입니다.");}else if(_j=="E3"){this.alert("화면ID는 필수항목 입니다.");}else if(_j=="E4"){this.alert("유효한 인증이 존재합니다.");}else if(_j=="E5"){this.alert("지정된 서비스가 존재하지 않습니다.");}else if(_j=="E6"){this.alert("인증 처리중 오류발생.");}return "N";}};});this.loadIncludeScript(_a);_b=null;};})();
var _pChildFrame=nexacro.ChildFrame.prototype;_pChildFrame._orgSet_formurl=_pChildFrame.set_formurl;_pChildFrame.set_formurl=function(_a){if(this.id=="QuickViewFrame"&&nexacro._quickview_formurl&&!nexacro.__previewform){_a="frame::frmWork.xfdl";}return this._orgSet_formurl(_a);};var pGridCell=nexacro._GridCellControl.prototype;pGridCell._orgcommon_fire_lbuttondown=pGridCell._common_fire_lbuttondown;pGridCell._common_fire_lbuttondown=function(_a){var _b=this._orgcommon_fire_lbuttondown(_a);var _c=this._grid;var _d=_c._getDataRow(this._rowidx);if(!this._is_mergetemp){if(this._band.id=="head"&&this._curDisplayType=="editcontrol"){var _e=false;if((_d!=_c._selectinfo.curdsrow)||(this._cellidx!=_c._selectinfo.curcell)){_e=true;}else{if(!_c._showEditing){_e=true;}}if(_e){_c._selectinfo.curdsrow=_d;_c._selectinfo.curcell=this._cellidx;_c._showEditorCell=true;_c._showEditRowIdx=_d;_c._showEditCellIdx=this._cellidx;}}}return _b;};var pCellControl=nexacro._CellControl.prototype;pCellControl._orgdestroyEditor=pCellControl._destroyEditor;pCellControl._destroyEditor=function(){if(this._editor){if(this._band.id=="head"&&this._curDisplayType=="editcontrol"){this._grid.setCellProperty("head",this._cellidx,"text",this._editor.value);}}return this._orgdestroyEditor();};var pGrid=nexacro.Grid.prototype;pGrid._orgon_attach_contents_handle=pGrid.on_attach_contents_handle;pGrid.on_attach_contents_handle=function(_a){var _b=this._orgon_attach_contents_handle(_a);var _c=this._refform;if(_c["gfnGridOnload"]){_c["gfnGridOnload"].call(_c,this);}return _b;};pGrid._orgon_destroy_contents=pGrid.on_destroy_contents;pGrid.on_destroy_contents=function(){var _a=this._refform;if(_a["gfnGridOnUnload"]){_a["gfnGridOnUnload"].call(_a,this);}return this._orgon_destroy_contents();};pGrid.set_uFunction=function(_a){this.uFunction=_a;};pGrid.usecustomexpr=false;pGrid.set_usecustomexpr=function(_a){this.usecustomexpr=nexacro._toBoolean(_a);};pCellControl._orgCreateTreeDisplayer=pCellControl._createTreeDisplayer;pCellControl._createTreeDisplayer=function(_a,_b){var _c=this._orgCreateTreeDisplayer(_a,_b);if(this._grid.usecustomexpr&&this._subComp&&this._subComp._text_ctrl){var _d=this._getDataRow();var _e=this._refinfo._getTreeUseDecorate(_d);this._subComp._text_ctrl.set_usedecorate(_e);}return _c;};var _pGridBandInfo=nexacro.GridBandInfo.prototype;_pGridBandInfo.set_treeusedecorate=function(_a){this.treeusedecorate=_a;if(this._bandctrl){this._bandctrl.set_treeusedecorate(_a);}};var _pCellInfo=nexacro.CellInfo.prototype;_pCellInfo._property_map_readtext=[["treeusedecorate","treeusedecorate",false,null,true],["exprtextbackgroundcolor",null,true,undefined,false],["exprtextcolor",null,true,undefined,false],["exprtextfont",null,true,undefined,false],["exprbuttonbackgroundcolor",null,true,undefined,false],["exprbuttonborder",null,true,undefined,false]];_pCellInfo._getTreeUseDecorate=function(_a){var _b=this._getAttrValue(this.treeusedecorate,_a);return _b;};_pCellInfo._getReadTextBackColor=function(_a){var _b=this._getAttrValue(this.exprtextbackgroundcolor,_a);return _b;};_pCellInfo._getReadTextColor=function(_a){var _b=this._getAttrValue(this.exprtextcolor,_a);return _b;};_pCellInfo._getReadTextFont=function(_a){var _b=this._getAttrValue(this.exprtextfont,_a);return _b;};_pCellInfo._getButtonBackColor=function(_a){var _b=this._getAttrValue(this.exprbuttonbackgroundcolor,_a);return _b;};_pCellInfo._getButtonBorder=function(_a){var _b=this._getAttrValue(this.exprbuttonborder,_a);return _b;};var _pGridCellInfo=nexacro.GridCellInfo.prototype;_pGridCellInfo._addPropertyMap("_pGridCellInfo",_pCellInfo._property_map_readtext);pCellControl.originalOn_apply_text=pCellControl.on_apply_text;pCellControl.on_apply_text=function(){this.originalOn_apply_text();if(this._grid){if(this._grid.usecustomexpr){var _a=this._text_elem;if(_a&&_a.handle){var _b=this._refinfo;var _c=this._getDataRow();var _d=_b._getReadTextBackColor(_c);if(_d){this.set_background(_d);}var _e=_b._getReadTextColor(_c);if(_e){this.set_color(_e);}var _f=_b._getReadTextFont(_c);if(_f){this.set_font(_f);}}}}};var _pCellButton=nexacro._CellButtonControl.prototype;_pCellButton._originalSetProperty=_pCellButton._setProperty;_pCellButton._setProperty=function(_a){var _b=this._originalSetProperty(_a);if(this._grid){if(this._grid.usecustomexpr){var _c=this._cellinfo;if(_c&&this.parent._getDataRow){var _d=this.parent._getDataRow();var _e=_c._getButtonBackColor(_d);if(_e){this.set_background(_e);}var _f=_c._getButtonBorder(_d);if(_f){this.set_border(_f);}}}}return _b;};pGrid=null;
var pForm=nexacro.Form.prototype;pForm.FRAME_MENUCOLUMNS={sytmFlagCd:"SYTM_FLAG_CD",menuId:"MENU_ID",menuNm:"MENU_NM",groupId:"MODULE_CD",prgmId:"PRGM_ID",prgmPath:"PRGM_PATH",prgmFileNm:"PRGM_FILE_NM",menuUrl:"MENU_URL",menuLevel:"MENU_LV",upMenuId:"HIPO_MENU_ID",addBtnYn:"CMMNBTNADD",delBtnYn:"CMMNBTNDEL",saveBtnYn:"CMMNBTNSAVE",printBtnYn:"CMMNBTNPRINT",helpBtnYn:"cmmnBtnHelp",excelUpBtnYn:"cmmnBtnExcelUp",excelDownBtnYn:"CMMNBTNEXCELDOWN",initbtinYn:"CMMNBTNINIT",searchBtnYn:"CMMNBTNSEARCH",winId:"WIN_ID",title:"MENU_NM",param:"PARM",displayPath:"DISPLAY_PATH"};pForm.gfnGetRunMode=function(){return nexacro.getApplication().gvRunMode;};pForm.gfnIsNexaBrowser=function(){return (system.navigatorname=="nexacro");};pForm.gfnGetServerUrl=function(){var _a="";if(system.navigatorname=="nexacro"){var _b=nexacro.getEnvironment();_a=_b.services["svcUrl"].url;}else{_a=window.location.protocol+"//"+window.location.host;_a+="/";}return _a;};pForm.gfnSetLogin=function(){var _a=nexacro.getApplication();_a.gvCloseCheck=true;_a.gvFrmTop.set_formurl(_a.TOP_FORM_PATH);_a.gvFrmLeft.set_formurl(_a.LEFT_FORM_PATH);_a.gvFrmMdi.set_formurl(_a.MDI_FORM_PATH);_a.gvFrmLogin.set_formurl("");this.gfnSetMain(true);};pForm.gfnSetMain=function(_a){if(this.gfnIsNull(_a)){_a=false;}var _b=nexacro.getApplication();_b.gvFrameStat="main";_b.gvVfrs.set_separatesize("0,50,*");if(_b.gvMdiFramePos=="top"){_b.gvVfrsWork.set_separatesize("42,*,0,0");}else if(_b.gvMdiFramePos=="bottom"){_b.gvVfrsWork.set_separatesize("0,*,0,42");}if(_a==false){_b.gvFrmMdi.form.fnSetStyle("main");}if(this.gfnIsNull(_b.gvFrmMain.formurl)){_b.gvFrmMain.set_formurl(_b.MAIN_FORM_PATH);}_b.gvFrmMain.form.setFocus();};pForm.gfnSetSub=function(){var _a=nexacro.getApplication();_a.gvFrameStat="sub";if(_a.gvMdiFramePos=="top"){_a.gvVfrsWork.set_separatesize("42,0,*,0");}else if(_a.gvMdiFramePos=="bottom"){_a.gvVfrsWork.set_separatesize("0,0,*,42");}_a.gvFrmMdi.form.fnSetStyle("sub");};pForm.gfnGoLogin=function(){var _a=nexacro.getApplication();if(_a.gvFrameStat=="login"){return;}if(system.navigatorname=="nexacro"){_a.gvFrameStat="login";_a.gvCloseCheck=false;try{_a.gvFrmMdi.form.fnCloseAll(false);}catch(e){}_a.gvFrmTop.set_formurl("");_a.gvFrmLeft.set_formurl("");_a.gvFrmMdi.set_formurl("");_a.gvFrmMain.set_formurl("");_a.gvFrmLogin.set_formurl(_a.LOGIN_FORM_PATH);_a.gvVfrs.set_separatesize("*,0,0");_a.gvHfrs.set_separatesize("0,*");}else{window.top.location.reload(true);}};pForm.gfnShowLeftFrame=function(){var _a=nexacro.getApplication();_a.gvHfrs.set_separatesize("210,*");_a.gvFrmMdi.form.btnLeftMenuShowHide.set_cssclass("btn_MDI_Close");_a.gvFrmLeft.form.fvMenuStatus="open";};pForm.gfnHideLeftFrame=function(){var _a=nexacro.getApplication();_a.gvHfrs.set_separatesize("0,*");_a.gvFrmMdi.form.btnLeftMenuShowHide.set_cssclass("btn_MDI_Open");_a.gvFrmLeft.form.fvMenuStatus="close";};pForm.gfnOpenMenu=function(_a,_b,_c){var _d=false;if(this.gfnIsNull(this.getOwnerFrame().form.opener)){_d=this._gfnOpenMenu(_a,_b,_c);}else{_d=nexacro.getApplication().gvFrmLeft.form._gfnOpenMenu(_a,_b,_c);}return _d;};pForm._gfnOpenMenu=function(_a,_b,_c){if(this.gfnIsNull(_a)){this.gfnAlert("msg.nomenu");return false;}var _d=nexacro.getApplication();if(this.gfnIsNull(_c)){_c=true;}var _e=_d.gdsMenu.findRow(this.FRAME_MENUCOLUMNS.menuId,_a);var _f=_d.gdsMenu.getColumn(_e,this.FRAME_MENUCOLUMNS.menuUrl);var _g=_d.gdsOpenMenu.lookupAs(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.winId);var _h=_d.gdsOpenMenu.lookupAs(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.title);var _i=_d.gvFrsWork.all[_g];if(_i!=null){if(_c==true){if(!this.gfnIsNull(_i.form.fnWorkFrameClose)&&_i.form.fnWorkFrameClose()==false){this.gfnAlert("confirm.before.reopen",null,"confirm.before.reopen",function(_j,_k){if(_k){_i.arguments["menuId"]=_a;_i.arguments["menuParam"]=_b;_i.arguments["menuUrl"]=_f;_d.gvFrmMdi.form.isActiveFrame(_g);_i.form.reload();return;}else{_d.gvFrmMdi.form.isActiveFrame(_g);}});}else{_i.arguments["menuId"]=_a;_i.arguments["menuParam"]=_b;_i.arguments["menuUrl"]=_f;_d.gvFrmMdi.form.isActiveFrame(_g);_i.form.reload();}}else{_d.gvFrmMdi.form.isActiveFrame(_g);}return;}var _f=_d.gdsMenu.getColumn(_e,this.FRAME_MENUCOLUMNS.menuUrl);var _h=_d.gdsMenu.getColumn(_e,this.FRAME_MENUCOLUMNS.menuNm);if(this.gfnIsNull(_f)){return;}if(this.gfnIsNull(_h)){return;}if(_d.gdsOpenMenu.rowcount>=_d.gvOpenMaxFrame){this.gfnAlert("msg.err.mdicount.max",[_d.gvOpenMaxFrame],"msg.err.mdicount.max",null);return false;}else{this.gfnNewMdi(_d.gdsMenu,_e,_b,_c);}return true;};pForm.gfnNewMdi=function(_a,_b,_c,_d){var _e=nexacro.getApplication();var _f=_e.gdsOpenMenu;var _g=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuId);var _h=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuUrl);var _i=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.groupId);var _j=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.prgmId);var _k=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuNm);var _l=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.displayPath);var _m=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.param);if(this.gfnIsNull(_i)){return;}if(this.gfnIsNull(_h)){return;}var _n="FRAMEWORK_"+"_"+_f.getRowCount()+"_"+parseInt(Math.random()* 1000);this.gfnSetOpenMenuDs(_n,_g,_k,_h,_i,_j);var _o=new ChildFrame;_o.init(_n,0,0,_e.gvFrsWork.getOffsetWidth()-0,_e.gvFrsWork.getOffsetHeight()-0);_e.gvFrsWork.addChild(_n,_o);_o.arguments=[];_o.set_showtitlebar(false);_o.set_openstatus("maximize");_o.set_showcascadetitletext(false);_o.arguments[this.FRAME_MENUCOLUMNS.winId]=_n;_o.arguments[this.FRAME_MENUCOLUMNS.menuId]=_g;_o.arguments[this.FRAME_MENUCOLUMNS.menuNm]=_k;_o.arguments[this.FRAME_MENUCOLUMNS.menuUrl]=_h;_o.arguments[this.FRAME_MENUCOLUMNS.groupId]=_i;_o.arguments[this.FRAME_MENUCOLUMNS.prgmId]=_j;_o.arguments[this.FRAME_MENUCOLUMNS.param]=_m;_o.arguments["menuParam"]=_c;_o.arguments["menuNavi"]=_l;_o.set_formurl("frame::frmWork.xfdl");_e.gvFrmMdi.form.fnAddTab(_n,_k);_e.gvFrmMdi.form.isActiveFrame(_n);_o.show();};pForm.gfnSetOpenMenuDs=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.getApplication();var _h=_g.gdsOpenMenu;var _i=_h.addRow();_h.setColumn(_i,this.FRAME_MENUCOLUMNS.winId,_a);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.menuId,_b);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.title,_c);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.menuUrl,_d);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.groupId,_e);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.prgmId,_f);};pForm._gfnGetMenuNavi=function(_a,_b){var _c=nexacro.getApplication();var _d=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuNm);var _e=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.upMenuId);var _f=_a.findRow(this.FRAME_MENUCOLUMNS.menuId,_e);var _g=_a.getColumn(_f,this.FRAME_MENUCOLUMNS.menuNm);sPath="<fc v='#000000'>"+_d+"</fc>";while(1){_f=_a.findRow(this.FRAME_MENUCOLUMNS.menuId,_e);if(_f>-1){sPath=_a.getColumn(_f,this.FRAME_MENUCOLUMNS.menuNm)+" > "+sPath;}_e=_a.getColumn(_f,this.FRAME_MENUCOLUMNS.upMenuId);if(this.gfnIsNull(_e)){break;}}return sPath;};pForm.gfnRemoveOpenMenuDs=function(_a){var _b=nexacro.getApplication();var _c=_b.gdsOpenMenu.findRow(this.FRAME_MENUCOLUMNS.winId,_a);_b.gdsOpenMenu.deleteRow(_c);};pForm.gfnGetArgument=function(_a){var _b;if(this.gfnIsNull(_a)){_b=this.getOwnerFrame().arguments["menuParam"];}else{_b=this.getOwnerFrame().arguments[_a];}return _b;};pForm.gfnSetUrl=function(_a,_b,_c){var _d=this.getOwnerFrame();_d.arguments["menuParam"]=_b;if(this.opener){_d.set_autosize(true);_d.set_formurl("");_d.set_formurl(_a);}else{if(nexacro.getEnvironmentVariable("evQuikView")=="Y"){if(_c){_c.set_url("");_c.set_url(_a);}else{_d.set_formurl("");_d.set_formurl(_a);}}else{if(_c){_c.set_url("");_c.set_url(_a);}else{var _c=this.parent;_c.set_url("");_c.set_url(_a);}}}};pForm.gfnFormOnload=function(_a){var _b=nexacro.getApplication();if(_a.parent.name=="divWork"){var _b=nexacro.getApplication();_a.addEventHandler("onkeydown",this.gfnOnkeydown,this);}if(_a.opener){if(_a.parent instanceof nexacro.ChildFrame){_a.addEventHandler("onkeydown",this.gfnOnkeydown,this);}}if(nexacro.getEnvironmentVariable("evQuickView")=="Y"){if(this.gfnIsNull(_a.opener)&&_a.parent instanceof nexacro.ChildFrame){_a.addEventHandler("onkeydown",this.gfnOnkeydown,this);}}var _c=_a.components["divSearch"];if(!this.gfnIsNull(_c)){this.gfnSearchCondInint(_c);}this.gfnInitComp(_a);};pForm.gfnSearchCondInint=function(_a){var _b=_a.form.components;for(var _c=0;_c<_b.length;_c++ ){if(_b[_c] instanceof nexacro.Edit||_b[_c] instanceof nexacro.Combo||_b[_c] instanceof nexacro.MaskEdit||_b[_c] instanceof nexacro.Calendar){if(_b[_c].uUse!="false"){_b[_c].addEventHandler("onkeyup",this.gfnSearchCond_onkeyup,this);}}}};pForm.gfnSearchCond_onkeyup=function(_a,_b){if(_b.keycode==13){var _c="cfnSearch";if(this[_c]){this.lookupFunc(_c).call();}}};pForm.gfnInitComp=function(_a){var _b=_a.components;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){if(_b[_e] instanceof nexacro.Div){if(this.gfnIsNull(_b[_e].url)){this.gfnInitComp(_b[_e].form);}}else if(_b[_e] instanceof nexacro.Tab){var _d=_b[_e].tabpages.length;for(var _f=0;_f<_d;_f++ ){if(this.gfnIsNull(_b[_e].tabpages[_f].url)){this.gfnInitComp(_b[_e].tabpages[_f].form);}}}else{if(_b[_e] instanceof nexacro.Grid){this.gfnSetGrid(_b[_e]);}}}};pForm.gfnSetCommBtn=function(){return;var _a=nexacro.getApplication();var _b=_a.gdsCmmnBtn;var _c="";var _d=_a.gdsOpenMenu;var _e=_d.getColumn(_d.rowposition,this.FRAME_MENUCOLUMNS.menuId);_c=this.gfnGetAuth(_e);if(this.gfnIsNull(_c)){_c="NNNNNNN";}if(_c=="YYYYYYY"){return;}var _f=_c[0];var _g=_c[1];var _h=_c[2];var _i=_c[3];var _j=_c[4];var _k=_c[5];var _l=_c[6];for(var _y=0;_y<arguments.length;_y++ ){if(!(arguments[_y] instanceof Div)){this.gfnLog("gfnSetCommBtn함수에 Parameter로 전달된 Div이 없습니다. ["+(_y+1)+"번째]");return;}var _m=arguments[_y].form;var _n=_m.components;var _o=_n.length;var _p=true;_b.clearData();_b.set_enableevent(false);for(var _z=0;_z<_o;_z++ ){var _q=_n[_z].name;var _r=_b.addRow();_b.setColumn(_r,"component",_q);_b.setColumn(_r,"right",_n[_z].getOffsetRight());_b.setColumn(_r,"width",_n[_z].getOffsetWidth());_p=_n[_z].visible;var _s=false;if(_q.indexOf("btn")> -1){var _t=_q.substr(3);switch(_t){case "Add":_s=(_f=="Y"?true:false);break;case "Del":_s=(_g=="Y"?true:false);break;case "Save":_s=(_h=="Y"?true:false);break;case "Print":_s=(_i=="Y"?true:false);break;case "Help":_s=(_j=="Y"?true:false);break;case "ExcelUp":_s=(_k=="Y"?true:false);break;case "ExcelDown":_s=(_l=="Y"?true:false);break;default:_s=true;break;}if(_p==false){_s=_p;}}else{_s=_n[_z].visible;}_b.setColumn(_r,"visible",_s);_n[_z].set_visible(_s);}_b.set_enableevent(true);_b.set_keystring("S:-right");_b.set_filterstr("");_b.set_filterstr("visible=='true'");var _u=0;var _v=3;var _w=_b.rowcount;for(var _aa=0;_aa<_w;_aa++ ){var _x=_m.components[_b.getColumn(_aa,"component")];_x.move(null,0,_x.getOffsetWidth(),_x.getOffsetHeight(),_u);_u=_u+_v+nexacro.toNumber(_x.getOffsetWidth());}}};pForm.gfnGetAuth=function(_a){var _b=nexacro.getApplication();var _c=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.addBtnYn)=="1"?"1":"0";var _d=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.delBtnYn)=="1"?"1":"0";var _e=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.saveBtnYn)=="1"?"1":"0";var _f=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.printBtnYn)=="1"?"1":"0";var _g=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.helpBtnYn)=="1"?"1":"0";var _h=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.excelUpBtnYn)=="1"?"1":"0";var _i=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.excelDownBtnYn)=="1"?"1":"0";var _j=_c+_d+_e+_f+_g+_h+_i;return _j;};pForm.gfnGetSearchScopeCd=function(_a){var _b=nexacro.getApplication();var _c=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,"SEARCH_SCOPE_CD");return _c;};pForm.gfnOnkeydown=function(_a,_b){if(_b.ctrlkey&&_b.altkey&&_b.keycode==68){if(this.gfnGetRunMode()=="R"){return;}var _c={};var _d={width:"900",height:"500",popuptype:"modeless",titlebar:true,title:"디버그",resize:true};this.gfnOpenPopup("popupDebug","common::cmmDebug.xfdl",_c,"",_d);return true;}};pForm.gfnSetWorkMode=function(_a){var _b=nexacro.getApplication();if(this.gfnIsNull(_b.gvVfrs.status)){_b.gvVfrs.status="0,50,*";}if(this.gfnIsNull(_b.gvHfrs.status)){_b.gvHfrs.status="210,*";}if(this.gfnIsNull(_b.gvVfrsWork.status)){_b.gvVfrsWork.status="42,0,*,0";}if(_a=="normal"){_b.gvVfrs.set_separatesize(_b.gvVfrs.status);_b.gvHfrs.set_separatesize(_b.gvHfrs.status);_b.gvVfrsWork.set_separatesize(_b.gvVfrsWork.status);}else if(_a=="max"){_b.gvVfrs.status=_b.gvVfrs.separatesize;_b.gvHfrs.status=_b.gvHfrs.separatesize;_b.gvVfrsWork.status=_b.gvVfrsWork.separatesize;_b.gvVfrs.set_separatesize("0,0,*");_b.gvHfrs.set_separatesize("0,*");_b.gvVfrsWork.set_separatesize("0,0,*,0");}};pForm.gfnSaveMenuOpenLog=function(_a,_b,_c){var _d=nexacro.getApplication().gdsLog;_d.clearData();var _e=_d.addRow();_d.setColumn(_e,"LOG_TYPE",_a);_d.setColumn(_e,"PRGM_ID",_b);_d.setColumn(_e,"MENU_ID",_c);var _f="saveLog";var _g="saveLog.do";var _h="dsList=gdsLog:U";var _i="";var _j="";var _k="gfnStopCallback";this.gfnTransaction(_f,_g,_h,_i,_j,_k);};pForm.gfnIsMobile=function(){var _a=((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro._OS=="Android"&&nexacro._Browser=="Runtime"));if(_a==true||_a=="true"){return "1";}else{return "0";}};pForm.gfnSetLoginLogDataset=function(){var _a=nexacro.getApplication().gdsLoginLog;_a.clearData();var _b=nexacro._OSVersion+"";if(nexacro._OS.indexOf("Win")>=0){switch(_b){case "5.0":case "5.01":case "Windows 2000":case "Windows 2000, Service Pack 1 (SP1)":_b="2000";break;case "5.1":case "Windows XP":_b="XP";break;case "5.2":case "Windows Server 2003 / Windows XP 64-bit":_b="2003";break;case "6.0":case "Windows Vista":_b="Vista";break;case "6.1":case "Windows 7":_b="7";break;case "6.2":case "Windows 8":_b="8";break;case "6.3":case "Windows 8.1":_b="8.1";break;case "10.0":case "Windows 10":_b="10";break;default:}}var _c={browser:nexacro._Browser,browserver:nexacro._BrowserVersion,os:nexacro._OS,osver:_b,mobile:this.gfnIsMobile(),screenwidth:system.getScreenWidth(),screenheight:system.getScreenHeight()};var _d=_a.addRow();_a.setColumn(_d,"BROWSER_CD",_c.browser);_a.setColumn(_d,"BROWSER_VERSION",_c.browserver);_a.setColumn(_d,"OS_CD",_c.os);_a.setColumn(_d,"OS_VERSION",_c.osver);_a.setColumn(_d,"SCREEN_HEIGHT",_c.screenheight);_a.setColumn(_d,"SCREEN_WIDTH",_c.screenwidth);_a.setColumn(_d,"MOB_YN",_c.mobile);};pForm=null;
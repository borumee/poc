var pForm=nexacro.Form.prototype;pForm.gfnFindData=function(_a,_b,_c,_d,_e){var _f=this.gfnFindData.arguments;if(this.gfnIsNull(_d)){return _a.findRow(_b,_c);}return _a.findRowExpr(_b+" == '"+_c+"' && "+_d+" == '"+_e+"'");};pForm.gfnGetLookupData=function(_a,_b,_c,_d,_e,_f){var _g;var _h=this.gfnFindData(_a,_b,_c,_e,_f);if(_h<0){return "";}_g=_a.getColumn(_h,_d);if(this.gfnIsNull(_g)){return "";}return _g;};pForm.gfnGetTextSize=function(_a){var _b=new nexacro.Static();_b.init("objStatic",0,0,0,0);this.addChild("objStatic",_b);_b.set_text(_a);_b.set_fittocontents("both");_b.set_visible(false);_b.show();var _c=0,_d=0;_c=_b.getOffsetWidth();_d=_b.getPixelHeight();this.removeChild("objStatic");_b.destroy();_b=null;return [_c,_d];};pForm.gfnGetCommonCode=function(_a,_b){var _c=nexacro.getApplication();var _d=_c.gdsCommCode;var _e="ko";for(var _aa in _a){if(!this.gfnIsNull(_a[_aa].objid)){var _f=_a[_aa].biztype;var _g=_a[_aa].code;var _h=_a[_aa].codecol==undefined?"SSC_CD":_a[_aa].codecol;var _i=_a[_aa].data==undefined?"SSC_CD_KORN_NM":_a[_aa].data;var _j=_a[_aa].selecttype==undefined?"":_a[_aa].selecttype;var _k=_a[_aa].bindcolumn;var _l=_a[_aa].edit;var _m=_a[_aa].sortcolumn==undefined?"SORT_ORDR":_a[_aa].sortcolumn;var _n=_a[_aa].sortmethod==undefined?"asc":_a[_aa].sortmethod;var _o=_a[_aa].filterstring==undefined?"":_a[_aa].filterstring;var _p=_a[_aa].direction==undefined?"horizontal":_a[_aa].direction;var _q=_a[_aa].align==undefined?"center":_a[_aa].align;var _r=this._gfnGetComponentFullName(_a[_aa].objid);if(this.gfnIsNull(_r)){return;}var _s="ds_"+_r+"_"+_g;var _t=this._gfnGetDataSet(_s);if(this.gfnIsNull(_o)){_d.filter("HCL_CD == '"+_g+"'");}else{_d.filter("HCL_CD == '"+_g+"' && ("+_o+")");}var _u=_t.copyData(_d,true);var _v="SEL_TYPE";_t.addColumn(_v,"string");_d.filter(_o);if(_t.rowcount==0){continue;}if(!this.gfnIsNull(_m)){if(!this.gfnIsNull(_n)){_n="asc";}_t.keystring="S:"+(_n=="asc"?"+":"-")+_m;_t.updateSortGroup();}if(!this.gfnIsNull(_j)){switch(_j){case "A":if(_a[_aa].objid instanceof Radio){this._gfnInsertDefaultRow(_t,"전체",_i,_j,_h);}else{this._gfnInsertDefaultRow(_t,"- 전체 -",_i,_j,_h,"");}break;case "S":this._gfnInsertDefaultRow(_t,"- 선택 -",_i,_j,_h);break;case "N":if(_a[_aa].objid instanceof Combo){this._gfnInsertDefaultRow(_t,"",_i,_j,_h);}break;}}if(_a[_aa].objid instanceof Combo){_a[_aa].objid.set_innerdataset(_t);_a[_aa].objid.set_codecolumn(_h);if(this.gfnIsNull(_a[_aa].data)){_a[_aa].objid.set_datacolumn("SSC_CD_KORN_NM");}else{_a[_aa].objid.set_datacolumn(_a[_aa].data);}if(this.gfnIsNull(_a[_aa].objid.value)){_a[_aa].objid.set_index(0);}}else if(_a[_aa].objid instanceof Radio){var _w=_a[_aa].objid.enable;_a[_aa].objid.set_enable(true);_a[_aa].objid.set_innerdataset(_t);_a[_aa].objid.set_codecolumn(_h);if(this.gfnIsNull(_a[_aa].data)){_a[_aa].objid.set_datacolumn("SSC_CD_KORN_NM");}else{_a[_aa].objid.set_datacolumn(_a[_aa].data);}if(_p=="horizontal"){_a[_aa].objid.set_columncount(_t.rowcount);}else if(_p=="vertical"){_a[_aa].objid.set_direction("vertical");}if(!_w){_a[_aa].objid.set_enable(_w);}}else if(_a[_aa].objid instanceof Grid){var _x=this._gfnGetCellIdx(_a[_aa].objid,_k);if(this.gfnIsNull(_k)||_x==-1){return;}if(!this.gfnIsNull(_l)&&_l=="true"){var _y=_a[_aa].objid.getCellProperty("body",_x,"displaytype");var _z=_a[_aa].objid.getCellProperty("body",_x,"edittype");if(this.gfnIsNull(_y)||_y=="normal"){_y="combocontrol";}if(this.gfnIsNull(_z)||_z=="none"){_z="combo";}_a[_aa].objid.setCellProperty("body",_x,"displaytype",_y);_a[_aa].objid.setCellProperty("body",_x,"edittype",_z);}else{_a[_aa].objid.setCellProperty("body",_x,"displaytype","combotext");}_a[_aa].objid.setCellProperty("body",_x,"combodataset",_t.name);_a[_aa].objid.setCellProperty("body",_x,"combocodecol",_h);if(this.gfnIsNull(_a[_aa].data)){_a[_aa].objid.setCellProperty("body",_x,"combodatacol","SSC_CD_KORN_NM");}else{_a[_aa].objid.setCellProperty("body",_x,"combodatacol",_a[_aa].data);}_a[_aa].objid.setCellProperty("body",_x,"textAlign",_q);}}else{trace(_a[_aa].objid.name+" ==> 전달된 Component가 유효하지 않습니다");}}try{if(typeof (this.afterCommCodeLoad)=="function"){this.afterCommCodeLoad();}}catch(e){}};pForm._gfnGetCellIdx=function(_a,_b){var _c=_a.getCellCount("body");for(var _g=0;_g<_c;_g++ ){var _d=_a.getCellProperty("body",_g,"text");var _e=_d.indexOf(":");var _f=_d.substr(_e+1,_d.length);if(_f==_b){return _g;}}return -1;};pForm._gfnGetDataSet=function(_a){var _b;if(!this.isValidObject(_a)){_b=new Dataset(_a);_b.name=_a;this.addChild(_a,_b);}else{_b=this.objects[_a];}return _b;};pForm._gfnGetComponentFullName=function(_a){var _b="";while(!this.gfnIsNull(_a.parent.name)&&(_a.parent.toString().toUpperCase()!="[OBJECT CHILDFRAME]")){_b=_a.name+(this.gfnIsNull(_b)?"":"_")+_b;_a=_a.parent;}return _b;};pForm._gfnInsertDefaultRow=function(_a,_b,_c,_d,_e,_f){if(this.gfnIsNull(_e)){_e="SSC_CD";}if(_a.insertRow(0)!=-1){_a.setColumn(0,"SEL_TYPE",_d);switch(_d){case "A":if(this.gfnIsNull(_f)){_f="%";}_a.setColumn(0,_e,_f);break;case "S":case "N":case "":if(this.gfnIsNull(_f)){_f="";}_a.setColumn(0,_e,_f);break;}if(this.gfnIsNull(_c)){_a.setColumn(0,"SSC_CD_KORN_NM",_b);}else{_a.setColumn(0,_c,_b);}}};pForm=null;
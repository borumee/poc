var pForm=nexacro.Form.prototype;pForm.FRAME_MENUCOLUMNS={sytmFlagCd:"SYTM_FLAG_CD",menuId:"MENU_ID",menuNm:"MENU_NM",groupId:"MODULE_CD",prgmId:"PRGM_ID",prgmPath:"PRGM_PATH",prgmFileNm:"PRGM_FILE_NM",menuUrl:"MENU_URL",menuLevel:"MENU_LV",upMenuId:"HIPO_MENU_ID",addBtnYn:"CMMNBTNADD",delBtnYn:"CMMNBTNDEL",saveBtnYn:"CMMNBTNSAVE",printBtnYn:"CMMNBTNPRINT",helpBtnYn:"cmmnBtnHelp",excelUpBtnYn:"cmmnBtnExcelUp",excelDownBtnYn:"CMMNBTNEXCELDOWN",initbtinYn:"CMMNBTNINIT",searchBtnYn:"CMMNBTNSEARCH",winId:"WIN_ID",title:"MENU_NM",param:"PARM",displayPath:"DISPLAY_PATH"};pForm.gfnGetRunMode=function(){return nexacro.getApplication().gvRunMode;};pForm.gfnIsNexaBrowser=function(){return (system.navigatorname=="nexacro");};pForm.gfnGetServerUrl=function(){var _a="";if(system.navigatorname=="nexacro"){var _b=nexacro.getEnvironment();_a=_b.services["svcUrl"].url;}else{_a=window.location.protocol+"//"+window.location.host;_a+="/";}return _a;};pForm.gfnSetLogin=function(){var _a=nexacro.getApplication();_a.gvCloseCheck=true;_a.gvFrmTop.set_formurl(_a.TOP_FORM_PATH);_a.gvFrmLeft.set_formurl(_a.LEFT_FORM_PATH);_a.gvFrmMdi.set_formurl(_a.MDI_FORM_PATH);_a.gvFrmLogin.set_formurl("");this.gfnSetMain(true);};pForm.gfnSetMain=function(_a){if(this.gfnIsNull(_a)){_a=false;}var _b=nexacro.getApplication();_b.gvFrameStat="main";_b.gvVfrs.set_separatesize("0,50,*");if(_b.gvMdiFramePos=="top"){_b.gvVfrsWork.set_separatesize("42,*,0,0");}else if(_b.gvMdiFramePos=="bottom"){_b.gvVfrsWork.set_separatesize("0,*,0,42");}if(_a==false){_b.gvFrmMdi.form.fnSetStyle("main");}if(this.gfnIsNull(_b.gvFrmMain.formurl)){_b.gvFrmMain.set_formurl(_b.MAIN_FORM_PATH);}_b.gvFrmMain.form.setFocus();};pForm.gfnSetSub=function(){var _a=nexacro.getApplication();_a.gvFrameStat="sub";if(_a.gvMdiFramePos=="top"){_a.gvVfrsWork.set_separatesize("42,0,*,0");}else if(_a.gvMdiFramePos=="bottom"){_a.gvVfrsWork.set_separatesize("0,0,*,42");}_a.gvFrmMdi.form.fnSetStyle("sub");};pForm.gfnGoLogin=function(){var _a=nexacro.getApplication();if(_a.gvFrameStat=="login"){return;}if(system.navigatorname=="nexacro"){_a.gvFrameStat="login";_a.gvCloseCheck=false;try{_a.gvFrmMdi.form.fnCloseAll(false);}catch(e){}_a.gvFrmTop.set_formurl("");_a.gvFrmLeft.set_formurl("");_a.gvFrmMdi.set_formurl("");_a.gvFrmMain.set_formurl("");_a.gvFrmLogin.set_formurl(_a.LOGIN_FORM_PATH);_a.gvVfrs.set_separatesize("*,0,0");_a.gvHfrs.set_separatesize("0,*");}else{window.top.location.reload(true);}};pForm.gfnShowLeftFrame=function(){var _a=nexacro.getApplication();_a.gvHfrs.set_separatesize("210,*");_a.gvFrmMdi.form.btnLeftMenuShowHide.set_cssclass("btn_MDI_Close");_a.gvFrmLeft.form.fvMenuStatus="open";};pForm.gfnHideLeftFrame=function(){var _a=nexacro.getApplication();_a.gvHfrs.set_separatesize("0,*");_a.gvFrmMdi.form.btnLeftMenuShowHide.set_cssclass("btn_MDI_Open");_a.gvFrmLeft.form.fvMenuStatus="close";};pForm.gfnOpenMenu=function(_a,_b,_c){var _d=false;if(this.gfnIsNull(this.getOwnerFrame().form.opener)){_d=this._gfnOpenMenu(_a,_b,_c);}else{_d=nexacro.getApplication().gvFrmLeft.form._gfnOpenMenu(_a,_b,_c);}return _d;};pForm._gfnOpenMenu=function(_a,_b,_c){if(this.gfnIsNull(_a)){this.gfnAlert("msg.nomenu");return false;}var _d=nexacro.getApplication();if(this.gfnIsNull(_c)){_c=true;}var _e=_d.gdsMenu.findRow(this.FRAME_MENUCOLUMNS.menuId,_a);var _f=_d.gdsMenu.getColumn(_e,this.FRAME_MENUCOLUMNS.menuUrl);var _g=_d.gdsOpenMenu.lookupAs(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.winId);var _h=_d.gdsOpenMenu.lookupAs(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.title);var _i=_d.gvFrsWork.all[_g];if(_i!=null){if(_c==true){if(!this.gfnIsNull(_i.form.fnWorkFrameClose)&&_i.form.fnWorkFrameClose()==false){this.gfnAlert("confirm.before.reopen",null,"confirm.before.reopen",function(_j,_k){if(_k){_i.arguments["menuId"]=_a;_i.arguments["menuParam"]=_b;_i.arguments["menuUrl"]=_f;_d.gvFrmMdi.form.isActiveFrame(_g);_i.form.reload();return;}else{_d.gvFrmMdi.form.isActiveFrame(_g);}});}else{_i.arguments["menuId"]=_a;_i.arguments["menuParam"]=_b;_i.arguments["menuUrl"]=_f;_d.gvFrmMdi.form.isActiveFrame(_g);_i.form.reload();}}else{_d.gvFrmMdi.form.isActiveFrame(_g);}return;}var _f=_d.gdsMenu.getColumn(_e,this.FRAME_MENUCOLUMNS.menuUrl);var _h=_d.gdsMenu.getColumn(_e,this.FRAME_MENUCOLUMNS.menuNm);if(this.gfnIsNull(_f)){return;}if(this.gfnIsNull(_h)){return;}if(_d.gdsOpenMenu.rowcount>=_d.gvOpenMaxFrame){this.gfnAlert("msg.err.mdicount.max",[_d.gvOpenMaxFrame],"msg.err.mdicount.max",null);return false;}else{this.gfnNewMdi(_d.gdsMenu,_e,_b,_c);}return true;};pForm.gfnNewMdi=function(_a,_b,_c,_d){var _e=nexacro.getApplication();var _f=_e.gdsOpenMenu;var _g=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuId);var _h=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuUrl);var _i=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.groupId);var _j=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.prgmId);var _k=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuNm);var _l=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.displayPath);var _m=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.param);if(this.gfnIsNull(_i)){return;}if(this.gfnIsNull(_h)){return;}var _n="FRAMEWORK_"+"_"+_f.getRowCount()+"_"+parseInt(Math.random()* 1000);this.gfnSetOpenMenuDs(_n,_g,_k,_h,_i,_j);var _o=new ChildFrame;_o.init(_n,0,0,_e.gvFrsWork.getOffsetWidth()-0,_e.gvFrsWork.getOffsetHeight()-0);_e.gvFrsWork.addChild(_n,_o);_o.arguments=[];_o.set_showtitlebar(false);_o.set_openstatus("maximize");_o.set_showcascadetitletext(false);_o.arguments[this.FRAME_MENUCOLUMNS.winId]=_n;_o.arguments[this.FRAME_MENUCOLUMNS.menuId]=_g;_o.arguments[this.FRAME_MENUCOLUMNS.menuNm]=_k;_o.arguments[this.FRAME_MENUCOLUMNS.menuUrl]=_h;_o.arguments[this.FRAME_MENUCOLUMNS.groupId]=_i;_o.arguments[this.FRAME_MENUCOLUMNS.prgmId]=_j;_o.arguments[this.FRAME_MENUCOLUMNS.param]=_m;_o.arguments["menuParam"]=_c;_o.arguments["menuNavi"]=_l;_o.set_formurl("frame::frmWork.xfdl");_e.gvFrmMdi.form.fnAddTab(_n,_k);_e.gvFrmMdi.form.isActiveFrame(_n);_o.show();};pForm.gfnSetOpenMenuDs=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.getApplication();var _h=_g.gdsOpenMenu;var _i=_h.addRow();_h.setColumn(_i,this.FRAME_MENUCOLUMNS.winId,_a);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.menuId,_b);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.title,_c);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.menuUrl,_d);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.groupId,_e);_h.setColumn(_i,this.FRAME_MENUCOLUMNS.prgmId,_f);};pForm._gfnGetMenuNavi=function(_a,_b){var _c=nexacro.getApplication();var _d=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.menuNm);var _e=_a.getColumn(_b,this.FRAME_MENUCOLUMNS.upMenuId);var _f=_a.findRow(this.FRAME_MENUCOLUMNS.menuId,_e);var _g=_a.getColumn(_f,this.FRAME_MENUCOLUMNS.menuNm);sPath="<fc v='#000000'>"+_d+"</fc>";while(1){_f=_a.findRow(this.FRAME_MENUCOLUMNS.menuId,_e);if(_f>-1){sPath=_a.getColumn(_f,this.FRAME_MENUCOLUMNS.menuNm)+" > "+sPath;}_e=_a.getColumn(_f,this.FRAME_MENUCOLUMNS.upMenuId);if(this.gfnIsNull(_e)){break;}}return sPath;};pForm.gfnRemoveOpenMenuDs=function(_a){var _b=nexacro.getApplication();var _c=_b.gdsOpenMenu.findRow(this.FRAME_MENUCOLUMNS.winId,_a);_b.gdsOpenMenu.deleteRow(_c);};pForm.gfnGetArgument=function(_a){var _b;if(this.gfnIsNull(_a)){_b=this.getOwnerFrame().arguments["menuParam"];}else{_b=this.getOwnerFrame().arguments[_a];}return _b;};pForm.gfnSetUrl=function(_a,_b,_c){var _d=this.getOwnerFrame();_d.arguments["menuParam"]=_b;if(this.opener){_d.set_autosize(true);_d.set_formurl("");_d.set_formurl(_a);}else{if(nexacro.getEnvironmentVariable("evQuikView")=="Y"){if(_c){_c.set_url("");_c.set_url(_a);}else{_d.set_formurl("");_d.set_formurl(_a);}}else{if(_c){_c.set_url("");_c.set_url(_a);}else{var _c=this.parent;_c.set_url("");_c.set_url(_a);}}}};pForm.gfnFormOnload=function(_a){var _b=nexacro.getApplication();if(_a.parent.name=="divWork"){var _b=nexacro.getApplication();_a.addEventHandler("onkeydown",this.gfnOnkeydown,this);}if(_a.opener){if(_a.parent instanceof nexacro.ChildFrame){_a.addEventHandler("onkeydown",this.gfnOnkeydown,this);}}if(nexacro.getEnvironmentVariable("evQuickView")=="Y"){if(this.gfnIsNull(_a.opener)&&_a.parent instanceof nexacro.ChildFrame){_a.addEventHandler("onkeydown",this.gfnOnkeydown,this);}}var _c=_a.components["divSearch"];if(!this.gfnIsNull(_c)){this.gfnSearchCondInint(_c);}this.gfnInitComp(_a);};pForm.gfnSearchCondInint=function(_a){var _b=_a.form.components;for(var _c=0;_c<_b.length;_c++ ){if(_b[_c] instanceof nexacro.Edit||_b[_c] instanceof nexacro.Combo||_b[_c] instanceof nexacro.MaskEdit||_b[_c] instanceof nexacro.Calendar){if(_b[_c].uUse!="false"){_b[_c].addEventHandler("onkeyup",this.gfnSearchCond_onkeyup,this);}}}};pForm.gfnSearchCond_onkeyup=function(_a,_b){if(_b.keycode==13){var _c="cfnSearch";if(this[_c]){this.lookupFunc(_c).call();}}};pForm.gfnInitComp=function(_a){var _b=_a.components;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){if(_b[_e] instanceof nexacro.Div){if(this.gfnIsNull(_b[_e].url)){this.gfnInitComp(_b[_e].form);}}else if(_b[_e] instanceof nexacro.Tab){var _d=_b[_e].tabpages.length;for(var _f=0;_f<_d;_f++ ){if(this.gfnIsNull(_b[_e].tabpages[_f].url)){this.gfnInitComp(_b[_e].tabpages[_f].form);}}}else{if(_b[_e] instanceof nexacro.Grid){this.gfnSetGrid(_b[_e]);}}}};pForm.gfnSetCommBtn=function(){return;var _a=nexacro.getApplication();var _b=_a.gdsCmmnBtn;var _c="";var _d=_a.gdsOpenMenu;var _e=_d.getColumn(_d.rowposition,this.FRAME_MENUCOLUMNS.menuId);_c=this.gfnGetAuth(_e);if(this.gfnIsNull(_c)){_c="NNNNNNN";}if(_c=="YYYYYYY"){return;}var _f=_c[0];var _g=_c[1];var _h=_c[2];var _i=_c[3];var _j=_c[4];var _k=_c[5];var _l=_c[6];for(var _y=0;_y<arguments.length;_y++ ){if(!(arguments[_y] instanceof Div)){this.gfnLog("gfnSetCommBtn함수에 Parameter로 전달된 Div이 없습니다. ["+(_y+1)+"번째]");return;}var _m=arguments[_y].form;var _n=_m.components;var _o=_n.length;var _p=true;_b.clearData();_b.set_enableevent(false);for(var _z=0;_z<_o;_z++ ){var _q=_n[_z].name;var _r=_b.addRow();_b.setColumn(_r,"component",_q);_b.setColumn(_r,"right",_n[_z].getOffsetRight());_b.setColumn(_r,"width",_n[_z].getOffsetWidth());_p=_n[_z].visible;var _s=false;if(_q.indexOf("btn")> -1){var _t=_q.substr(3);switch(_t){case "Add":_s=(_f=="Y"?true:false);break;case "Del":_s=(_g=="Y"?true:false);break;case "Save":_s=(_h=="Y"?true:false);break;case "Print":_s=(_i=="Y"?true:false);break;case "Help":_s=(_j=="Y"?true:false);break;case "ExcelUp":_s=(_k=="Y"?true:false);break;case "ExcelDown":_s=(_l=="Y"?true:false);break;default:_s=true;break;}if(_p==false){_s=_p;}}else{_s=_n[_z].visible;}_b.setColumn(_r,"visible",_s);_n[_z].set_visible(_s);}_b.set_enableevent(true);_b.set_keystring("S:-right");_b.set_filterstr("");_b.set_filterstr("visible=='true'");var _u=0;var _v=3;var _w=_b.rowcount;for(var _aa=0;_aa<_w;_aa++ ){var _x=_m.components[_b.getColumn(_aa,"component")];_x.move(null,0,_x.getOffsetWidth(),_x.getOffsetHeight(),_u);_u=_u+_v+nexacro.toNumber(_x.getOffsetWidth());}}};pForm.gfnGetAuth=function(_a){var _b=nexacro.getApplication();var _c=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.addBtnYn)=="1"?"1":"0";var _d=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.delBtnYn)=="1"?"1":"0";var _e=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.saveBtnYn)=="1"?"1":"0";var _f=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.printBtnYn)=="1"?"1":"0";var _g=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.helpBtnYn)=="1"?"1":"0";var _h=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.excelUpBtnYn)=="1"?"1":"0";var _i=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,this.FRAME_MENUCOLUMNS.excelDownBtnYn)=="1"?"1":"0";var _j=_c+_d+_e+_f+_g+_h+_i;return _j;};pForm.gfnGetSearchScopeCd=function(_a){var _b=nexacro.getApplication();var _c=_b.gdsMenu.lookup(this.FRAME_MENUCOLUMNS.menuId,_a,"SEARCH_SCOPE_CD");return _c;};pForm.gfnOnkeydown=function(_a,_b){if(_b.ctrlkey&&_b.altkey&&_b.keycode==68){if(this.gfnGetRunMode()=="R"){return;}var _c={};var _d={width:"900",height:"500",popuptype:"modeless",titlebar:true,title:"디버그",resize:true};this.gfnOpenPopup("popupDebug","common::cmmDebug.xfdl",_c,"",_d);return true;}};pForm.gfnSetWorkMode=function(_a){var _b=nexacro.getApplication();if(this.gfnIsNull(_b.gvVfrs.status)){_b.gvVfrs.status="0,50,*";}if(this.gfnIsNull(_b.gvHfrs.status)){_b.gvHfrs.status="210,*";}if(this.gfnIsNull(_b.gvVfrsWork.status)){_b.gvVfrsWork.status="42,0,*,0";}if(_a=="normal"){_b.gvVfrs.set_separatesize(_b.gvVfrs.status);_b.gvHfrs.set_separatesize(_b.gvHfrs.status);_b.gvVfrsWork.set_separatesize(_b.gvVfrsWork.status);}else if(_a=="max"){_b.gvVfrs.status=_b.gvVfrs.separatesize;_b.gvHfrs.status=_b.gvHfrs.separatesize;_b.gvVfrsWork.status=_b.gvVfrsWork.separatesize;_b.gvVfrs.set_separatesize("0,0,*");_b.gvHfrs.set_separatesize("0,*");_b.gvVfrsWork.set_separatesize("0,0,*,0");}};pForm.gfnSaveMenuOpenLog=function(_a,_b,_c){var _d=nexacro.getApplication().gdsLog;_d.clearData();var _e=_d.addRow();_d.setColumn(_e,"LOG_TYPE",_a);_d.setColumn(_e,"PRGM_ID",_b);_d.setColumn(_e,"MENU_ID",_c);var _f="saveLog";var _g="saveLog.do";var _h="dsList=gdsLog:U";var _i="";var _j="";var _k="gfnStopCallback";this.gfnTransaction(_f,_g,_h,_i,_j,_k);};pForm.gfnIsMobile=function(){var _a=((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro._OS=="Android"&&nexacro._Browser=="Runtime"));if(_a==true||_a=="true"){return "1";}else{return "0";}};pForm.gfnSetLoginLogDataset=function(){var _a=nexacro.getApplication().gdsLoginLog;_a.clearData();var _b=nexacro._OSVersion+"";if(nexacro._OS.indexOf("Win")>=0){switch(_b){case "5.0":case "5.01":case "Windows 2000":case "Windows 2000, Service Pack 1 (SP1)":_b="2000";break;case "5.1":case "Windows XP":_b="XP";break;case "5.2":case "Windows Server 2003 / Windows XP 64-bit":_b="2003";break;case "6.0":case "Windows Vista":_b="Vista";break;case "6.1":case "Windows 7":_b="7";break;case "6.2":case "Windows 8":_b="8";break;case "6.3":case "Windows 8.1":_b="8.1";break;case "10.0":case "Windows 10":_b="10";break;default:}}var _c={browser:nexacro._Browser,browserver:nexacro._BrowserVersion,os:nexacro._OS,osver:_b,mobile:this.gfnIsMobile(),screenwidth:system.getScreenWidth(),screenheight:system.getScreenHeight()};var _d=_a.addRow();_a.setColumn(_d,"BROWSER_CD",_c.browser);_a.setColumn(_d,"BROWSER_VERSION",_c.browserver);_a.setColumn(_d,"OS_CD",_c.os);_a.setColumn(_d,"OS_VERSION",_c.osver);_a.setColumn(_d,"SCREEN_HEIGHT",_c.screenheight);_a.setColumn(_d,"SCREEN_WIDTH",_c.screenwidth);_a.setColumn(_d,"MOB_YN",_c.mobile);};pForm=null;
var pForm=nexacro.Form.prototype;pForm.gfnDsIsUpdated=function(_a){if(_a.getDeletedRowCount()>0){return true;}for(var _b=0;_b<_a.getRowCountNF();_b++ ){if(_a.getRowTypeNF(_b)==2||_a.getRowTypeNF(_b)==4||_a.getRowTypeNF(_b)==8){return true;}}return false;};pForm.gfnIsNull=function(_a){if(new String(_a).valueOf()=="undefined"){return true;}if(_a==null){return true;}var _b=new String(_a);if(_b==null){return true;}if(_b.toString().length==0){return true;}return false;};pForm.gfnNvl=function(_a,_b){if(_a==null){_a=_b;}return _a;};pForm.gfnTrim=function(_a){if(this.gfnIsNull(_a)){return "";}return nexacro.trim(_a);};pForm.gfnTypeOf=function(_a){var _b;if(_a&&(typeof _a=="object")){var _c=_a.toString();if(_c=="[object Object]"){return _b;}_b=_c.substr(8,_c.length-9);}else{_b=typeof (_a);}return _b;};pForm.gfnLengthByte=function(_a){var _b=0;var _c;if(this.gfnIsNull(_a)){return 0;}for(var _d=0;_d<_a.length;_d++ ){_c=escape(_a.charAt(_d));if(_c.length==1){_b++ ;}else if(_c.indexOf("%u")!=-1){_b+=3;}else if(_c.indexOf("%")!=-1){_b+=_c.length/3;}}return _b;};pForm.gfnGetDigit=function(_a){var _b=new RegExp("\\D","g");var _c=_a.replace(_b,"");return _c;};pForm.gfnLPad=function(_a,_b,_c){var _d="";var _e="";if(this.gfnIsNull(_a)){return "";}if(this.gfnIsNull(_b)){_b=" ";}if(this.gfnIsNull(_c)){_c=1;}_e=new String(_a);if(_e.length>=_c){return _e;}for(var _f=0;_f<_c-_e.length;_f++ ){_d+=_b;}_d+=_e;return _d;};pForm.gfnRPad=function(_a,_b,_c){var _d="";var _e=_a;if(this.gfnIsNull(_a)){return "";}if(this.gfnIsNull(_b)){_b=" ";}if(this.gfnIsNull(_c)){_c=1;}if(_e.length>=_c){return _a;}_d=new String(_a);for(var _f=0;_f<_c-_e.length;_f++ ){_d+=_b;}return _d;};pForm.gfnRound=function(_a,_b){var _c;if(this.gfnIsNull(_a)){return 0;}if(this.gfnIsNull(_b)){_b=0;}_c=Number(_a);if(isNaN(_c)){return 0;}return Number(_c.toFixed(_b));};pForm.gfnGetDate=function(_a,_b){if(this.gfnIsNull(_a)){_a="date";}if(this.gfnIsNull(_b)){_b=false;var _c="";var _d="";var _e="";}else{_b=true;var _c="-";var _d=":";var _e=" ";}var _f;var _g=new Date();if(_a=="date"){_f=_g.getFullYear()+_c+((_g.getMonth()+1)+"").padLeft(2,'0')+_c+(_g.getDate()+"").padLeft(2,'0');}else if(_a=="day"){_f=_g.getFullYear()+_c+((_g.getMonth()+1)+"").padLeft(2,'0')+_c+(_g.getDate()+"").padLeft(2,'0')+_e+this.gfnGetDayKor(_g.getFullYear()+((_g.getMonth()+1)+"").padLeft(2,'0')+(_g.getDate()+"").padLeft(2,'0'));}else if(_a=="time"){_f=_g.getFullYear()+_c+((_g.getMonth()+1)+"").padLeft(2,'0')+_c+(_g.getDate()+"").padLeft(2,'0')+_e+(_g.getHours()+"").padLeft(2,'0')+_d+(_g.getMinutes()+"").padLeft(2,'0')+_d+(_g.getSeconds()+"").padLeft(2,'0');}else if(_a=="milli"){_f=_g.getFullYear()+_c+((_g.getMonth()+1)+"").padLeft(2,'0')+_c+(_g.getDate()+"").padLeft(2,'0')+_e+(_g.getHours()+"").padLeft(2,'0')+_d+(_g.getMinutes()+"").padLeft(2,'0')+_d+(_g.getSeconds()+"").padLeft(2,'0')+_d+(_g.getMilliseconds()+"").padLeft(3,'0');}return (_f);};pForm.gfnAddDate=function(_a,_b){var _c=new Date();var _d=parseInt(_a.substr(0,4));var _e=parseInt(_a.substr(4,2)-1);var _f=parseInt(_a.substr(6,2)-(_b* -1));_c.setFullYear(_d,_e,_f);return this.gfnDateToStr(_c);};pForm.gfnAddMonth=function(_a,_b){var _c,_d,_e,_f,_g;var _h=function(_n){var _o;var _p=parseInt(_n.substr(0,4),10);var _q=parseInt(_n.substr(4,2),10);switch(_q){case 2:if(((_p%4)==0)&&((_p%100)!=0)||((_p%400)==0)){_o=29;}else{_o=28;}break;case 4:case 6:case 9:case 11:_o=30;break;default:_o=31;break;}return _o;};if(_a){_c=this.gfnStrToDate(_a);_d=(new Date(_c)).addMonth(_b);}else{_c=this.gfnStrToDate(this.gfnGetDate());_d=(new Date(_c)).addMonth(_b);}if(_h(_a)==_c.getDate()){var _i=new Date(_d).getFullYear();var _j=new Date(_d).getMonth();var _k=_c.getFullYear();var _l=_c.getMonth();_f= -((_k-_i)* 12+(_l-_j));if(_f!=_b){_g=_b-_f;_d=(new Date(_d)).addMonth(-1);}var _m=new Date((new Date(_d)).getFullYear(),(new Date(_d)).getMonth(),_h(this.gfnDateToStr(new Date(_d))));_e=(new Date(_m)).getFullYear()+(((new Date(_m)).getMonth()+1)+"").padLeft(2,'0')+(((new Date(_m)).getDate())+"").padLeft(2,'0');}else{_e=(new Date(_d)).getFullYear()+(((new Date(_d)).getMonth()+1)+"").padLeft(2,'0')+(((new Date(_d)).getDate())+"").padLeft(2,'0');}return (_e);};pForm.gfnGetHolidays=function(_a){var _b=new Array();var _c=false;_c=(_a%4==0&&_a%100!=0||_a%400==0)?true:false;_b[0]=this.gfnLunarToSolar(_a+"0101",_c)+"설날";_b[1]=this.gfnAddDate(_b[0].substring(0,8),-1)+"설날";_b[2]=this.gfnAddDate(_b[0].substring(0,8),1)+"설날";_b[3]=this.gfnLunarToSolar(_a+"0408",_c)+"석가탄신일";_b[4]=this.gfnLunarToSolar(_a+"0815",_c)+"추석";_b[5]=this.gfnAddDate(_b[4].substring(0,8),-1)+"추석";_b[6]=this.gfnAddDate(_b[4].substring(0,8),1)+"추석";_b[7]=_a+"0101"+"신정";_b[8]=_a+"0301"+"삼일절";_b[9]=_a+"0505"+"어린이날";_b[10]=_a+"0606"+"현충일";_b[11]=_a+"0815"+"광복절";_b[12]=_a+"1003"+"개천절";_b[13]=_a+"1009"+"한글날";_b[14]=_a+"1225"+"성탄절";return _b.sort();};pForm.gfnSolarToLunar=function(_a){var _b="31,0,31,30,31,30,31,31,30,31,30,31";var _c=[];var _d=[];var _e=[];var _f;var _g;var _h;var _i;var _j,_k,_l;var _m;var _n,_o,_p;_n=parseInt(_a.substr(0,4),10);_o=parseInt(_a.substr(4,2),10);_p=parseInt(_a.substr(6,2),10);if(_n<1841||_n>2043){return null;}_d=this.gfnSolarBase();_c=_b.split(",");_c[1]=28;if((_n%4)==0){if((_n%100)!=0||(_n%400)==0){_c[1]=29;}}_g=672069;_h=(_n-1)* 365+parseInt((_n-1)/4)-parseInt((_n-1)/100)+parseInt((_n-1)/400);for(var _r=0;_r<=_o-2;_r++ ){_h=_h+parseInt(_c[_r]);}_h=_h+_p;_f=_h-_g+1;for(var _r=0;_r<=_n-1841;_r++ ){_e[_r]=0;for(var _s=0;_s<=11;_s++ ){switch(parseInt(_d[_r* 12+_s])){case 1:_i=29;break;case 2:_i=30;break;case 3:_i=58;break;case 4:_i=59;break;case 5:_i=59;break;case 6:_i=60;break;}_e[_r]=_e[_r]+_i;}}_j=0;do{_f=_f-_e[_j];_j=_j+1;}while(_f>_e[_j])_k=0;_m="0";do{if(parseInt(_d[_j* 12+_k])<=2){_i=parseInt(_d[_j* 12+_k])+28;if(_f>_i){_f=_f-_i;_k=_k+1;}else{break;}}else{switch(parseInt(_d[_j* 12+_k])){case 3:m1=29;m2=29;break;case 4:m1=29;m2=30;break;case 5:m1=30;m2=29;break;case 6:m1=30;m2=30;break;}if(_f>m1){_f=_f-m1;if(_f>m2){_f=_f-m2;_k=_k+1;}else{_m="1";}}else{break;}}}while(1)_j=_j+1841;_k=_k+1;_l=_f;var _q=_m+_j;_q=_q+_k.toString().padLeft(2,"0");_q=_q+_l.toString().padLeft(2,"0");return _q;};pForm.gfnLunarToSolar=function(_a,_b){var _c="31,0,31,30,31,30,31,31,30,31,30,31";var _d=[];var _e=[];var _f=0;var _g,_h,_i;var _j,_k,_l,_m,_n;var _o;var _p,_q,_r;_p=parseInt(_a.substr(0,4),10);_q=parseInt(_a.substr(4,2),10);_r=parseInt(_a.substr(6,2),10);if(_p<1841||_p>2043){return null;}_e=this.gfnSolarBase();_d=_c.split(",");_d[1]=28;if((_p%4)==0){if((_p%100)!=0||(_p%400)==0){_d[1]=29;}}_j=_p-1841;_k=_q-1;_o=0;if(parseInt(_e[_j* 12+_k])>2){if((_p%4)==0){if((_p%100)!=0||(_p%400)==0){_o=1;}}}if(_o==1){switch(parseInt(_e[_j* 12+_k])){case 3:_n=29;break;case 4:_n=30;break;case 5:_n=29;break;case 6:_n=30;break;}}else{switch(parseInt(_e[_j* 12+_k])){case 1:_n=29;break;case 2:_n=30;break;case 3:_n=29;break;case 4:_n=29;break;case 5:_n=30;break;case 6:_n=30;break;}}var _s=_j-1;for(var _w=0;_w<=_s;_w++ ){for(var _x=0;_x<=11;_x++ ){switch(parseInt(_e[_w* 12+_x])){case 1:_f=_f+29;break;case 2:_f=_f+30;break;case 3:_f=_f+58;break;case 4:_f=_f+59;break;case 5:_f=_f+59;break;case 6:_f=_f+60;break;}}}var _t=_k-1;for(var _x=0;_x<=_t;_x++ ){switch(parseInt(_e[_j* 12+_x])){case 1:_f=_f+29;break;case 2:_f=_f+30;break;case 3:_f=_f+58;break;case 4:_f=_f+59;break;case 5:_f=_f+59;break;case 6:_f=_f+60;break;}}if(_o==1){switch(parseInt(_e[_j* 12+_k])){case 3:_n=29;break;case 4:_n=29;break;case 5:_n=30;break;case 6:_n=30;break;}}_f=_f+_r+22;if(_b){switch(parseInt(_e[_j* 12+_k])){case 3:_f=_f+29;break;case 4:_f=_f+30;break;case 5:_f=_f+29;break;case 6:_f=_f+30;break;}}_j=1840;do{_j=_j+1;_o=0;if((_j%4)==0){if((_j%100)!=0||(_j%400)==0){_o=1;}}if(_o==1){_l=366;}else{_l=365;}if(_f<=_l){break;}_f=_f-_l;}while(1)_g=_j;_d[1]=_l-337;_k=0;do{_k=_k+1;if(_f<=parseInt(_d[_k -1])){break;}_f=_f-parseInt(_d[_k -1]);}while(1)_h=_k;_i=_f;_m=_g;_f=_m* 365+parseInt(_m/4)-parseInt(_m/100)+parseInt(_m/400);var _u=_h-1;for(var _w=0;_w<=_u;_w++ ){_f=_f+parseInt(_d[_w]);}_f=_f+_i;var _v=_m;_v=_v+_h.toString().padLeft(2,"0");_v=_v+_i.toString().padLeft(2,"0");return _v;};pForm.gfnSolarBase=function(){var _a;_a="1,2,4,1,1,2,1,2,1,2,2,1,";_a+="2,2,1,2,1,1,2,1,2,1,2,1,";_a+="2,2,2,1,2,1,4,1,2,1,2,1,";_a+="2,2,1,2,1,2,1,2,1,2,1,2,";_a+="1,2,1,2,2,1,2,1,2,1,2,1,";_a+="2,1,2,1,5,2,1,2,2,1,2,1,";_a+="2,1,1,2,1,2,1,2,2,2,1,2,";_a+="1,2,1,1,2,1,2,1,2,2,2,1,";_a+="2,1,2,3,2,1,2,1,2,1,2,2,";_a+="2,1,2,1,1,2,1,1,2,2,1,2,";_a+="2,2,1,2,1,1,2,1,2,1,5,2,";_a+="2,1,2,2,1,1,2,1,2,1,1,2,";_a+="2,1,2,2,1,2,1,2,1,2,1,2,";_a+="1,2,1,2,1,2,5,2,1,2,1,2,";_a+="1,1,2,1,2,2,1,2,2,1,2,1,";_a+="2,1,1,2,1,2,1,2,2,2,1,2,";_a+="1,2,1,1,5,2,1,2,1,2,2,2,";_a+="1,2,1,1,2,1,1,2,2,1,2,2,";_a+="2,1,2,1,1,2,1,1,2,1,2,2,";_a+="2,1,6,1,1,2,1,1,2,1,2,2,";_a+="1,2,2,1,2,1,2,1,2,1,1,2,";_a+="2,1,2,1,2,2,1,2,2,3,1,2,";_a+="1,2,2,1,2,1,2,2,1,2,1,2,";_a+="1,1,2,1,2,1,2,2,1,2,2,1,";_a+="2,1,1,2,4,1,2,2,1,2,2,1,";_a+="2,1,1,2,1,1,2,2,1,2,2,2,";_a+="1,2,1,1,2,1,1,2,1,2,2,2,";_a+="1,2,2,3,2,1,1,2,1,2,2,1,";_a+="2,2,2,1,1,2,1,1,2,1,2,1,";_a+="2,2,2,1,2,1,2,1,1,5,2,1,";_a+="2,2,1,2,2,1,2,1,2,1,1,2,";_a+="1,2,1,2,2,1,2,1,2,2,1,2,";_a+="1,1,2,1,2,4,2,1,2,2,1,2,";_a+="1,1,2,1,2,1,2,1,2,2,2,1,";_a+="2,1,1,2,1,1,2,1,2,2,2,1,";_a+="2,2,1,1,5,1,2,1,2,2,1,2,";_a+="2,2,1,1,2,1,1,2,1,2,1,2,";_a+="2,2,1,2,1,2,1,1,2,1,2,1,";_a+="2,2,4,2,1,2,1,1,2,1,2,1,";_a+="2,1,2,2,1,2,2,1,2,1,1,2,";_a+="1,2,1,2,1,2,5,2,2,1,2,1,";_a+="1,2,1,2,1,2,1,2,2,1,2,2,";_a+="1,1,2,1,1,2,1,2,2,2,1,2,";_a+="2,1,1,2,3,2,1,2,2,1,2,2,";_a+="2,1,1,2,1,1,2,1,2,1,2,2,";_a+="2,1,2,1,2,1,1,2,1,2,1,2,";_a+="2,2,1,5,2,1,1,2,1,2,1,2,";_a+="2,1,2,2,1,2,1,1,2,1,2,1,";_a+="2,1,2,2,1,2,1,2,1,2,1,2,";_a+="1,5,2,1,2,2,1,2,1,2,1,2,";_a+="1,2,1,2,1,2,1,2,2,1,2,2,";_a+="1,1,2,1,1,5,2,2,1,2,2,2,";_a+="1,1,2,1,1,2,1,2,1,2,2,2,";_a+="1,2,1,2,1,1,2,1,2,1,2,2,";_a+="2,1,2,1,5,1,2,1,2,1,2,1,";_a+="2,2,2,1,2,1,1,2,1,2,1,2,";_a+="1,2,2,1,2,1,2,1,2,1,2,1,";_a+="2,1,5,2,2,1,2,1,2,1,2,1,";_a+="2,1,2,1,2,1,2,2,1,2,1,2,";_a+="1,2,1,1,2,1,2,5,2,2,1,2,";_a+="1,2,1,1,2,1,2,1,2,2,2,1,";_a+="2,1,2,1,1,2,1,2,1,2,2,2,";_a+="1,2,1,2,3,2,1,1,2,2,1,2,";_a+="2,2,1,2,1,1,2,1,1,2,2,1,";_a+="2,2,1,2,2,1,1,2,1,2,1,2,";_a+="1,2,2,4,1,2,1,2,1,2,1,2,";_a+="1,2,1,2,1,2,2,1,2,1,2,1,";_a+="2,1,1,2,2,1,2,1,2,2,1,2,";_a+="1,5,1,2,1,2,1,2,2,2,1,2,";_a+="1,2,1,1,2,1,2,1,2,2,2,1,";_a+="2,1,2,1,1,5,1,2,2,1,2,2,";_a+="2,1,2,1,1,2,1,1,2,2,1,2,";_a+="2,2,1,2,1,1,2,1,1,2,1,2,";_a+="2,2,1,2,5,1,2,1,2,1,1,2,";_a+="2,1,2,2,1,2,1,2,1,2,1,2,";_a+="1,2,1,2,1,2,2,1,2,1,2,1,";_a+="2,3,2,1,2,2,1,2,2,1,2,1,";_a+="2,1,1,2,1,2,1,2,2,2,1,2,";_a+="1,2,1,1,2,1,5,2,2,1,2,2,";_a+="1,2,1,1,2,1,1,2,2,1,2,2,";_a+="2,1,2,1,1,2,1,1,2,1,2,2,";_a+="2,1,2,2,3,2,1,1,2,1,2,2,";_a+="1,2,2,1,2,1,2,1,2,1,1,2,";_a+="2,1,2,1,2,2,1,2,1,2,1,1,";_a+="2,1,2,5,2,1,2,2,1,2,1,2,";_a+="1,1,2,1,2,1,2,2,1,2,2,1,";_a+="2,1,1,2,1,2,1,2,2,1,2,2,";_a+="1,5,1,2,1,1,2,2,1,2,2,2,";_a+="1,2,1,1,2,1,1,2,1,2,2,2,";_a+="1,2,2,1,1,5,1,2,1,2,2,1,";_a+="2,2,2,1,1,2,1,1,2,1,2,1,";_a+="2,2,2,1,2,1,2,1,1,2,1,2,";_a+="1,2,2,1,6,1,2,1,2,1,1,2,";_a+="1,2,1,2,2,1,2,2,1,2,1,2,";_a+="1,1,2,1,2,1,2,2,1,2,2,1,";_a+="2,1,4,1,2,1,2,1,2,2,2,1,";_a+="2,1,1,2,1,1,2,1,2,2,2,1,";_a+="2,2,1,1,2,1,4,1,2,2,1,2,";_a+="2,2,1,1,2,1,1,2,1,2,1,2,";_a+="2,2,1,2,1,2,1,1,2,1,2,1,";_a+="2,2,1,2,2,4,1,1,2,1,2,1,";_a+="2,1,2,2,1,2,2,1,2,1,1,2,";_a+="1,2,1,2,1,2,2,1,2,2,1,2,";_a+="1,1,2,4,1,2,1,2,2,1,2,2,";_a+="1,1,2,1,1,2,1,2,2,2,1,2,";_a+="2,1,1,2,1,1,2,1,2,2,1,2,";_a+="2,5,1,2,1,1,2,1,2,1,2,2,";_a+="2,1,2,1,2,1,1,2,1,2,1,2,";_a+="2,2,1,2,1,2,3,2,1,2,1,2,";_a+="2,1,2,2,1,2,1,1,2,1,2,1,";_a+="2,1,2,2,1,2,1,2,1,2,1,2,";_a+="1,2,1,2,4,2,1,2,1,2,1,2,";_a+="1,2,1,1,2,2,1,2,2,1,2,2,";_a+="1,1,2,1,1,2,1,2,2,1,2,2,";_a+="2,1,4,1,1,2,1,2,1,2,2,2,";_a+="1,2,1,2,1,1,2,1,2,1,2,2,";_a+="2,1,2,1,2,1,1,5,2,1,2,2,";_a+="1,2,2,1,2,1,1,2,1,2,1,2,";_a+="1,2,2,1,2,1,2,1,2,1,2,1,";_a+="2,1,2,1,2,5,2,1,2,1,2,1,";_a+="2,1,2,1,2,1,2,2,1,2,1,2,";_a+="1,2,1,1,2,1,2,2,1,2,2,1,";_a+="2,1,2,3,2,1,2,1,2,2,2,1,";_a+="2,1,2,1,1,2,1,2,1,2,2,2,";_a+="1,2,1,2,1,1,2,1,1,2,2,1,";_a+="2,2,5,2,1,1,2,1,1,2,2,1,";_a+="2,2,1,2,2,1,1,2,1,2,1,2,";_a+="1,2,2,1,2,1,5,2,1,2,1,2,";_a+="1,2,1,2,1,2,2,1,2,1,2,1,";_a+="2,1,1,2,2,1,2,1,2,2,1,2,";_a+="1,2,1,1,5,2,1,2,2,2,1,2,";_a+="1,2,1,1,2,1,2,1,2,2,2,1,";_a+="2,1,2,1,1,2,1,1,2,2,2,1,";_a+="2,2,1,5,1,2,1,1,2,2,1,2,";_a+="2,2,1,2,1,1,2,1,1,2,1,2,";_a+="2,2,1,2,1,2,1,5,2,1,1,2,";_a+="2,1,2,2,1,2,1,2,1,2,1,1,";_a+="2,2,1,2,1,2,2,1,2,1,2,1,";_a+="2,1,1,2,1,6,1,2,2,1,2,1,";_a+="2,1,1,2,1,2,1,2,2,1,2,2,";_a+="1,2,1,1,2,1,1,2,2,1,2,2,";_a+="2,1,2,3,2,1,1,2,2,1,2,2,";_a+="2,1,2,1,1,2,1,1,2,1,2,2,";_a+="2,1,2,2,1,1,2,1,1,5,2,2,";_a+="1,2,2,1,2,1,2,1,1,2,1,2,";_a+="1,2,2,1,2,2,1,2,1,2,1,1,";_a+="2,1,2,2,1,5,2,2,1,2,1,2,";_a+="1,1,2,1,2,1,2,2,1,2,2,1,";_a+="2,1,1,2,1,2,1,2,2,1,2,2,";_a+="1,2,1,1,5,1,2,1,2,2,2,2,";_a+="1,2,1,1,2,1,1,2,1,2,2,2,";_a+="1,2,2,1,1,2,1,1,2,1,2,2,";_a+="1,2,5,2,1,2,1,1,2,1,2,1,";_a+="2,2,2,1,2,1,2,1,1,2,1,2,";_a+="1,2,2,1,2,2,1,5,2,1,1,2,";_a+="1,2,1,2,2,1,2,1,2,2,1,2,";_a+="1,1,2,1,2,1,2,2,1,2,2,1,";_a+="2,1,1,2,3,2,2,1,2,2,2,1,";_a+="2,1,1,2,1,1,2,1,2,2,2,1,";_a+="2,2,1,1,2,1,1,2,1,2,2,1,";_a+="2,2,2,3,2,1,1,2,1,2,1,2,";_a+="2,2,1,2,1,2,1,1,2,1,2,1,";_a+="2,2,1,2,2,1,2,1,1,2,1,2,";_a+="1,5,2,2,1,2,1,2,2,1,1,2,";_a+="1,2,1,2,1,2,2,1,2,2,1,2,";_a+="1,1,2,1,2,1,5,2,2,1,2,2,";_a+="1,1,2,1,1,2,1,2,2,2,1,2,";_a+="2,1,1,2,1,1,2,1,2,2,1,2,";_a+="2,2,1,1,5,1,2,1,2,1,2,2,";_a+="2,1,2,1,2,1,1,2,1,2,1,2,";_a+="2,1,2,2,1,2,1,1,2,1,2,1,";_a+="2,1,6,2,1,2,1,1,2,1,2,1,";_a+="2,1,2,2,1,2,1,2,1,2,1,2,";_a+="1,2,1,2,1,2,1,2,5,2,1,2,";_a+="1,2,1,1,2,1,2,2,2,1,2,2,";_a+="1,1,2,1,1,2,1,2,2,1,2,2,";_a+="2,1,1,2,3,2,1,2,1,2,2,2,";_a+="1,2,1,2,1,1,2,1,2,1,2,2,";_a+="2,1,2,1,2,1,1,2,1,2,1,2,";_a+="2,1,2,5,2,1,1,2,1,2,1,2,";_a+="1,2,2,1,2,1,2,1,2,1,2,1,";_a+="2,1,2,1,2,2,1,2,1,2,1,2,";_a+="1,5,2,1,2,1,2,2,1,2,1,2,";_a+="1,2,1,1,2,1,2,2,1,2,2,1,";_a+="2,1,2,1,1,5,2,1,2,2,2,1,";_a+="2,1,2,1,1,2,1,2,1,2,2,2,";_a+="1,2,1,2,1,1,2,1,1,2,2,2,";_a+="1,2,2,1,5,1,2,1,1,2,2,1,";_a+="2,2,1,2,2,1,1,2,1,1,2,2,";_a+="1,2,1,2,2,1,2,1,2,1,2,1,";_a+="2,1,5,2,1,2,2,1,2,1,2,1,";_a+="2,1,1,2,1,2,2,1,2,2,1,2,";_a+="1,2,1,1,2,1,5,2,2,2,1,2,";_a+="1,2,1,1,2,1,2,1,2,2,2,1,";_a+="2,1,2,1,1,2,1,1,2,2,1,2,";_a+="2,2,1,2,1,4,1,1,2,1,2,2,";_a+="2,2,1,2,1,1,2,1,1,2,1,2,";_a+="2,2,1,2,1,2,1,2,1,1,2,1,";_a+="2,2,1,2,5,2,1,2,1,2,1,1,";_a+="2,1,2,2,1,2,2,1,2,1,2,1,";_a+="2,1,1,2,1,2,2,1,2,2,1,2,";_a+="1,5,1,2,1,2,1,2,2,2,1,2,";_a+="1,2,1,1,2,1,1,2,2,1,2,2";var _b=[];_b=_a.split(",");return _b;};pForm.gfnStrToDate=function(_a){var _b=new Date(parseInt(_a.substr(0,4)),parseInt(_a.substr(4,2))-1,parseInt(_a.substr(6,2)));return _b;};pForm.gfnDateToStr=function(_a){var _b=_a.getYear().toString();var _c=(_a.getMonth()+1).toString();var _d=_a.getDate().toString();if(_b.length==2){_b='19'+_b;}else if(_b.length==1){_b='190'+_b;}if(_c.length==1){_c='0'+_c;}if(_d.length==1){_d='0'+_d;}return _b+_c+_d;};pForm.gfnGetDay=function(_a){var _b=new Date();var _c=parseInt(_a.substr(0,4));var _d=parseInt(_a.substr(4,2)-1);var _e=parseInt(_a.substr(6,2));_b.setFullYear(_c,_d,_e);return _b.getDay();};pForm.gfnGetDayKor=function(_a){var _b=-1;var _c=["일","월","화","수","목","금","토"];_b=this.gfnGetDay(_a);if(_b<0){return "";}return _c[_b];};pForm.gfnIsDate=function(_a){if(this.gfnIsNull(_a)){return false;}var _b;switch(_a.length){case 6:_b=this.gfnIsYM(_a);break;case 8:_b=this.gfnIsYMD(_a);break;default:_b=false;break;}return _b;};pForm.gfnIsYMD=function(_a){var _b=this.gfnGetDigit(_a);if(_b.length!=8){return false;}var _c=_a.substr(0,6);if(!this.gfnIsYM(_c)){return false;}var _d=Number(_a.substr(6,2));var _e=Number(this.gfnGetLastDate(_c).substr(6,2));if(_d<1||_d>_e){return false;}return true;};pForm.gfnIsYM=function(_a){var _b=this.gfnGetDigit(_a);if(_b.length!=6){return false;}var _c=Number(_a.substr(0,4));var _d=Number(_a.substr(4,2));if((_d<1)||(_d>12)){return false;}return true;};pForm.gfnGetLastDate=function(_a){var _b="";if(_a==null){var _c=(new Date()).addMonth(1);}else{var _c=new Date(parseInt(_a.substr(0,4)),parseInt(_a.substr(4,2)),1);}_c=(new Date(_c)).addDate((new Date(_c)).getDate()* -1);_b=(new Date(_c)).getFullYear()+(((new Date(_c)).getMonth()+1)+"").padLeft(2,'0')+((new Date(_c)).getDate()+"").padLeft(2,'0');return (_b);};pForm.gfnGetBirthYear=function(_a){if(_a.toString().length!=13){return "N";}if(!(_a).match(/^\d{6}\d{7}$/)){return "N";}var _b=_a.substr(6,1);if(_b=='1'||_b=='2'||_b=='5'||_b=='6'){return '19';}else if(_b=='3'||_b=='4'||_b=='7'||_b=='8'){return '20';}};pForm.gfnDateToWeek=function(_a){var _b=nexacro.toNumber(_a.substr(0,4));var _c=nexacro.toNumber(_a.substr(4,2));var _d=nexacro.toNumber(_a.substr(6,2));var _e=this.gfnCalculateWeek(_b,_c,_d);if((_c==1)&&(_e>50)){_b-- ;}else if((_c==12)&&(_e<2)){_b++ ;}return _b.toString()+_e.toString().padLeft(2,'0');};pForm.gfnCalculateWeek=function(_a,_b,_c){var _d=Math.floor((14-_b)/12);var _e=_a+4800-_d;var _f=_b+12* _d-3;var _g=Math.floor(_e/4)-Math.floor(_e/100)+Math.floor(_e/400);var _h=_c+Math.floor((153* _f+2)/5)+365* _e+_g-32045;var _i=(((_h+31741-(_h%7))%146097)%36524)%1461;var _j=Math.floor(parseInt(_i)/1460);var _k=((_i-_j)%365)+_j;week=Math.floor(_k/7)+1;return week;};pForm.gfnGetDiffDate=function(_a,_b){var _c=new Date(parseInt(_b.substring(0,4),10),parseInt(_b.substring(4,6)-1,10),parseInt(_b.substring(6,8),10));var _d=new Date(parseInt(_a.substring(0,4),10),parseInt(_a.substring(4,6)-1,10),parseInt(_a.substring(6,8),10));return parseInt((_c-_d)/(1000* 60* 60* 24));};pForm.gfnChkByteLen=function(_a,_b){var _c=this.gfnLengthByte(_a);return _c==_b;};pForm.gfnIsString=function(_a){return typeof _a=="string";};pForm.gfnIsDigit=function(_a){var _b;var _c=0;var _d=true;if(this.gfnIsNull(_a)){return false;}for(var _e=0;_e<_a.length;_e++ ){_b=_a.charAt(_e);if(_e==0&&(_b=="+"||_b=="-")){}else if(_b>="0"&&_b<="9"){}else if(_b=="."){_c++ ;if(_c>1){_d=false;break;}}else{_d=false;break;}}return _d;};pForm.gfnIsKoreanChar=function(_a){var _b=true;for(i=0;i<_a.length;i++ ){if(!((_a.charCodeAt(i)>0x3130&&_a.charCodeAt(i)<0x318F)||(_a.charCodeAt(i)>=0xAC00&&_a.charCodeAt(i)<=0xD7A3))){_b=false;}}return _b;};pForm.gfnIsSpecialChar=function(_a){var _b=/[\{\}\[\]\/\?.,;:\(\)*~`!^\-_+<>@\#$%&\\\=\'\"]/gi;return _b.test(_a);};pForm.gfnIsEng=function(_a){var _b=/^([A-Za-z]+)$/;return _b.test(_a);};pForm.gfnIsEngNum=function(_a){var _b=/^([A-Za-z0-9]+)$/;return _b.test(_a);};pForm.gfnHasNumber=function(_a){if(this.gfnIsNull(_a)){return false;}for(var _b=0;_b<_a.length;_b++ ){if(this.gfnIsDigit(_a.charAt(_b))){return true;}}return false;};pForm.gfnHasKor=function(_a){if(this.gfnIsNull(_a)){return false;}for(var _b=0;_b<_a.length;_b++ ){if(this.gfnIsKoreanChar(_a.charAt(_b))){return true;}}return false;};pForm.gfnHasEng=function(_a){if(this.gfnIsNull(_a)){return false;}for(var _b=0;_b<_a.length;_b++ ){if(this.gfnIsEng(_a.charAt(_b))){return true;}}return false;};pForm.gfnIsSSN=function(_a){var _b=this.gfnGetBirthYear(_a);_b+=_a.substr(0,2);var _c=_a.substr(2,2)-1;var _d=_a.substr(4,2);var _e=new Date(_b,_c,_d);if(_e.getYear()%100!=_a.substr(0,2)||_e.getMonth()!=_c||_e.getDate()!=_d){return false;}buf=new Array(13);for(i=0;i<6;i++ ){buf[i]=parseInt(_a.charAt(i));}for(i=6;i<13;i++ ){buf[i]=parseInt(_a.charAt(i));}multipliers=[2,3,4,5,6,7,8,9,2,3,4,5];for(i=0,sum=0;i<12;i++ ){sum+=(buf[i]*=multipliers[i]);}if((11-(sum%11))%10!=buf[12]){return false;}else{return true;}};pForm.gfnIsFrnrIdNo=function(_a){if(_a.length!=13||!this.gfnIsDigit(_a)){return false;}var _b=Number(_a.substr(2,2));var _c=Number(_a.substr(4,2));if(_b<1||_b>12){return false;}if(_c<1||_c>31){return false;}var _d=0;var _e=0;var _f=array(13);var _g=[2,3,4,5,6,7,8,9,2,3,4,5];for(var _h=0;_h<13;_h++ ){_f[_h]=Number(_a.charAt(_h));}if(_f[11]<6){return false;}_e=_f[7]* 10+_f[8];if((_e%2)!=0){return false;}for(var _h=0;_h<12;_h++ ){_d+=(_f[_h]* _g[_h]);}_d=11-(_d%11);if(_d>=10){_d-=10;}_d+=2;if(_d>=10){_d-=10;}if(_f[12]==_d){return true;}else{return false;}};pForm.gfnIsBzIdNo=function(_a){if(_a.length!=10){return false;}else{var _b=new Array(1,3,7,1,3,7,1,3,5,1);var _c,_d,_e=0,_f,_g;for(_d=0;_d<=7;_d++ ){_e+=_b[_d]* _a.charAt(_d);}_f="0"+(_b[8]* _a.charAt(8));_f=_f.substring(_f.length-2,_f.length);_e+=Math.floor(_f.charAt(0))+Math.floor(_f.charAt(1));_g=(10-(_e%10))%10;if(Math.floor(_a.charAt(9))==_g){return true;}return false;}return true;};pForm.gfnIsFirmIdNo=function(_a){if(_a.length!=13||!this.gfnIsDigit(_a)){return false;}var _b=0;var _c=new Array(13);var _d=[1,2,1,2,1,2,1,2,1,2,1,2];for(var _e=0;_e<13;_e++ ){_c[_e]=Number(_a.charAt(_e));}for(var _e=0;_e<12;_e++ ){_b+=(_c[_e]* _d[_e]);}_b=(10-(_b%10))%10;if(_c[12]==_b){return true;}else{return false;}};pForm.gfnIsCardNo=function(_a){if(_a.length<13||_a.length>19||!nexacro.isNumeric(_a)){return false;}var _b=0;var _c=new Array();for(var _e=0;_e<_a.length;_e++ ){_c[_e]=Number(_a.charAt(_e));}var _d;for(var _e=_c.length-1,_f=0;_e>=0;_e-- ,_f++ ){_d=_c[_e]* ((_f%2)+1);if(_d>=10){_d=_d-9;}_b+=_d;}if((_b%10)==0){return true;}else{return false;}};pForm.gfnIsEmail=function(_a){var _b=false;var _c="";var _d="[a-z0-9]+[a-z0-9.,]+@[a-z0-9]+[a-z0-9.,]+\\.[a-z0-9]+";var _e=new RegExp(_d,"ig");_c=_e.exec(_a);if(_c==null){_b=false;}else{if((_c.index==0)&&(_c[0].length==_a.length)){_b=true;}else{_b=false;}}return _b;};pForm.gfnIsPhoneNum=function(_a){var _b=true;if(!this.gfnIsTelNum(_a)&&!this.gfnIsMobileNum(_a)){_b=false;}return _b;};pForm.gfnIsTelNum=function(_a){var _b=/^0(2|3[1-3]|4[1-4]|5[1-5]|6[1-4])-?\d{3,4}-?\d{4}$/;return _b.test(_a);};pForm.gfnIsMobileNum=function(_a){var _b=/^(?:(010-?\d{4}|(01[1|6|7|8|9]-?\d{3,4})))-?\d{4}$/;return _b.test(_a);};pForm.gfnChkLenPeriod=function(_a,_b,_c){if(_b<0){return false;}if(_c<0){return false;}if(_b>_c){return false;}if(this.gfnIsNull(_a)){if(_b==0&&_c>=0){return true;}else{return false;}}return _a.length>=_b&&_a.length<=_c;};pForm.gfnChkByteLenPeriod=function(_a,_b,_c){var _d=this.gfnLengthByte(_a);return _d>=_b&&_d<=_c;};pForm.gfnDecode=function(){var _a=null;var _b=this.gfnDecode.arguments;var _c=_b[0];var _d=false;var _e=0;if((_b.length%2)==0){_e=_b.length-1;_d=true;}else{_e=_b.length;_d=false;}for(var _f=1;_f<_e;_f+=2){if(_c==_b[_f]){_a=_b[_f+1];_f=_e;}}if(_a==null&&_d){_a=_b[_b.length-1];}return _a;};pForm.gfnUpdateToDataset=function(){var _a=this.getFocus();if(_a!=null){try{_a.updateToDataset();}catch(e){}}};pForm.gfnLog=function(_a,_b){var _c=nexacro.getApplication();var _d=["debug","info","warn","error"];if(_c.gvRunMode=="R"){return;}if(this.gfnIsNull(_b)){_b="debug";}if(system.navigatorname=="nexacro"){if(_a instanceof Object){for(var _e in _a){trace("["+_b+"] "+_e+" : "+_a[_e]);}}else{trace("["+_b+"] "+_a);}}else{console.log(_a);}};pForm.gfnReplaceAll=function(_a,_b,_c){if(this.gfnIsNull(_a)){return "";}if(this.gfnIsNull(_b)){return _a;}if(this.gfnIsNull(_c)){_c="";}return _a.split(_b).join(_c);};pForm.gfnRemoveTag=function(_a){var _b=new RegExp("<(/)?([0-9a-zA-Z]*)(\\s[0-9a-zA-Z]*=[^>]*)?(\\s)*(/)?>","g");return _a.replace(_b,"");};pForm=null;
var pForm=nexacro.Form.prototype;pForm.gfnFindData=function(_a,_b,_c,_d,_e){var _f=this.gfnFindData.arguments;if(this.gfnIsNull(_d)){return _a.findRow(_b,_c);}return _a.findRowExpr(_b+" == '"+_c+"' && "+_d+" == '"+_e+"'");};pForm.gfnGetLookupData=function(_a,_b,_c,_d,_e,_f){var _g;var _h=this.gfnFindData(_a,_b,_c,_e,_f);if(_h<0){return "";}_g=_a.getColumn(_h,_d);if(this.gfnIsNull(_g)){return "";}return _g;};pForm.gfnGetTextSize=function(_a){var _b=new nexacro.Static();_b.init("objStatic",0,0,0,0);this.addChild("objStatic",_b);_b.set_text(_a);_b.set_fittocontents("both");_b.set_visible(false);_b.show();var _c=0,_d=0;_c=_b.getOffsetWidth();_d=_b.getPixelHeight();this.removeChild("objStatic");_b.destroy();_b=null;return [_c,_d];};pForm.gfnGetCommonCode=function(_a,_b){var _c=nexacro.getApplication();var _d=_c.gdsCommCode;var _e="ko";for(var _aa in _a){if(!this.gfnIsNull(_a[_aa].objid)){var _f=_a[_aa].biztype;var _g=_a[_aa].code;var _h=_a[_aa].codecol==undefined?"SSC_CD":_a[_aa].codecol;var _i=_a[_aa].data==undefined?"SSC_CD_KORN_NM":_a[_aa].data;var _j=_a[_aa].selecttype==undefined?"":_a[_aa].selecttype;var _k=_a[_aa].bindcolumn;var _l=_a[_aa].edit;var _m=_a[_aa].sortcolumn==undefined?"SORT_ORDR":_a[_aa].sortcolumn;var _n=_a[_aa].sortmethod==undefined?"asc":_a[_aa].sortmethod;var _o=_a[_aa].filterstring==undefined?"":_a[_aa].filterstring;var _p=_a[_aa].direction==undefined?"horizontal":_a[_aa].direction;var _q=_a[_aa].align==undefined?"center":_a[_aa].align;var _r=this._gfnGetComponentFullName(_a[_aa].objid);if(this.gfnIsNull(_r)){return;}var _s="ds_"+_r+"_"+_g;var _t=this._gfnGetDataSet(_s);if(this.gfnIsNull(_o)){_d.filter("HCL_CD == '"+_g+"'");}else{_d.filter("HCL_CD == '"+_g+"' && ("+_o+")");}var _u=_t.copyData(_d,true);var _v="SEL_TYPE";_t.addColumn(_v,"string");_d.filter(_o);if(_t.rowcount==0){continue;}if(!this.gfnIsNull(_m)){if(!this.gfnIsNull(_n)){_n="asc";}_t.keystring="S:"+(_n=="asc"?"+":"-")+_m;_t.updateSortGroup();}if(!this.gfnIsNull(_j)){switch(_j){case "A":if(_a[_aa].objid instanceof Radio){this._gfnInsertDefaultRow(_t,"전체",_i,_j,_h);}else{this._gfnInsertDefaultRow(_t,"- 전체 -",_i,_j,_h,"");}break;case "S":this._gfnInsertDefaultRow(_t,"- 선택 -",_i,_j,_h);break;case "N":if(_a[_aa].objid instanceof Combo){this._gfnInsertDefaultRow(_t,"",_i,_j,_h);}break;}}if(_a[_aa].objid instanceof Combo){_a[_aa].objid.set_innerdataset(_t);_a[_aa].objid.set_codecolumn(_h);if(this.gfnIsNull(_a[_aa].data)){_a[_aa].objid.set_datacolumn("SSC_CD_KORN_NM");}else{_a[_aa].objid.set_datacolumn(_a[_aa].data);}if(this.gfnIsNull(_a[_aa].objid.value)){_a[_aa].objid.set_index(0);}}else if(_a[_aa].objid instanceof Radio){var _w=_a[_aa].objid.enable;_a[_aa].objid.set_enable(true);_a[_aa].objid.set_innerdataset(_t);_a[_aa].objid.set_codecolumn(_h);if(this.gfnIsNull(_a[_aa].data)){_a[_aa].objid.set_datacolumn("SSC_CD_KORN_NM");}else{_a[_aa].objid.set_datacolumn(_a[_aa].data);}if(_p=="horizontal"){_a[_aa].objid.set_columncount(_t.rowcount);}else if(_p=="vertical"){_a[_aa].objid.set_direction("vertical");}if(!_w){_a[_aa].objid.set_enable(_w);}}else if(_a[_aa].objid instanceof Grid){var _x=this._gfnGetCellIdx(_a[_aa].objid,_k);if(this.gfnIsNull(_k)||_x==-1){return;}if(!this.gfnIsNull(_l)&&_l=="true"){var _y=_a[_aa].objid.getCellProperty("body",_x,"displaytype");var _z=_a[_aa].objid.getCellProperty("body",_x,"edittype");if(this.gfnIsNull(_y)||_y=="normal"){_y="combocontrol";}if(this.gfnIsNull(_z)||_z=="none"){_z="combo";}_a[_aa].objid.setCellProperty("body",_x,"displaytype",_y);_a[_aa].objid.setCellProperty("body",_x,"edittype",_z);}else{_a[_aa].objid.setCellProperty("body",_x,"displaytype","combotext");}_a[_aa].objid.setCellProperty("body",_x,"combodataset",_t.name);_a[_aa].objid.setCellProperty("body",_x,"combocodecol",_h);if(this.gfnIsNull(_a[_aa].data)){_a[_aa].objid.setCellProperty("body",_x,"combodatacol","SSC_CD_KORN_NM");}else{_a[_aa].objid.setCellProperty("body",_x,"combodatacol",_a[_aa].data);}_a[_aa].objid.setCellProperty("body",_x,"textAlign",_q);}}else{trace(_a[_aa].objid.name+" ==> 전달된 Component가 유효하지 않습니다");}}try{if(typeof (this.afterCommCodeLoad)=="function"){this.afterCommCodeLoad();}}catch(e){}};pForm._gfnGetCellIdx=function(_a,_b){var _c=_a.getCellCount("body");for(var _g=0;_g<_c;_g++ ){var _d=_a.getCellProperty("body",_g,"text");var _e=_d.indexOf(":");var _f=_d.substr(_e+1,_d.length);if(_f==_b){return _g;}}return -1;};pForm._gfnGetDataSet=function(_a){var _b;if(!this.isValidObject(_a)){_b=new Dataset(_a);_b.name=_a;this.addChild(_a,_b);}else{_b=this.objects[_a];}return _b;};pForm._gfnGetComponentFullName=function(_a){var _b="";while(!this.gfnIsNull(_a.parent.name)&&(_a.parent.toString().toUpperCase()!="[OBJECT CHILDFRAME]")){_b=_a.name+(this.gfnIsNull(_b)?"":"_")+_b;_a=_a.parent;}return _b;};pForm._gfnInsertDefaultRow=function(_a,_b,_c,_d,_e,_f){if(this.gfnIsNull(_e)){_e="SSC_CD";}if(_a.insertRow(0)!=-1){_a.setColumn(0,"SEL_TYPE",_d);switch(_d){case "A":if(this.gfnIsNull(_f)){_f="%";}_a.setColumn(0,_e,_f);break;case "S":case "N":case "":if(this.gfnIsNull(_f)){_f="";}_a.setColumn(0,_e,_f);break;}if(this.gfnIsNull(_c)){_a.setColumn(0,"SSC_CD_KORN_NM",_b);}else{_a.setColumn(0,_c,_b);}}};pForm=null;
var pForm=nexacro.Form.prototype;pForm.useErrorClass=true;pForm.gfnClearValidation=function(_a){_a.validationRuleSet="";if(this.useErrorClass){this.gfnResetValidationCss(_a);}};pForm.gfnRemoveValidation=function(_a,_b){var _c=new Array();if(!this.gfnIsNull(_a.validationRuleSet)){validObj=JSON.parse(_a.validationRuleSet);for(var _e in validObj){var _d=validObj[_e];if(_d.name!=_b){_c.push(_d);}}}_a.validationRuleSet=JSON.stringify(_c);};pForm.gfnSetValidation=function(_a,_b,_c,_d){var _e=new Array();if(_c.indexOf(",")!=-1){_c=nexacro.replaceAll(_c,",","^_^");}if(!this.gfnIsNull(_a.validationRuleSet)){_e=JSON.parse(_a.validationRuleSet);for(var _g in _e){if(_e[_g].name==_b){_e[_g].title=_c;_e[_g].value=_d;if(""+_d.indexOf("required")>-1){_e[_g].notnull=true;}else{_e[_g].notnull=false;}_a.validationRuleSet=JSON.stringify(_e);return true;}}}var _f={name:_b,title:_c,value:_d};if(""+_d.indexOf("required")>-1){_f.notnull=true;}else{_f.notnull=false;}_e.push(_f);_a.validationRuleSet=JSON.stringify(_e);};pForm.gfnValidation=function(_a,_b){var _c;var _d="";var _e="U";if(_a instanceof Dataset){_c=_a;_d="dataset";}else if(_a instanceof Grid){_c=_a.getBindDataset();_d="grid";}else{alert("Validation Check 대상에는 Dataset or Grid만 됩니다.");return false;}if(_b=="A"||_b=="U"){_e=_b;}else{if(this.gfnTypeOf(_b)=="number"){_e="Row";}else{alert("Validation Check대상의 Row는 'U' or 'A' or Dataset의 row만 됩니다.");return false;}}var _f=new Array();if(!this.gfnIsNull(_c.validationRuleSet)){_f=JSON.parse(_c.validationRuleSet);}else{alert("Validation Check RuleSet이 없습니다.");return false;}var _g=0;if(_e=="Row"){ ++_g;for(var _s=0;_s<_f.length;_s++ ){var _h=_f[_s].name;var _i=new String(_f[_s].title);var _j=_c.getColumn(_b,_h);var _k=(""+_f[_s].value).split(",");var _l=_f[_s].notnull;if(_l==true){if(this.gfnIsNull(_j)){_c.set_rowposition(_b);this.validationObject=_a;this.validationColumn=_h;var _m="";if(_i.indexOf("^_^")!=-1){_m=_i.split("^_^")[0];}else{_m=_i;}this.gfnAlert("msg.err.validator.required",[_m],null,"gfnValidationCallback");return false;}}if(!this.gfnIsNull(_j)){for(var _t=0;_t<_k.length;_t++ ){var _n="";var _o=_k[_t].split(":")[0];if(_o=="fromto"||_o=="fromtosmall"||_o=="comparebig"||_o=="comparesmall"||_o=="compareequal"){var _p;var _q;if(_k[_t].split(":").length==3){_p=_c.getColumn(_b,_k[_t].split(":")[1]);_q=_c.getColumn(_b,_k[_t].split(":")[2]);}else{_p=_c.getColumn(_b,_h);_q=_c.getColumn(_b,_k[_t].split(":")[1]);}_n=this.gfnValidationCheckRule(_i,_j,_k[_t],_p,_q);}else{_n=this.gfnValidationCheckRule(_i,_j,_k[_t]);}if(!this.gfnIsNull(_n)){_c.set_rowposition(_b);this.validationObject=_a;this.validationColumn=_h;this.gfnAlert("msg.err.validator",[_n],null,"gfnValidationCallback");return false;}}}}}else{for(var _u=0;_u<_c.getRowCount();_u++ ){var _r=_c.getRowType(_u);if(_e=="U"){if(_r==1){continue;}else if(_r==8){continue;}else if(_r==16){continue;}if(_r==2||_r==4){ ++_g;}}else{if(_r==16){continue;}++ _g;}for(var _s=0;_s<_f.length;_s++ ){var _h=_f[_s].name;var _i=new String(_f[_s].title);var _j=_c.getColumn(_u,_h);var _k=(""+_f[_s].value).split(",");var _l=_f[_s].notnull;if(_l==true){if(this.gfnIsNull((""+_j).trim())){_c.set_rowposition(_u);this.validationObject=_a;this.validationColumn=_h;var _m="";if(_i.indexOf("^_^")!=-1){_m=_i.split("^_^")[0];}else{_m=_i;}this.gfnAlert("msg.err.validator.required",[_m],null,"gfnValidationCallback");return false;}}if(!this.gfnIsNull(_j)){for(var _t=0;_t<_k.length;_t++ ){var _n="";var _o=_k[_t].split(":")[0];if(_o=="fromto"||_o=="fromtosmall"||_o=="comparebig"||_o=="comparesmall"||_o=="compareequal"){var _p;var _q;if(_k[_t].split(":").length==3){_p=_c.getColumn(_u,_k[_t].split(":")[1]);_q=_c.getColumn(_u,_k[_t].split(":")[2]);}else{_p=_c.getColumn(_u,_h);_q=_c.getColumn(_u,_k[_t].split(":")[1]);}_n=this.gfnValidationCheckRule(_i,_j,_k[_t],_p,_q);}else{_n=this.gfnValidationCheckRule(_i,_j,_k[_t]);}if(!this.gfnIsNull(_n)){_c.set_rowposition(_u);this.validationObject=_a;this.validationColumn=_h;this.gfnAlert("msg.err.validator",[_n],"","gfnValidationCallback");return false;}}}}}}if(this.useErrorClass){this.gfnResetValidationCss(_a);}if(_g==0){trace("정합성 체크 대상이 없어 Validation 체크를 하지 않았습니다.");}return true;};pForm.gfnValidationCheckRule=function(_a,_b,_c,_d,_e){var _f="";var _g="";var _h="";if(_a.indexOf("^_^")!=-1){_f=_a.split("^_^")[0];_g=_a.split("^_^")[0];_h=_a.split("^_^")[1];}else{_f=_a;}var _i=_c.split(":");var _j=_i[0];_j=_j.toLowerCase();switch(_j){case "length":if((_b+"").length!=parseInt(_i[1])){return this.gfnGetMessage("msg.err.validator.length",[_f,_i[1]]);}break;case "max":if(parseFloat(_b)>parseFloat(_i[1])){return this.gfnGetMessage("msg.err.validator.sizemax",[_f,_i[1]]);}break;case "min":if(parseFloat(_b)<parseFloat(_i[1])){return this.gfnGetMessage("msg.err.validator.sizemin",[_f,_i[1]]);}break;case "maxlength":if(_b.toString().length>parseInt(_i[1])){return this.gfnGetMessage("msg.err.validator.maxlength",[_f,_i[1]]);}break;case "maxlengthbyte":if(this.lookupFunc("gfnLengthByte").call(_b)>parseInt(_i[1])){return this.gfnGetMessage("msg.err.validator.maxlengthB",[_f,_i[1]]);}break;case "maxlengthdec":var _k=_b.toString().split(".");if((_k[0].replace("-","")).length>parseInt(_i[1])){return this.gfnGetMessage("msg.err.validator.max",[_f+" 정수 자리수",_i[1]+"자리"]);}if(_k.length>1){if(_k[1].length>parseInt(_i[2])){return this.gfnGetMessage("msg.err.validator.max",[_f+" 소수 자리수",_i[2]+"자리"]);}}break;case "minlength":if(_b.length<parseInt(_i[1])){return this.gfnGetMessage("msg.err.validator.minlength",[_f,_i[1]]);}break;case "minlengthbyte":if(this.lookupFunc("gfnLengthByte").call(_b)<parseInt(_i[1])){return this.gfnGetMessage("msg.err.validator.minlengthB",[_f,_i[1]]);}break;case "fromto":if(_d<_e){if(_a.indexOf("^_^")>-1){return this.gfnGetMessage("msg.err.validator.fromtomax",[_g,_h]);}else{return this.gfnGetMessage("msg.err.validator.fromtomax",[_f,_e]);}}break;case "fromtosmall":if(_d>_e){if(_a.indexOf("^_^")>-1){return this.gfnGetMessage("msg.err.validator.fromtomin",[_g,_h]);}else{return this.gfnGetMessage("msg.err.validator.fromtomin",[_f,_e]);}}break;case "range":if(parseInt(_b)<parseInt(_i[1])||parseInt(_b)>parseInt(_i[2])){return this.gfnGetMessage("msg.err.validator.range",[_f,_i[1],_i[2]]);}break;case "isemail":if(!this.lookupFunc("gfnIsEmail").call(_b)){return this.gfnGetMessage("msg.err.validator.email",[_f]);}break;case "isssn":if(!this.lookupFunc("gfnIsSSN").call(_b)){return this.gfnGetMessage("msg.err.validator.ssn",[_f]);}break;case "isbzid":if(!this.lookupFunc("gfnIsBzIdNo").call(_b)){return this.gfnGetMessage("msg.err.validator.biznum",[_f]);}break;case "isfirmid":if(!this.lookupFunc("gfnIsFirmIdNo").call(_b)){return this.gfnGetMessage("msg.err.validator.bubin",[_f]);}break;case "date":if(!this.lookupFunc("gfnIsYMD").call(_b)){return this.gfnGetMessage("msg.err.validator.date",[_f]);}break;case "dateym":if(!this.lookupFunc("gfnIsYM").call(_b)){return this.gfnGetMessage("msg.err.validator.date",[_f]);}break;case "korean":if(!this.lookupFunc("gfnIsKoreanChar").call(_b)){return this.gfnGetMessage("msg.err.validator.hangle",[_f]);}break;case "digits":if(!this.lookupFunc("gfnIsDigit").call(_b)){return this.gfnGetMessage("msg.err.validator.digits",[_f]);}break;case "engnum":if(!this.lookupFunc("gfnIsEngNum").call(_b)){return this.gfnGetMessage("msg.err.validator.engnum",[_f]);}break;case "special":if(this.lookupFunc("gfnIsSpecialChar").call(_b)){return this.gfnGetMessage("msg.err.validator.notspecialchar",[_f]);}break;case "comparebig":if(parseFloat(_d)>parseFloat(_e)){if(_a.indexOf("^_^")!=-1){return this.gfnGetMessage("msg.err.validator.sizemax",[_g,_h]);}else{return this.gfnGetMessage("msg.err.validator.sizemax",[_f,_e]);}}break;case "comparesmall":if(parseFloat(_d)<parseFloat(_e)){if(_a.indexOf("^_^")!=-1){return this.gfnGetMessage("msg.err.validator.sizemin",[_g,_h]);}else{return this.gfnGetMessage("msg.err.validator.sizemin",[_f,_e]);}}break;case "compareequal":if(_d==_e){if(_a.indexOf("^_^")!=-1){return this.gfnGetMessage("msg.err.validator.notequalto",[_g,_h]);}else{return this.gfnGetMessage("msg.err.validator.notequalto",[_f,_e]);}}break;case "istel":if(!this.lookupFunc("gfnIsTelNum").call(_b)){return this.gfnGetMessage("msg.err.validator.tel",[_f]);}break;case "ismobile":if(!this.lookupFunc("gfnIsMobileNum").call(_b)){return this.gfnGetMessage("msg.err.validator.phone",[_f]);}break;case "isphone":if(!this.lookupFunc("gfnIsPhoneNum").call(_b)){return this.gfnGetMessage("msg.err.validator.phone",[_f]);}break;default:return "";break;}return "";};pForm.gfnValidationCallback=function(_a,_b){this.gfnSetValidationFocus(this.validationObject,this.validationColumn);};pForm.gfnSetValidationFocus=function(obj,bindcolumid){var binddataset;if(obj instanceof Grid){binddataset=obj.getBindDataset();}else{binddataset=obj;}if(obj instanceof Grid){obj.setCellPos(obj.getBindCellIndex("Body",bindcolumid));obj.showEditor(true);return;}else{if(!this.gfnIsNull(obj.bindgrid)){var gridobj=obj.bindgrid;gridobj.setCellPos(gridobj.getBindCellIndex("Body",bindcolumid));gridobj.showEditor(true);gridobj.setFocus();}}var targetFirstObj;var nCheckCnt=0;for(var j=0;j<this.binds.length;j++ ){if(eval("this."+this.binds[j].datasetid)==binddataset&&this.binds[j].columnid==bindcolumid){var targetobj=eval("this."+this.binds[j].compid);if(this.useErrorClass){var objtype=targetobj.valueOf();if(objtype=="[object Edit]"){targetobj.orgcssclass=targetobj.cssclass;targetobj.set_cssclass("error");}else if(objtype=="[object MaskEdit]"){targetobj.orgcssclass=targetobj.cssclass;targetobj.set_cssclass("error");}else if(objtype=="[object Combo]"){targetobj.orgcssclass=targetobj.cssclass;targetobj.set_cssclass("error");}else if(objtype=="[object Calendar]"){targetobj.orgcssclass=targetobj.cssclass;targetobj.set_cssclass("error");}else if(objtype=="[object TextArea]"){targetobj.orgcssclass=targetobj.cssclass;targetobj.set_cssclass("error");}else if(objtype=="[object Spin]"){targetobj.orgcssclass=targetobj.cssclass;targetobj.set_cssclass("error");}}if(nCheckCnt==0){targetFirstObj=targetobj;}nCheckCnt++ ;}}if(nCheckCnt>0){targetFirstObj.setFocus();return;}};pForm.gfnResetValidationCss=function(objVal){var dataset;if(objVal instanceof Dataset){dataset=objVal;}else if(objVal instanceof Grid){dataset=objVal.getBindDataset();}for(var j=0;j<this.binds.length;j++ ){var sBindDs=this.binds[j].datasetid;if(this.gfnIsNull(sBindDs)==true){continue;}if(eval("this."+this.binds[j].datasetid)==dataset){try{var targetobj=eval("this."+this.binds[j].compid);if(targetobj.cssclass.indexOf("error")!=-1){targetobj.set_cssclass(targetobj.orgcssclass);targetobj.orgcssclass="";}}catch(e){}}}};pForm.gfnChkDuplicateData=function(_a,_b,_c){if(this.gfnIsNull(_c)){_c=_a.rowposition;}var _d="";var _e=_b.split(",");for(var _g=0;_g<_e.length;_g++ ){_d+=_e[_g].trim()+" == '"+_a.getColumn(_c,_e[_g].trim())+"'";if(_g!=_e.length-1){_d+=" && ";}}var _f=_a.findRowExpr(_d);if(_f>-1){if(_f==_c){_f=_a.findRowExpr(_d,_c+1);}}return _f;};pForm=null;

if(!nexacro.MPFile){nexacro.MPFile_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.linespace=null;};var _pMPFileStyle=nexacro._createPrototype(nexacro.Style,nexacro.MPFile_Style);nexacro.MPFile_Style.prototype=_pMPFileStyle;_pMPFileStyle.__custom_emptyObject=function(){};_pMPFileStyle.__get_custom_style_value=function(){};nexacro.MPFile_CurrentStyle=function(){nexacro.CurrentStyle.call(this);};var _pMPFileCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.MPFile_CurrentStyle);nexacro.MPFile_CurrentStyle.prototype=_pMPFileCurrentStyle;_pMPFileCurrentStyle.__custom_emptyObject=_pMPFileStyle.__custom_emptyObject;_pMPFileCurrentStyle.__get_custom_style_value=_pMPFileStyle.__get_custom_style_value;delete _pMPFileStyle;delete _pMPFileCurrentStyle;nexacro.MPFile=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.FileName=null;this.filename=null;this.fullpath=null;this.path=null;this._VirtualFile_=null;this._ExtComm=null;this.onsuccess=null;this.onerror=null;this._event_list={"onsuccess":1,"onerror":1};};var _pMPFile=nexacro._createPrototype(nexacro.Component,nexacro.MPFile);nexacro.MPFile.prototype=_pMPFile;_pMPFile._type_name="MPFile";_pMPFile.on_create_contents=function(){this._VirtualFile_=new nexacro.VirtualFile("_virtualFile_",this);};_pMPFile.on_created_contents=function(){this._VirtualFile_.set_async(false);this._VirtualFile_.setEventHandler("onsuccess",this._onsuccess,this);this._VirtualFile_.setEventHandler("onerror",this._onerror,this);this.setProp();};_pMPFile.on_destroy_contents=function(){var _a=this._VirtualFile_;if(_a){_a.destroy();this._VirtualFile_=null;}_a=null;this._ExtComm=null;};_pMPFile.set_VirtualFile=function(_a){if(!_a){return;}this.fullpath=this.FileName=_a.fullpath;this.fileName=_a.filename;this.path=_a.path;this.setProp();};_pMPFile._onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){this.onsuccess._fireEvent(this,_b);}};_pMPFile._onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){this.onerror._fireEvent(this,_b);}};_pMPFile.set_FileName=function(_a){if(_a!=this.FileName){this.fullpath=this.FileName=_a;this.on_apply_FileName();}};_pMPFile.on_apply_FileName=function(){if(this._VirtualFile_){this._VirtualFile_.fullpath=this.FileName;}};_pMPFile.set_filename=function(_a){if(_a!=this.FileName){this.fileName=_a;this.on_apply_fileName();}};_pMPFile.on_apply_fileName=function(){if(this._VirtualFile_){this._VirtualFile_.filename=this.filename;}};_pMPFile.set_fullpath=function(_a){if(_a!=this.fullpath){this.FileName=this.fullpath=_a;this.on_apply_fullpath();}};_pMPFile.on_apply_fullpath=function(){if(this._VirtualFile_){this._VirtualFile_.fullpath=this.fullpath;}};_pMPFile.set_path=function(_a){if(_a!=this.path){this.path=_a;this.on_apply_path();}};_pMPFile.on_apply_path=function(){if(this._VirtualFile_){this._VirtualFile_.path=this.path;}};_pMPFile.setProp=function(){this.on_apply_fileName();this.on_apply_fullpath();this.on_apply_path();};_pMPFile.isNull=function(_a){if(_a==null||_a=="null"||_a==undefined){return true;}var _b=new String(_a);if(_b.length==0){return true;}return false;};_pMPFile.AliasToRealPath=function(_a){return System.convertRealPath(_a);};_pMPFile.Close=function(){this._VirtualFile_.close();};_pMPFile.close=function(){this._VirtualFile_.close();};_pMPFile.copy=function(_a,_b){this._VirtualFile_.copy(_a,_b);};_pMPFile.getFileList=function(_a,_b,_c){if(this.isNull(_c)){return this._VirtualFile_.getFileList(_a,_b);}else{return this._VirtualFile_.getFileList(_a,_b,_c);}};_pMPFile.getFileSize=function(){return this._VirtualFile_.getFileSize();};_pMPFile.isExist=function(_a){return this._VirtualFile_.isExist(_a);};_pMPFile.open=function(_a,_b){if(this.isNull(constOption)){return this._VirtualFile_.open(_a);}else{return this._VirtualFile_.open(_a,_b);}};_pMPFile.read=function(_a){if(this.isNull(_a)){return this._VirtualFile_.read();}else{return this._VirtualFile_.read(_a);}};_pMPFile.readLine=function(_a){if(this.isNull(_a)){return this._VirtualFile_.readLine();}else{return this._VirtualFile_.readLine(_a);}};_pMPFile.remove=function(_a){return this._VirtualFile_.remove(_a);};_pMPFile.seek=function(_a,_b){if(this.isNull(_b)){return this._VirtualFile_.seek(_a);}else{return this._VirtualFile_.seek(_a,_b);}};_pMPFile.Delete=function(_a){if(this.isNull(_a)){if(this.isNull(this.FileName)){return null;}_a=this.FileName;}return this._VirtualFile_.remove(_a);};_pMPFile.GetLength=function(_a){if(this.isNull(_a)){if(this.isNull(this.FileName)){return null;}}else{this.set_fullpath(_a);}return this._VirtualFile_.getFileSize();};_pMPFile.IsExistFile=function(_a){if(this.isNull(_a)){if(this.isNull(this.FileName)){return null;}_a=this.FileName;}return this._VirtualFile_.isExist(_a);};_pMPFile.MakeDir=function(_a){if(this.isNull(_a)){return null;}return this._VirtualFile_.createDirectory(_a);};_pMPFile.Move=function(_a,_b){if(!application.ExtComm){return null;}this._ExtComm=application.ExtComm;if(this.isNull(_b)){if(this.isNull(this.FileName)){return null;}_b=_a;_a=this.FileName;}var _c=this._ExtComm._ext_moveFile(_a,_b);this.callEvent(_c,"Move");};_pMPFile.callEvent=function(_a,_b){if(_a==true){if(this.onsuccess&&this.onsuccess._has_handlers){var _c=new nexacro.VirtualFileEventInfo("onsuccess",_b,0,0,null,0,1);this.onsuccess._fireEvent(this,_c);}}else{if(this.onerror&&this.onerror._has_handlers){var _c=new nexacro.VirtualFileErrorEventInfo("onerror",_b,"");this.onerror._fireEvent(this,_c);}}};_pMPFile.Open=function(_a){var _b=0;if(this.isNull(this.FileName)){return null;}if(this.isNull(_a)){_b=nexacro.VirtualFile.openRead|nexacro.VirtualFile.openText;}else{_a=_a.toLowerCase();for(var _c=0;_c<_a.length;_c++ ){switch(_a.charAt(_c)){case "r":_b=_b|nexacro.VirtualFile.openRead;break;case "w":_b=_b|nexacro.VirtualFile.openWrite;break;case "a":_b=_b|nexacro.VirtualFile.openAppend;break;case "b":_b=_b|nexacro.VirtualFile.openBinary;break;case "+":_b=_b|nexacro.VirtualFile.openRead|nexacro.VirtualFile.openWrite;break;}}}return this._VirtualFile_.open(this.FileName,_b);};_pMPFile.open=function(_a,_b){if(this.isNull(_b)){_b=_a;_a=this.FileName;}return this._VirtualFile_.open(_a,_b);};_pMPFile.Read=function(_a,_b){if(this.isNull(this.FileName)){return null;}switch(arguments.length){case 0:return this._VirtualFile_.read();break;case 1:return this._VirtualFile_.read(_a);break;default:return this._VirtualFile_.read(_a,_b);break;}};_pMPFile.ReadBinary=function(_a){return this.Read(_a);};_pMPFile.RemoveDir=function(_a,_b){if(!application.ExtComm){return false;}this._ExtComm=application.ExtComm;_b=(_b==true)?1:0;var _c=this._ExtComm._ext_delDirectory(_a,_b);this.callEvent(_c,"RemoveDir");return _c;};_pMPFile.Rename=function(_a,_b){if(!application.ExtComm){return -1;}this._ExtComm=application.ExtComm;if(this.isNull(_b)){if(this.isNull(this.FileName)){return -1;}_b=_a;_a=this.FileName;}var _c=this._ExtComm._ext_reNameFile(_a,_b);this.callEvent(_c,"Rename");return _c;};_pMPFile.Seek=function(_a,_b){var _c;if(this.isNull(_b)){_c=nexacro.VirtualFile.seekCurrent;}else{_b=_b.toLowerCase();switch(_b){case "begin":_c=nexacro.VirtualFile.seekBegin;break;case "end":_c=nexacro.VirtualFile.seekEnd;break;case "current":_c=nexacro.VirtualFile.seekCurrent;break;}}return this._VirtualFile_.seek(_a,_c);};_pMPFile.write=function(_a){return this._VirtualFile_.write(_a);};_pMPFile.Write=function(_a,_b,_c){var _d;if(this.isNull(_b)||_b==-1){_d=_a;}else{if(this.isNull(_a)){_d=_a;}else{_d=_a.substr(0,_b);}}return this._VirtualFile_.write(_d);};_pMPFile.WriteBinary=function(_a,_b){return this.Write(_a,_b);};delete _pMPFile;}
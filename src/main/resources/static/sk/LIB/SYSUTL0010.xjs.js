(function(){return function(_a){var _b;this.addIncludeScript(_a,"CM_LIB::CTM10U0010.xjs");this.registerScript(_a,function(){this.executeIncludeScript("CM_LIB::CTM10U0010.xjs");this.sysv_DialogFg=false;this.sysv_calOpenChk=false;this.fv_dsCurRowPos=-1;this.fv_objIdx=-1;this.fv_arrObjPath=new Array();this.fv_arrObjBind=new Array();this.fv_arrObjCol=new Array();this.fv_arrObjType=new Array();this.fv_arrObjLimit=new Array();this.fv_arrDSRowPosChgd=new Array();this.fv_arrDSColumnChgd=new Array();this.fv_arrOnChar=new Array();this.fv_arrOnFocus=new Array();this.fv_arrOnKill=new Array();this.gf_EXCUTE_FORMLOAD_SET=function(_b){var _c;var _d;if(this.m2n_isNull(_b)!=true&&this.m2n_isNull(_b)!=true){_c=_b;}else{_c=this;}if(nexacro.getApplication().gv_RUNTYPE=="M"){if(nexacro.getApplication().GDS_SCRNCTRL.getRowCount()>0){this.utlf_scrnItmProc();}if(_c.id=="div_body"||_c.id==nexacro.getApplication().gv_ACTIVE_MENUID){nexacro.getApplication().gf_EXCUTE_FORMLOAD_SET();}else{_d=this._sysf_setPopupTitle(_c.id);if(_d=="-1"){_d="The title is Not registered in DB";}_c.set_titletext(_d);}}};this._sysf_setPopupTitle=function(_c){var _d=-1;var _e=nexacro.getApplication().GDS_POPUPTITLE.findRow("pgmId",_c);if(_e<0){return _d;}return nexacro.getApplication().GDS_POPUPTITLE.getColumn(_e,"pgmNm");};this.sysf_launchProgram=function(_c,_d,_e){var _f;if(_c=="P"){_f="pgmId";}else if(_c=="M"){_f="menuId";}else{this.sysf_alert("XSYSN0002");return false;}if(nexacro.getApplication().gv_RUNTYPE!="M"){this.alert("화면오픈 기능은 MDI 모드에서만 가능합니다.");return false;}return nexacro.getApplication().mainTitle.ff_findMenuItem(_f,_d,_e,true);};this.sysf_openWindow=function(_c,_d,_e,_f,_g,_h){var _i=this.m2n_allWindows(_f);if(this.m2n_isNull(_i[0])==true){if(_e=="1"){this.sysf_alert("XSYSN0228");return false;}else if(this.m2n_length(_d)==0){this.sysf_alert("XSYSN0227");nexacro.getApplication().exit();return false;}else{this._sysf_OpenProgram(_c,_d,_f,_g,_h,true);return true;}}else{_i[0].setFocus();if(this.m2n_isExistFunc(_i[0],"f_throwArgument")){_i[0].f_throwArgument(_h);}return true;}};this._sysf_OpenProgram=function(_c,_d,_e,_f,_g,_h){var _i=this.m2n_allWindows(_e);if(this.m2n_isNull(_i[0])==true){var _j=this.m2n_allWindows().ChildFormCount;var _k=this.gf_GetGlobalValue("g_TotCountWindow");if(_j>=nexacro.toNumber(_k)){this.sysf_alert("XSYSN0206","&CNT",_k);return;}}if(!this.utlf_accessIpCtrl(_d)){return;}this.utlf_screenItemCtrl(_d);this.utlf_mvonAttrChk();nexacro.getApplication().gv_MENUID=_e;nexacro.getApplication().gv_MENUTITLE=_f;nexacro.getApplication().gv_XMLNAME=_c+"::"+_d+".xml";var _l=GetDeviceInfo("CXScreen");var _m=GetDeviceInfo("CYScreen");this.m2n_newWindow(_e,"CM_MAN::MAN10U0050.xml",_g,800,560,"OpenStyle=MAX",-1,-1);};this.sysf_openDialog=function(_c,_d,_e,_f,_g,_h,_i,_j){var _k=_c+"::"+_d;if(this.m2n_length(this.m2n_trim(_i))==0){_i=-1;}if(this.m2n_length(this.m2n_trim(_j))==0){_j=-1;}this.utlf_screenItemCtrl(_d);this.sysv_DialogFg=true;var _l=this.m2n_dialogAsync("p_"+this.name,function(_m,_n){},_k,_e,_f,_g,_h,_i,_j);return _l;};this.sysf_openPopup=function(_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this.parent.id;var _m;var _n=_c+"::"+_d+".xml";if(this.m2n_length(this.m2n_trim(_i))==0){_i=-1;}if(this.m2n_length(this.m2n_trim(_j))==0){_j=-1;}this.sysv_DialogFg=false;this.m2n_open(_n,_e,_f,_g,_h,_i,_j);};this.sysf_setWindowFullSize=function(_c){};this.sysf_preprocFormEvents=function(_b){var _c;for(var _f=0;_f<this.m2n_length(this.all);_f++ ){_c="";if((this.m2n_getType(this.all[_f])=="NumEdit")||(this.m2n_getType(this.all[_f])=="Tab")||(this.m2n_getType(this.all[_f])=="TabPage")||(this.m2n_getType(this.all[_f])=="CurEdit")||(this.m2n_getType(this.all[_f])=="Div")){if(this.m2n_getType(this.all[_f])=="NumEdit"||this.m2n_getType(this.all[_f])=="CurEdit"){_c=this.all[_f].id;this._sysf_preprocCurEvents(this.all[_f],_c);}if(this.m2n_isComposite(this.all[_f])){this._sysf_preprocSubFormEvents(this.all[_f],this.all[_f].id);}}}var _d;var _e=false;for(_f=0;_f<=this.fv_objIdx;_f++ ){if(this.m2n_length(this.fv_arrObjBind[_f])>0){_d=this.m2n_getObject(this.fv_arrObjBind[_f]);if(_f>0){_e=false;for(var _g=0;_g<_f;_g++ ){if(_d==this.m2n_getObject(this.fv_arrObjBind[_g])){_e=true;break;}}}if(_e==false){_d.setEventHandlerLookup("onload","_sysf_Dataset_OnLoadCompleted",this);if(this.m2n_length(_d.getEventHandler("onrowposchanged",0))>0){this.fv_arrDSRowPosChgd[_f]=_d.getEventHandler("onrowposchanged",0);}_d.setEventHandlerLookup("onrowposchanged","_sysf_Dataset_OnRowPosChanged",this);if(this.m2n_length(_d.getEventHandler("oncolumnchanged",0))>0){this.fv_arrDSColumnChgd[_f]=_d.getEventHandler("oncolumnchanged",0);}_d.setEventHandlerLookup("oncolumnchanged","_sysf_Dataset_OnColumnChanged",this);}}}};this._sysf_preprocSubFormEvents=function(_b,_c){var _d;for(var _e=0;_e<this.m2n_length(_b.all);_e++ ){_d="";if((this.m2n_getType(_b.all[_e])=="NumEdit")||(this.m2n_getType(_b.all[_e])=="Tab")||(this.m2n_getType(_b.all[_e])=="TabPage")||(this.m2n_getType(_b.all[_e])=="CurEdit")||(this.m2n_getType(_b.all[_e])=="Div")){if(this.m2n_getType(_b.all[_e])=="NumEdit"||this.m2n_getType(_b.all[_e])=="CurEdit"){_d=_c+"."+_b.all[_e].id;this._sysf_preprocCurEvents(_b.all[_e],_d);}if(this.m2n_isComposite(_b.all[_e])){if(this.m2n_length(_c)>0){_d=_c+"."+_b.all[_e].id;}this._sysf_preprocSubFormEvents(_b.all[_e],_d);}}}};this._sysf_Dataset_OnLoadCompleted=function(_b,_c,_d,_e){var _f;if(_b.rowcount>0){this.m2n_addVariable(_b.id+"curPos",0);for(i=0;i<=this.fv_objIdx;i++ ){_f=-1;_f=this._sysf_arrayPosition(_b.id,this.fv_arrObjBind,i);if(_f>-1){if(this.m2n_length(this.fv_arrObjCol[_f])>0){this.sysf_NumEditOnKillFocus(this.m2n_getObject(this.fv_arrObjPath[_f]),_b.getColumn(0,this.fv_arrObjCol[_f]),this.fv_arrObjLimit[_f]);}}}}else{this.m2n_addVariable(_b.id+"curPos",-1);}};this._sysf_Dataset_OnRowPosChanged=function(obj,nOldRow,nRow){var colPos;for(i=0;i<=this.fv_objIdx;i++ ){colPos=-1;colPos=this._sysf_arrayPosition(obj.id,this.fv_arrObjBind,i);if(colPos>-1){if(this.m2n_length(this.fv_arrObjCol[colPos])>0){this.sysf_NumEditOnKillFocus(this.m2n_getObject(this.fv_arrObjPath[colPos]),obj.getColumn(nRow,this.fv_arrObjCol[colPos]),this.fv_arrObjLimit[colPos]);}}}this.m2n_addVariable(obj.id+"curPos",nRow);var eventRow=this._sysf_arrayPosition(obj.id,this.fv_arrObjBind);if(this.m2n_length(this.fv_arrDSRowPosChgd[eventRow])>0){eval(this.fv_arrDSRowPosChgd[eventRow]+"(obj,nOldRow,nRow)");}};this._sysf_Dataset_OnColumnChanged=function(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex){for(i=0;i<=this.fv_objIdx;i++ ){if(this.fv_arrObjBind[i]==obj.id&&this.fv_arrObjCol[i]==strColumnID){this.sysf_NumEditOnKillFocus(this.m2n_getObject(this.fv_arrObjPath[i]),varNewValue,this.fv_arrObjLimit[i]);}}this.m2n_addVariable(obj.id+"curPos",nRow);var eventRow=this._sysf_arrayPosition(obj.id,this.fv_arrObjBind);if(this.m2n_length(this.fv_arrDSColumnChgd[eventRow])>0){eval(this.fv_arrDSColumnChgd[eventRow]+"(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)");}};this._sysf_arrayPosition=function(_c,_d,_e){var _f=0;if((this.m2n_isNull(_e)!=true)&&(this.m2n_isNull(_e)!=true)){_f=_e;}var _g=-1;for(i=_f;i<=this.fv_objIdx;i++ ){if(this.m2n_indexOf(_d[i],_c)>-1){_g=i;break;}}return _g;};this._sysf_preprocCurEvents=function(_b,_c){this.fv_objIdx++ ;this.fv_arrObjPath[this.fv_objIdx]=_c;this.fv_arrObjType[this.fv_objIdx]=this.m2n_getType(_b);this.fv_arrObjBind[this.fv_objIdx]=this.m2n_getBindDataset(this.m2n_getObject(_c));this.fv_arrObjCol[this.fv_objIdx]=this.m2n_getBindColumn(this.m2n_getObject(_c));this.fv_arrDSRowPosChgd[this.fv_objIdx]="";this.fv_arrDSColumnChgd[this.fv_objIdx]="";if(this.m2n_getType(_b)=="CurEdit"){if(this.m2n_isNull(this.m2n_getObject(_c).userdata)==true||this.m2n_isNull(this.m2n_getObject(_c).userdata)==true){this.fv_arrObjLimit[this.fv_objIdx]=this.gf_GetGlobalValue("g_LimitDec");}else{this.fv_arrObjLimit[this.fv_objIdx]=this.m2n_getObject(_c).userdata;}}else{this.fv_arrObjLimit[this.fv_objIdx]=this.m2n_getObject(_c).userdata;}this.fv_arrOnChar[this.fv_objIdx]=_b.OnChar;this.fv_arrOnFocus[this.fv_objIdx]=_b.getEventHandler("onsetfocus",0);this.fv_arrOnKill[this.fv_objIdx]=_b.getEventHandler("onkillfocus",0);this.m2n_setBindDataset(this.m2n_getObject(_c),null);this.m2n_setBindColumn(this.m2n_getObject(_c),null);this.m2n_getObject(_c).userdata=null;if(this.m2n_getType(_b)=="CurEdit"){if(this.m2n_isNull(_b.OnChar)==true||this.m2n_isNull(_b.OnChar)==true){_b.OnChar="_sysf_CurEdit_OnChar";}}else{if(this.m2n_isNull(_b.OnChar)==true||this.m2n_isNull(_b.OnChar)==true){_b.OnChar="_sysf_NumEdit_OnChar";}}if(this.m2n_isNull(_b.getEventHandler("onsetfocus",0))==true||this.m2n_isNull(_b.getEventHandler("onsetfocus",0))==true){_b.setEventHandlerLookup("onsetfocus","sysf_NumberFormatOnFocus",this);}if(this.m2n_isNull(_b.getEventHandler("onkillfocus",0))==true||this.m2n_isNull(_b.getEventHandler("onkillfocus",0))==true){_b.setEventHandlerLookup("onkillfocus","_sysf_NumEdit_OnKillFocus",this);}};this._sysf_NumEdit_OnKillFocus=function(obj){this.sysf_NumEditOnKillFocus(obj,"SET");var arrIdx=this._sysf_arrayPosition(obj.id,this.fv_arrObjPath);if((this.m2n_length(this.fv_arrObjBind[arrIdx])>0)&&(this.m2n_length(this.fv_arrObjCol[arrIdx])>0)){this.m2n_getObject(this.fv_arrObjBind[arrIdx]).setColumn(eval(this.fv_arrObjBind[arrIdx]+"curPos"),this.fv_arrObjCol[arrIdx],obj.userdata);}if(this.m2n_length(this.fv_arrOnKill[arrIdx])>0){eval(this.fv_arrOnKill[arrIdx]+"(obj)");}};this.sysf_NumEditOnKillFocus=function(_b,_c,_d){var _e="";var _f="";var _g=_b.text;var _h=this.gf_GetGlobalValue("g_LimitDec");var _i=true;var _j;if(_c!="SET"){_g=this.m2n_toString(_c);}if(this.m2n_length(_g)<=0){_g=0;}if(this.m2n_indexOf(_g,"-")>-1){_e="-";_g=this.m2n_replace(_g,"-","");}if(_d>0){_h=_d;}if((this.m2n_isNull(_h)==true)||(this.m2n_isNull(_h)==true)||(_h=="0")){_i=false;}if(this.m2n_indexOf(_g,this.gf_GetGlobalValue("g_FloatPoint"))>-1){var _k=this.m2n_split(_g,this.gf_GetGlobalValue("g_FloatPoint"));var _l=_k[0];var _m=_k[1];var _n=this.m2n_length(_l)%3;if(this.m2n_length(_l)<1){_e+="0";}if(_n==0){_f=_e;}else{_f=_e+this.m2n_subString(_l,0,_n);}for(i=0;i<Math.floor(this.m2n_length(_l)/3);i++ ){if((_n==0)&&(i==0)){_f+=this.m2n_subString(_l,_n+3* i,3);}else{_f+=this.gf_GetGlobalValue("g_NumSeparator")+this.m2n_subString(_l,_n+3* i,3);}}if(_i){_f+=this.gf_GetGlobalValue("g_FloatPoint")+this.m2n_subString(_m,0,_h);}}else{var _n=this.m2n_length(_g)%3;if(_n==0){_f=_e;}else{_f=_e+this.m2n_subString(_g,0,_n);}for(i=0;i<Math.floor(this.m2n_length(_g)/3);i++ ){if((_n==0)&&(i==0)){_f+=this.m2n_subString(_g,_n+3* i,3);}else{_f+=this.gf_GetGlobalValue("g_NumSeparator")+this.m2n_subString(_g,_n+3* i,3);}}}_j=this.m2n_replace(_f,this.gf_GetGlobalValue("g_NumSeparator"),"");_j=this.m2n_replace(_j,this.gf_GetGlobalValue("g_FloatPoint"),".");_b.userdata=_j;_b.set_text(_f);};this.sysf_NumberFormatOnFocus=function(obj){obj.set_text(obj.userdata);var eventRow=this._sysf_arrayPosition(obj.id,this.fv_arrObjPath);if(this.m2n_length(this.fv_arrOnFocus[eventRow])>0){eval(this.fv_arrOnFocus[eventRow]+"(obj)");}};this.sysf_NumberOnFocus=function(_b){_b.set_text(_b.userdata);};this._sysf_NumEdit_OnChar=function(obj,strPreText,nChar,strPostText,LLParam,HLParam){var repText=strPostText;if(nChar==this.m2n_asc("-")){if(this.m2n_indexOf(strPreText,"-")>-1){return false;}if(this.m2n_indexOf(repText,"-")>0){return false;}}if(this.m2n_indexOf(repText,"-")>-1){repText=this.m2n_replace(repText,"-","");}if(this.m2n_subString(repText,0,1)==0){return false;}if(((nChar>58)||(nChar<48))&&(nChar!=8)&&(nChar!=35)&&(nChar!=45)){return false;}var eventRow=this._sysf_arrayPosition(obj.id,this.fv_arrObjPath);if(this.m2n_length(this.fv_arrOnChar[eventRow])>0){eval(this.fv_arrOnChar[eventRow]+"(obj,strPreText,nChar,strPostText,LLParam,HLParam)");}};this._sysf_CurEdit_OnChar=function(obj,strPreText,nChar,strPostText,LLParam,HLParam){var strLimit;var arrIdx=this._sysf_arrayPosition(obj.id,this.fv_arrObjPath);strLimit=this.fv_arrObjLimit[arrIdx];if(this.sysf_chkCurEditChar(strPreText,nChar,strPostText,strLimit)==false){return false;}if(this.m2n_length(this.fv_arrOnChar[arrIdx])>0){eval(this.fv_arrOnChar[arrIdx]+"(obj,strPreText,nChar,strPostText,LLParam,HLParam)");}};this.sysf_chkCurEditChar=function(_c,_d,_e,_f){var _g=this.gf_GetGlobalValue("g_LimitDec");var _h=this.gf_GetGlobalValue("g_FloatPoint");var _i=_e;var _j;if(_d==this.m2n_asc("-")){if(this.m2n_indexOf(_c,"-")>-1){return false;}if(this.m2n_indexOf(_i,"-")>0){return false;}}if(this.m2n_indexOf(_c,this.gf_GetGlobalValue("g_FloatPoint"))>-1){if(_d==this.m2n_asc(this.gf_GetGlobalValue("g_FloatPoint"))){return false;}}if(this.m2n_indexOf(_i,"-")>-1){_i=this.m2n_replace(_i,"-","");}if(this.m2n_length(_i)==1){if(_d==this.m2n_asc(this.gf_GetGlobalValue("g_FloatPoint"))){return false;}}if(this.m2n_length(_i)>1){if(this.m2n_subString(_i,0,1)==0){if(this.m2n_subString(_i,1,1)!=this.gf_GetGlobalValue("g_FloatPoint")){return false;}}}if(this.m2n_length(_i)==2){if(this.m2n_subString(_i,0,1)=="0"){if(_d!=this.m2n_asc(this.gf_GetGlobalValue("g_FloatPoint"))){return false;}}}if(_f>0){_g=_f;}_j=this.m2n_split(_i,this.gf_GetGlobalValue("g_FloatPoint"),"webstyle");if(this.m2n_length(_j)==2){if(this.m2n_length(_j[0])>1){if(nexacro.toNumber(_j[0])<1){return false;}}if(this.m2n_length(_j[1])>_g){return false;}}if((this.m2n_isNull(_g)==true)||(this.m2n_isNull(_g)==true)||(_g=="0")){_h=1;}if(((_d>58)||(_d<48))&&(_d!=8)&&(_d!=35)&&(_d!=45)&&(_d!=this.m2n_asc(_h))){return false;}};this.sysf_editNumberChar=function(_c,_d,_e,_f,_g,_h){var _i=this.m2n_getBindDataset(_c);var _j="";if(this.m2n_indexOf(_h,"-")>-1){_j="-";}if(this.m2n_subString(this.m2n_replace(_h,"-",""),0,1)=="0"){this.m2n_getObject(_i).row=-1;this.m2n_getObject(_i).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_i).row=_d;_c.setCellPos(_e);_c.showEditor();return;}if(this.m2n_subString(this.m2n_replace(_h,"-",""),0,1)==0){this.m2n_getObject(_i).row=-1;this.m2n_getObject(_i).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_j);this.m2n_getObject(_i).row=_d;_c.setCellPos(_e);_c.showEditor();return;}if(((_f>58)||(_f<48))&&(_f!=8)&&(_f!=45)){this.m2n_getObject(_i).row=-1;this.m2n_getObject(_i).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_i).row=_d;_c.setCellPos(_e);_c.showEditor();}else if(_f==45){if(this.m2n_indexOf(_g,"-")>-1){if(this.m2n_length(this.m2n_subString(_h,this.m2n_length(_j)))>0){this.m2n_getObject(_i).row=-1;this.m2n_getObject(_i).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_j+this.m2n_replace(_g,"-",""));this.m2n_getObject(_i).row=_d;_c.setCellPos(_e);_c.showEditor();}}else if(this.m2n_indexOf(_h,"-")>0){this.m2n_getObject(_i).row=-1;this.m2n_getObject(_i).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_i).row=_d;_c.setCellPos(_e);_c.showEditor();}}};this.sysf_editCurrencyChar=function(_c,_d,_e,_f,_g,_h,_i){var _j=this.m2n_getBindDataset(_c);var _k=_h;var _l=this.gf_GetGlobalValue("g_LimitDec");var _m;var _n;var _o;var _p;var _q=this.gf_GetGlobalValue("g_FloatPoint");var _r=_h;var _s="";if(this.m2n_indexOf(_r,"-")>-1){_s="-";_r=this.m2n_replace(_r,"-","");}var _t=this.m2n_split(_r,this.gf_GetGlobalValue("g_FloatPoint"),"webstyle");if(this.m2n_length(_t)==2){if(this.m2n_length(_t[0])>1){if(nexacro.toNumber(_t[0])<1){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();return;}}}if(this.m2n_length(_r)>1){if(this.m2n_subString(_r,0,1)==0){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();return;}}if(this.m2n_length(_r)==2){if(this.m2n_subString(_r,0,1)=="0"){if(_f!=this.m2n_asc(this.gf_GetGlobalValue("g_FloatPoint"))){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_s+"0");this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();return;}}}if(this.m2n_length(_r)==1){if(_f==this.m2n_asc(_q)){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_s);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();return;}}if((this.m2n_isNull(_i)!=true)&&(this.m2n_isNull(_i)!=true)&&(_i>0)){_l=_i;}if((this.m2n_isNull(_l)==true)||(this.m2n_isNull(_l)==true)||(_l=="0")){_q=1;}if(((_f>58)||(_f<48))&&(_f!=45)&&(_f!=8)&&(_f!=this.m2n_asc(_q))){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();}else if(_f==45){if(this.m2n_indexOf(_g,"-")>-1){if(this.m2n_length(this.m2n_subString(_h,this.m2n_length(_s)))>0){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_s+this.m2n_replace(_g,"-",""));this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();}}else if(this.m2n_indexOf(_h,"-")>0){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();}}else{if(this.m2n_indexOf(_k,this.gf_GetGlobalValue("g_FloatPoint"))>-1){_m=this.m2n_split(_k,this.gf_GetGlobalValue("g_FloatPoint"),"webstyle");if(this.m2n_length(_m)>2){this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();}else{_n=_m[0];_o=_m[1];if(this.m2n_length(_m)>2){this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_g);}else if(this.m2n_length(_o)>_l){_p=_n+this.gf_GetGlobalValue("g_FloatPoint")+this.m2n_subString(_o,0,_l);this.m2n_getObject(_j).row=-1;this.m2n_getObject(_j).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_p);this.m2n_getObject(_j).row=_d;_c.setCellPos(_e);_c.showEditor();}}}}};this.sysf_setDateFormat=function(_c){var _d="";if(_c=="NOR"){_d=this.gf_GetGlobalValue("g_DateFormat");}else if(_c=="TIME"){_d=this.gf_GetGlobalValue("g_DateFormat")+" HH:mm:ss";}else if(_c=="YM"){_d=this._sysf_setDateFormatYM();}return _d;};this._sysf_setDateFormatYM=function(){var _c=this.m2n_toUpper(this.m2n_left(this.gf_GetGlobalValue("g_DateFormat"),1));var _d=this.m2n_toUpper(this.m2n_right(this.gf_GetGlobalValue("g_DateFormat"),1));if(_c=="Y"){return "####"+this.gf_GetGlobalValue("g_DateSeparator")+"##";}else if(_d=="Y"){return "##"+this.gf_GetGlobalValue("g_DateSeparator")+"####";}};this.sysf_setGrdNumFormat=function(_c,_d,_e){var _f="";var _g="";var _h="";var _i;if(this.m2n_isNull(_c)==true||this.m2n_isNull(_c)==true){return;}_c=nexacro.floor(_c,6);if(this.m2n_indexOf(_c,"-")>-1){_f="-";_c=this.m2n_replace(_c,"-","");}_i=this.m2n_split(_c,".","webstyle");if(this.m2n_length(_i)>2){return;}if(_d=="I"){_g=this.sysf_setNumFormat(_i[0]);}else if(_d=="D"){_g=this.sysf_setNumFormat(_i[0]);if(this.m2n_isNull(_e)==true||this.m2n_isNull(_e)==true){_e=this.gf_GetGlobalValue("g_LimitDec");}if((this.m2n_isNull(_e)!=true)&&(this.m2n_isNull(_e)!=true)&&(_e!=0)){_h=this.sysf_setNumFormatDiv(_i[1],_e);_g+=this.gf_GetGlobalValue("g_FloatPoint")+_h;}}return _f+_g;};this.sysf_setNumFormat=function(_c){var _d="";var _e=_c;if(this.m2n_length(_e)<=3){_d=_e;}else{var _f=this.m2n_length(_e)%3;if(_f==0){_d="";}else{_d=this.m2n_subString(_e,0,_f);}for(var _g=0;_g<Math.floor(this.m2n_length(_e)/3);_g++ ){if((_f==0)&&(_g==0)){_d+=this.m2n_subString(_e,_f+3* _g,3);}else{_d+=this.gf_GetGlobalValue("g_NumSeparator")+this.m2n_subString(_e,_f+3* _g,3);}}}return _d;};this.sysf_setNumFormatDiv=function(_c,_d){var _e="";var _f=_c;var _g;if(this.m2n_length(_c)<1){for(i=0;i<_d;i++ ){_e+="0";}}else if(this.m2n_length(_c)==_d){_e=_c;}else if(this.m2n_length(_c)<_d){_e=_c;_g=nexacro.toNumber(_d)-nexacro.toNumber(this.m2n_length(_c));for(i=0;i<_g;i++ ){_e+="0";}}else if(this.m2n_length(_c)>_d){_e=this.m2n_subString(_c,0,_d);}return _e;};this.sysf_setYMFormat=function(){var _c=this.m2n_toUpper(this.m2n_left(this.gf_GetGlobalValue("g_DateFormat"),1));var _d=this.m2n_toUpper(this.m2n_right(this.gf_GetGlobalValue("g_DateFormat"),1));if(_c=="Y"){return "@@@@"+this.gf_GetGlobalValue("g_DateSeparator")+"@@";}else if(_d=="Y"){return "@@"+this.gf_GetGlobalValue("g_DateSeparator")+"@@@@";}};this.sysf_readDateFormat=function(_c,_d){var _e=this.gf_GetGlobalValue("g_DateFormat");if(this.sysv_calOpenChk==false){this.m2n_create(this,"Calendar","gcal_dateformat",'width="0" height="0" TabStop="FALSE"');this.sysv_calOpenChk=true;}if(_d=="TIME"){_e+=" HH:mm:ss";}this.m2n_lookupPath("gcal_dateformat").set_dateformat(_e);this.m2n_lookupPath("gcal_dateformat").set_value(_c);return this.m2n_lookupPath("gcal_dateformat").text;};this.sysf_checkGridNum=function(_c,_d,_e){var _f=this.m2n_getBindDataset(_c);var _g=this.m2n_getObject(_f).getColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")));var _h="";if(this.m2n_indexOf(_g,"-")>-1){_h="-";}var _i=this.m2n_split(this.m2n_replace(_g,"-",""),".","webstyle");if(this.m2n_length(_i)==2){if(this.m2n_length(_i[1])>0){if(this.m2n_length(_i[0])<1){this.m2n_getObject(_f).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),_h+"0."+_i[1]);}}}if(this.m2n_isNull(_g)==true||this.m2n_isNull(_g)==true||_g=="-"){this.m2n_getObject(_f).setColumn(_d,this.m2n_getColidProperty(_c.getCellProperty("body",_e,"text")),"0");}};this.sysf_modifyCheck=function(_c){var _d;if(this.m2n_isValid(_c)){_d=_c.id;}else{_d=_c;}var _e=this.m2n_getObject(_d);this.m2n_applyData(null);return this.m2n_getUpdate(_e);};this.sysf_existCheckFlg=function(_c,_d){var _e=false;var _f=_c.getRowCount();for(i=0;i<_f;i++ ){if(_c.getColumn(i,_d)==1){_e=true;break;}}return _e;};this.sysf_displayYM=function(_c,_d){var _e=this.m2n_toUpper(this.m2n_left(this.gf_GetGlobalValue("g_DateFormat"),1));var _f=this.m2n_toUpper(this.m2n_right(this.gf_GetGlobalValue("g_DateFormat"),1));if(_e=="Y"){return _c;}else if(_f=="Y"){if(_d=="D"){return this.m2n_right(_c,4)+""+this.m2n_left(_c,2);}else{return this.m2n_right(_c,2)+""+this.m2n_left(_c,4);}}};this.sysf_checkYMFormat=function(){var _c=this.m2n_toUpper(this.m2n_left(this.gf_GetGlobalValue("g_DateFormat"),1));var _d=this.m2n_toUpper(this.m2n_right(this.gf_GetGlobalValue("g_DateFormat"),1));if(_c=="Y"){return "Y";}else if(_d=="Y"){return "M";}};this.sysf_getValueYM=function(_c,_d,_e){var _f=this.sysf_checkYMFormat();var _g=_c.getRowCount();var _h;_c.set_enableevent(false);_c.addColumn(_e);for(i=0;i<_g;i++ ){if(_f=="Y"){_c.setColumn(i,_e,_c.getColumn(i,_d));}else if(_f=="M"){_h=_c.getColumn(i,_d);_c.setColumn(i,_e,this.m2n_right(_h,2)+""+this.m2n_left(_h,4));}}_c.set_enableevent(true);_c.applyChange();};this.sysf_setValueYM=function(_c,_d,_e){var _f=this.sysf_checkYMFormat();var _g=_c.getRowCount();var _h;if(_g<1){return;}_c.set_enableevent(false);for(i=0;i<_g;i++ ){if(_f=="Y"){_c.setColumn(i,_d,_c.getColumn(i,_e));}else if(_f=="M"){_h=_c.getColumn(i,_e);_c.setColumn(i,_d,this.m2n_right(_h,4)+""+this.m2n_left(_h,2));}}_c.set_enableevent(true);};this.sysf_setReadonly=function(_b,_c,_d){var _e;var _f;var _g;if(this.m2n_isNull(_b)!=true&&this.m2n_isValidObject(_b)){if(_d==true){_b.set_readonly(_c);return;}_g=this.m2n_getType(_b);if(_g=="Edit"){if(nexacro.getApplication().GDS_SCRNCTRLMAIN.findRow("pgmId",this.m2n_lookupPath("fv_strScreenName"))>=0){_e=this.m2n_lookupPath("fv_strScreenName")+"."+_b.id;_f=this._utlf_GetCompTypeCd(_g);if(this.utlf_findCompInGDS_SCRNCTRL(_e,"05HRDONLY")==true){return;}}}_b.set_readonly(_c);}};this.sysf_setVisible=function(_b,_c,_d){var _e;var _f;var _g;if(this.m2n_isNull(_b)!=true&&this.m2n_isValidObject(_b)){if(_d==true){_b.set_visible(_c);return;}_g=this.m2n_getType(_b);if(_g=="Button"||_g=="Edit"||_g=="NumEdit"||_g=="CurEdit"||_g=="Radio"||_g=="List"||_g=="Combo"||_g=="Calendar"){if(nexacro.getApplication().GDS_SCRNCTRLMAIN.findRow("pgmId",this.m2n_lookupPath("fv_strScreenName"))>=0){_e=this.m2n_lookupPath("fv_strScreenName")+"."+_b.id;_f=this._utlf_GetCompTypeCd(_g);if(this.utlf_findCompInGDS_SCRNCTRL(_e,"05HHIDDEN")==true){return;}}}_b.set_visible(_c);}};this.sysf_setEnable=function(_b,_c,_d){var _e;var _f;var _g;if(this.m2n_isNull(_b)!=true&&this.m2n_isValidObject(_b)){if(_d==true){_b.set_enable(_c);return;}_g=this.m2n_getType(_b);if(_g=="Button"||_g=="Edit"||_g=="NumEdit"||_g=="CurEdit"||_g=="Radio"||_g=="List"||_g=="Combo"||_g=="Calendar"){if(nexacro.getApplication().GDS_SCRNCTRLMAIN.findRow("pgmId",this.m2n_lookupPath("fv_strScreenName"))>=0){_e=this.m2n_lookupPath("fv_strScreenName")+"."+_b.id;_f=this._utlf_GetCompTypeCd(_g);if(this.utlf_findCompInGDS_SCRNCTRL(_e,"05HDISABL")==true){return;}}}_b.set_enable(_c);}};this.sysf_getMvnoAttr=function(_c){var _d="";var _e="";var _f="";var _g="";var _h;var _i;var _j=0;this.m2n_create(this,"Dataset","ds_attr");this.m2n_lookupPath("strNcTxId")="cm.cdm.CMCDMO00#retreiveMvnoAttrList";_e="";_f="";_g="ds_attr=attrList";this.sysf_ncCallSyncTR(_e,this.m2n_lookupPath("strNcTxId"),_d,"",_f,_g);this.m2n_copy(nexacro.getApplication().GDS_MVNO_ATTR,this.m2n_lookupPath("ds_attr"));this.m2n_destroy("ds_attr");var _k="";var _l;_l=nexacro.getApplication().GDS_MVNO_ATTR.findRow("mvnosvcclcd",_c);_k=nexacro.getApplication().GDS_MVNO_ATTR.getColumn(_l,"svcstcd");return _k;};this.sysf_chkPasswd=function(_c){};this.sysf_getMvnoAttrExt=function(_c){var _d="select";var _e="cm.cdm.CMCDMO00#psCMCDM70U0160_S002";var _f="nc_input_fieldDs=GDS_DUMMY_IN";var _g="GDS_DUMMY_OUT=nc_output_fieldDs";var _h=new Array(-1);nexacro.getApplication().GDS_DUMMY_IN.clear();nexacro.getApplication().GDS_DUMMY_OUT.clear();nexacro.getApplication().GDS_DUMMY_IN.addColumn("parm_id");nexacro.getApplication().GDS_DUMMY_IN.addRow();nexacro.getApplication().GDS_DUMMY_IN.setColumn(0,"parm_id",_c);this.sysf_ncCallSyncTR(_d,_e,"DUMMY","",_f,_g);if(nexacro.getApplication().GDS_DUMMY_OUT.getRowCount()>0){_h[0]=nexacro.getApplication().GDS_DUMMY_OUT.getColumn(0,"parm_id");_h[1]=nexacro.getApplication().GDS_DUMMY_OUT.getColumn(0,"parm_nm");_h[2]=nexacro.getApplication().GDS_DUMMY_OUT.getColumn(0,"parm_desc");_h[3]=nexacro.getApplication().GDS_DUMMY_OUT.getColumn(0,"parm_val");return _h;}else{return null;}};this.sysf_getParam=function(_c){var _d="";var _e="";var _f="";var _g="";var _h;var _i;var _j=0;this.m2n_create(this,"Dataset","ds_inParam");this.m2n_create(this,"Dataset","ds_outParam");this.m2n_lookupPath("ds_inParam").addColumn("paramGrp");this.m2n_lookupPath("ds_inParam").addRow();this.m2n_lookupPath("ds_inParam").setColumn(0,"paramGrp",_c);this.m2n_lookupPath("strNcTxId")="cm.cdm.CMCDMO00#getMoviosParam";_e="";_f="nc_input_fieldDs=ds_inParam";_g="ds_outParam=nc_output_fieldDs";this.sysf_ncCallSyncTR(_e,this.m2n_lookupPath("strNcTxId"),_d,"",_f,_g);var _k=this.m2n_lookupPath("ds_outParam").getColumn(0,"paramValue");this.m2n_destroy(this.m2n_lookupPath("ds_inParam"));this.m2n_destroy(this.m2n_lookupPath("ds_outParam"));return _k;};});this.loadIncludeScript(_a);_b=null;};})();
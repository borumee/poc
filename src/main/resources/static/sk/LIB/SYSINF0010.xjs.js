(function(){return function(_a){var _b;this.registerScript(_a,function(){this.utlf_cob_idnt_num_OnCharChanged=function(_b,_c,_d){if(this.m2n_length(_d)==3){if(this.m2n_lookupPath("dsl_idnt_num").findRow("areaNum",_d)>=0){(this.m2n_getNextComponent(true)).setFocus();}else{this.sysf_alert("XOSRW1350");}}else if(this.m2n_length(_d)>3){_b.set_text(_c);_b.set_value(_c);this.sysf_alert("XOSRW1350");_b.setFocus();}};this.utlf_edt_exg_num_OnCharChanged=function(_b,_c,_d){if(_d.length==4){if(this.m2n_subString(_d,0,1)=="0"){_b.set_text(this.m2n_subString(_d,1,3));(this.m2n_getNextComponent(true)).setFocus();}}};this.utlf_setNewSvcNum=function(_c,_d,_e,_f){if(this.m2n_lookupPath("utlf_isNull")(_c)||_c==-1){return false;}_d.set_text(this.m2n_subString(_c,0,3));if(this.m2n_subString(_c,3,1)=="0"){_e.set_text(this.m2n_subString(_c,4,3));}else{_e.set_text(this.m2n_subString(_c,3,4));}_f.set_text(this.m2n_subString(_c,7));return true;return false;};this.utlf_checkNewSvcNum=function(_c,_d,_e,_f,_g,_h){var _i,_j;_j=this.m2n_trim(_e.text);if(!this.m2n_lookupPath("utlf_isNull")(_j)&&this.m2n_length(_j)!=4){for(this.m2n_lookupPath("ix")=this.m2n_length(_j);this.m2n_lookupPath("ix")<4;this.m2n_lookupPath("ix")++ ){_j="0"+_j;}}_i=_d.value+_j+this.m2n_trim(_f.value);if(this.m2n_lookupPath("utlf_isNull")(_i)){_c.clearData();this.sysf_alert("XORHW2201");_d.set_value("");_e.set_text("");_f.set_text("");_d.setFocus();return false;}else if(_c.rowcount<1){_c.addRow();}if(_i!=_c.getColumn(0,"svcNum")){if(this.m2n_lookupPath("utlf_isNull")(_g)){_c.setColumn(0,"svcNum",_i);}else{var _k=this.gf_GetAppValue("g_"+_g);_c.setColumn(0,_g,_k);}if(!this.m2n_lookupPath("utlf_isNull")(_h)){var _l=this.gf_GetAppValue("g_"+_h);_c.setColumn(0,_h,_l);}}return true;};this.utlf_findSvcNum=function(_c,_d,_e){var _f="";var _g="";var _h="";var _i="";var _j;var _k;if(_c.rowcount>0){_c.setColumn(0,"searchTyp",_e);}_k=new Array(4);_k[0]="CRCSRO00#retrieveMulti_PSCRCSRRU0103P";_g="select";_h="CRCsrLuAcntDto="+_c.id;_i=_d.id+"=CRCsrLuAcntListDto/CRCsrLuAcntDto";_j=new Array(-1);this.sysf_callSyncTR(_g,_k,_f,"",_h,_i,_j);};this.utlf_findCommParm=function(_c,_d,_e){var _f="";var _g="";var _h="";var _i="";var _j="";_c.clearData();_c.addRow();_c.setColumn(0,"parmGrpNm",_e);_j="cr.orh.CRORHO00#retrieveCommParam_PSCRORHCommParamInfo";_g="select";_h="nc_input_fieldDs="+_c.id;_i=_d.id+"=rsCommParmInfo";this.sysf_ncCallSyncTR(_g,_j,_f,"",_h,_i);};this.utlf_clearGlobalSvcInfo=function(){this.gf_SetAppValue("g_svcCd","");this.gf_SetAppValue("g_svcCd2","");this.gf_SetAppValue("g_svcNum","");this.gf_SetAppValue("g_ctzCorpNum","");this.gf_SetAppValue("g_svAcntNum","");this.gf_SetAppValue("g_cuAcntNum","");this.gf_SetAppValue("g_blAcntNum","");};this.utlf_setGlobalSvcInfo=function(_c){if(_c.rowcount==0){return;}this.gf_SetAppValue("g_svcCd",_c.getColumn(0,"svcCd"));this.gf_SetAppValue("g_svcCd2",_c.getColumn(0,"svcCd"));this.gf_SetAppValue("g_svcNum",_c.getColumn(0,"svcNumOrgi"));this.gf_SetAppValue("g_ctzCorpNum",_c.getColumn(0,"nmEncCtzCorpNum"));this.gf_SetAppValue("g_eqpMdlCd",_c.getColumn(0,"eqp_mdl_cd"));this.gf_SetAppValue("g_eqpSerNum",_c.getColumn(0,"eqp_ser_num"));this.gf_SetAppValue("g_processClCd","phone");this.gf_SetAppValue("g_svAcntNum",_c.getColumn(0,"svAcntNum"));this.gf_SetAppValue("g_cuAcntNum",_c.getColumn(0,"nmAcntNum"));this.gf_SetAppValue("g_blAcntNum",_c.getColumn(0,"nmBlAcntNum"));this.gf_SetAppValue("g_termSvcNumYn",_c.getColumn(0,"termSvcNumYn"));trace("utlf_setGlobalSvcInfo : "+_c.getColumn(0,"svcNumOrgi")+" g_termSvcNumYn : "+_c.getColumn(0,"termSvcNumYn"));};this.utlf_getGlobalSvcInfo=function(_c,_d,_e){var _f=this.m2n_trim(this.gf_GetAppValue("g_svAcntNum"));var _g=this.m2n_trim(this.gf_GetAppValue("g_svcNum"));var _h=this.m2n_trim(this.gf_GetAppValue("g_svcCd2"));var _i=this.m2n_trim(this.gf_GetAppValue("g_termSvcNumYn"));var _j;trace("utlf_getGlobalSvcInfo : "+_g+"("+_h+")"+" 해지분리 "+_i);if(this.m2n_lookupPath("utlf_isNull")(_g)||_g==-1){_c.set_text("010");_d.setFocus();return false;}if(_h=="00ZC"){_c.set_text(this.m2n_subString(_g,0,3));if(this.m2n_subString(_g,3,1)=="0"){_d.set_text(this.m2n_subString(_g,4,3));}else{_d.set_text(this.m2n_subString(_g,3,4));}_e.set_text(this.m2n_subString(_g,7));}return false;};this.utlf_getMobileAreaNum=function(_b){var _c=this.m2n_getType(_b);if(_c!="Combo"){this.alert("sysf_getMobileAreaNum() 파라미터 타입 오류 :: Combo가 아닙니다.");return;}if(this.m2n_isNull(_b.innerdataset)==true){this.alert("sysf_getMobileAreaNum() 파라미터 속성 오류 :: \n'"+_b.id+"'의 innerDataset이 지정되지 않았습니다.");return;}var _d=this.m2n_getObject(_b.innerdataset);if(this.m2n_isNull(_d)==true){this.alert("sysf_getMobileAreaNum() 파라미터 속성 오류 :: \n'"+_b.id+"'의 innerDataset ("+_b.innerdataset+")이 존재하지 않습니다.");return;}_d.clear();_d.addColumn("AreaNum","String",3);_d.addColumn("AreaTypeCD","String",10);if(nexacro.getApplication().GDS_AREANUM.rowcount<1){nexacro.getApplication().GDS_AREANUM.addRow();nexacro.getApplication().GDS_AREANUM.setColumn(0,"AreaNum","010");nexacro.getApplication().GDS_AREANUM.setColumn(0,"AreaTypeCD","---");nexacro.getApplication().GDS_AREANUM.addRow();nexacro.getApplication().GDS_AREANUM.setColumn(1,"AreaNum","011");nexacro.getApplication().GDS_AREANUM.setColumn(1,"AreaTypeCD","---");nexacro.getApplication().GDS_AREANUM.addRow();nexacro.getApplication().GDS_AREANUM.setColumn(2,"AreaNum","016");nexacro.getApplication().GDS_AREANUM.setColumn(2,"AreaTypeCD","---");nexacro.getApplication().GDS_AREANUM.addRow();nexacro.getApplication().GDS_AREANUM.setColumn(3,"AreaNum","017");nexacro.getApplication().GDS_AREANUM.setColumn(3,"AreaTypeCD","---");nexacro.getApplication().GDS_AREANUM.addRow();nexacro.getApplication().GDS_AREANUM.setColumn(4,"AreaNum","018");nexacro.getApplication().GDS_AREANUM.setColumn(4,"AreaTypeCD","---");nexacro.getApplication().GDS_AREANUM.addRow();nexacro.getApplication().GDS_AREANUM.setColumn(5,"AreaNum","019");nexacro.getApplication().GDS_AREANUM.setColumn(5,"AreaTypeCD","---");}_b.set_codecolumn("AreaNum");_b.set_datacolumn("AreaNum");this.m2n_appendDataset(_d,nexacro.getApplication().GDS_AREANUM);};this.utlf_ConcatPhoneNum=function(_c,_d,_e,_f,_g,_h,_i){var _j;var _k=new Array(3);var _l="";var _m=this.m2n_toString(this._utlf_GetObjectData(_c,_d,_i));var _n=this.m2n_toString(this._utlf_GetObjectData(_c,_e,_i));var _o=this.m2n_toString(this._utlf_GetObjectData(_c,_f,_i));var _p=_m+_n+_o;var _q="";_q+="g";_q+="i";var _r="";_k[0]=_d;_k[1]=_e;_k[2]=_f;if(this.m2n_length(this.m2n_trim(_p))==0){_j="N";return _j;}if(this.m2n_length(this.m2n_trim(_o))<4){_j="N";return _j;}if(this.m2n_toUpper(_h)=='G'){_r=this.m2n_createRegExp("[0-9]{9,12}",_q);_l="PHONEG";}else if(this.m2n_toUpper(_h)=='S'){_r=this.m2n_createRegExp("[0-9]{10,11}",_q);_l="PHONES";}else{this.alert('전화번호 유형을 확인해 주십시요. (일반연락번호[G], 서비스번호[S])');_j='N';}var _s=_r.exec(_p);if(this.m2n_isNull(_s)==true){_j="N";}else if(_s.index!=0||_s.length!=_p.length){_j="N";}else{_j=this._utlf_ConcatObject(_c,_k,_g,_i,_l);}return _j;};this.utlf_ConcatPhoneNum2=function(_c,_d,_e){var _f=_c;for(var _g=0;_g<4-this.m2n_length(_d);_g++ ){_f+="0";}_f+=_d;_f+=_e;return _f;};this._utlf_GetObjectData=function(_c,_d,_e){var _f;if(this._utlf_DsColumnYN(_c,_d)=='Y'){_f=_c.getColumn(_e,_d);}else{_f=this.m2n_getObject(_d).value;}return _f;};this._utlf_DsColumnYN=function(_c,_d){var _e;if(this.m2n_isNull(_c)==true){_e='N';}else if(_c.getColIndex(_d)>=0){_e='Y';}else if(this.m2n_isValid(this.m2n_getObject(_d))){_e='N';}else{this.alert('['+_d+'] 에 해당하는 Column 또는 Component가 존재하지 않습니다.');_e='E';}return _e;};this._utlf_ConcatObject=function(_c,_d,_e,_f,_g){var _h;var _i;var _j;var _k;var _l;_k=true;_l='Y';for(i=0;i<this.m2n_length(_d)&&_k;i++ ){if((this.m2n_isNull(_c)==true)){if(_g=="EMAIL"&&_d[i]=="@"){_h+=_d[i];}else if(this.m2n_isNull(_c)==true&&this._utlf_DsColumnYN('',_d[i])!='E'){if(this.m2n_left(_g,5)=="PHONE"){if(i==0){if(_g=="PHONEG"){if(this.m2n_length(this.m2n_getObject(_d[i]).value)==2){_h+="00";}else if(this.m2n_length(this.m2n_getObject(_d[i]).value)==3){_h+="0";}}}else if(i==1){if(this.m2n_length(this.m2n_getObject(_d[i]).value)==3){_h+="0";}}}_h+=this.m2n_getObject(_d[i]).value;}else{_k=false;}}else if((this.m2n_isValid(_c)&&this.m2n_getType(_c)=='Dataset')){if(_g=="EMAIL"&&_d[i]=="@"){_h+=_d[i];}else if(this._utlf_DsColumnYN(_c,_d[i])!='E'){_j=this.m2n_toString(this._utlf_GetObjectData(_c,_d[i],_f));if(this.m2n_left(_g,5)=="PHONE"){if(i==0){if(_g=="PHONEG"){if(this.m2n_length(_j)==2){_h+="00";}else if(this.m2n_length(_j)==3){_h+="0";}}}else if(i==1){if(this.m2n_length(_j)==3){_h+="0";}}}_h+=this.m2n_toString(_j);}else{_k=false;}}else{_k=false;}}if(_k){if(this.m2n_isNull(_c)==true&&this._utlf_DsColumnYN(_c,_e)!='E'){this._utlf_SetObjectData(_c,_e,_h,_i);}else if(this._utlf_DsColumnYN(_c,_e)!='E'&&this._utlf_IsRowNumValid(_c,_f)>=0){_i=this._utlf_IsRowNumValid(_c,_f);this._utlf_SetObjectData(_c,_e,_h,_i);}else{_k=false;}}if(_k){return 'Y';}else{return 'N';}};this._utlf_SetObjectData=function(_c,_d,_e,_f){if(this.m2n_isNull(_c)==true){this.m2n_getObject(_d).set_value(_e);}else if(this._utlf_DsColumnYN(_c,_d)=='Y'){_c.setColumn(_f,_d,_e);}else{this.m2n_getObject(_d).set_value(_e);}return 'Y';};this._utlf_IsRowNumValid=function(_c,_d){var _e;if(this.m2n_isNull(_c)==true){this.alert('DataSet 에 Row가 존재하지 않습니다.');_e=-1;}else if(_c.length<=0){this.alert('DataSet ['+_c.name+'] 에 Row가 존재하지 않습니다.');_e=-1;}else if(this.m2n_length(''+(_d))==0){_e=_c.rowposition;}else if(_d>_c.length){this.alert('전달받은 rowNum '+_d+'이 DataSet ['+_c.name+'] 의 count '+_c.length+' 을 넘어섰습니다.');_e=-1;}else{_e=_d;}return _e;};});this.loadIncludeScript(_a);_b=null;};})();
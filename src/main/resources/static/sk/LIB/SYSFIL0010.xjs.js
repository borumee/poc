(function(){return function(_a){var _b;this.registerScript(_a,function(){this.sysv_uploadPacketSize=4* 1024* 1024;this.sysv_downloadPacketSize=1* 1024* 1024;this.sysv_fileFormat=".hwp|.doc|.xls|.ppt|.pdf|.zip|.jpg|.txt|.csv";this.executeIncludeScript("LIB::SYSSVC0010.xjs");this.sysf_readFile=function(_c,_d){var _e=new Array(2);var _f;var _g;var _h;var _i;var _j;this.m2n_create(this,"HttpFile","global_file_obj8870");_f=this.gf_GetGlobalValue("g_ServerHomePath")+nexacro.getApplication().gv_ServicePath_FILE+"?mode=download";this.m2n_lookupPath("global_file_obj8870").CookieParam=_d;this.m2n_create(this,"FileDialog","global_filedialog_obj4073");this.m2n_lookupPath("global_filedialog_obj4073").type="Save";this.m2n_lookupPath("global_filedialog_obj4073").filename=_c;if(!this.m2n_open(null)){_e[0]="";return _e;}_j=this.m2n_lookupPath("global_filedialog_obj4073").FilePath+"\\"+this.m2n_lookupPath("global_filedialog_obj4073").filename;this.m2n_lookupPath("arrReturn")=this.m2n_lookupPath("global_file_obj8870").OpenFile(_f,_j,"GET");if(this.m2n_lookupPath("arrReturn")!=0){_e[0]="FAIL";_e[1]="XCOME0003";return _e;}_i=0;while(true){_h=this.m2n_lookupPath("global_file_obj8870").ReadFile(this.sysv_downloadPacketSize);if((_h==0)||(_h==-1)){break;}}this.m2n_lookupPath("global_file_obj8870").CloseFile();_e=this.m2n_split(this.m2n_lookupPath("global_file_obj8870").CookieParam,"=");_e=this.m2n_split(_e[1],"::");return _e;};this.sysf_readDownFile=function(_c,_d,_e){var _f=new Array(2);var _g;var _h;var _i;var _j;var _k;_h=this.sysf_getHttpFile();_g=this.gf_GetGlobalValue("g_ServerHomePath")+nexacro.getApplication().gv_ServicePath_FILE+"?mode=download";_h.CookieParam=_d;this.m2n_lookupPath("objFileDialog")=this.sysf_getFileDialog();this.m2n_lookupPath("objFileDialog").type="Save";this.m2n_lookupPath("objFileDialog").filename=_c;this.m2n_lookupPath("objFileDialog").FilePath=_e;_k=this.m2n_lookupPath("objFileDialog").FilePath+"\\"+this.m2n_lookupPath("objFileDialog").filename;this.m2n_lookupPath("arrReturn")=_h.OpenFile(_g,_k,"GET");if(this.m2n_lookupPath("arrReturn")!=0){_f[0]="FAIL";_f[1]="XCOME0003";return _f;}_j=0;while(true){_i=_h.ReadFile(this.sysv_downloadPacketSize);if((_i==0)||(_i==-1)){break;}}_h.CloseFile();_f=this.m2n_split(_h.CookieParam,"=");_f=this.m2n_split(_f[1],"::");return _f;};this.sysf_writeFile=function(_c,_d,_e){var _f=new Array(3);var _g="";var _h="";this.m2n_create(this,"HttpFile","global_file_obj8870");var _i;var _j;var _k;_h=this.gf_GetGlobalValue("g_ServerHomePath")+nexacro.getApplication().gv_ServicePath_FILE+"?mode=upload&menu_id="+_e;_k=this.m2n_lookupPath("global_file_obj8870").GetFileSizeLocal(_c);this.m2n_lookupPath("global_file_obj8870").CookieParam=_d;this.m2n_lookupPath("arrReturn")=this.m2n_lookupPath("global_file_obj8870").OpenFile(_h,_c,"PUT");if(this.m2n_lookupPath("arrReturn")!=0){_f[0]="FAIL";_f[1]="XCOME0003";return _f;}while(true){_i=this.m2n_lookupPath("global_file_obj8870").WriteFile(this.sysv_uploadPacketSize);if(_i<this.sysv_uploadPacketSize){break;}}this.m2n_lookupPath("global_file_obj8870").CloseFile();_f=this.m2n_split(this.m2n_lookupPath("global_file_obj8870").CookieParam,"=");_f=this.m2n_split(_f[1],"::");return _f;};this.sysf_writeFileVisio=function(_c,_d,_e){var _f=new Array(3);var _g="";var _h="";var _i=this.sysf_getHttpFile();var _j;var _k;var _l;_h=this.gf_GetGlobalValue("g_ServerHomePath")+nexacro.getApplication().gv_ServicePath_FILE+"?mode=upload&menu_id="+_e+"&menu_type=visio&file_name="+_d;_l=_i.GetFileSizeLocal(_c);_i.CookieParam=this.m2n_urlEncode(_d);this.m2n_lookupPath("arrReturn")=_i.OpenFile(_h,_c,"PUT");if(this.m2n_lookupPath("arrReturn")!=0){_f[0]="FAIL";_f[1]="XCOME0003";return _f;}while(true){_j=_i.WriteFile(this.sysv_uploadPacketSize);if(_j<this.sysv_uploadPacketSize){break;}}_i.CloseFile();_f=this.m2n_split(_i.CookieParam,"=");_f=this.m2n_split(_f[1],"::");return _f;};this.sysf_getFileFormat=function(){var _c=new Array(-1);if(this.m2n_length(this.sysv_fileFormat)>0){_c=this.m2n_split(this.sysv_fileFormat,"|");}return _c;};this.sysf_getFileDialog=function(){if(nexacro.getApplication().gv_RUNTYPE=="M"){return nexacro.getApplication().MainTitle.fdg_fileDialog;}else{this.m2n_create(this,"FileDialog","global_filedialog_obj4073");return this.m2n_lookupPath("global_filedialog_obj4073");}};this.sysf_getFile=function(){if(nexacro.getApplication().gv_RUNTYPE=="M"){return nexacro.getApplication().MainTitle.fil_file;}else{this.m2n_create(this,"File","global_file_obj4073");return this.m2n_lookupPath("global_file_obj4073");}};this.sysf_getHttpFile=function(){if(nexacro.getApplication().gv_RUNTYPE=="M"){return nexacro.getApplication().MainTitle.htf_httpFile;}else{this.m2n_create(this,"HttpFile","global_file_obj8870");return this.m2n_lookupPath("global_file_obj8870");}};this.sysf_getFileSize=function(_c){var _d;if(this.m2n_length(_c)<1){this.alert('happytk'+this.m2n_length(_c));return -1;}this.m2n_create(this,"File","global_file_obj4073");return this.m2n_lookupPath("global_file_obj4073").getLength(_c);};this.sysf_fileUpDownControl=function(_c,_d){var _e="";var _f="";var _b="";var _g=true;_e=ext_GetIPAddress();this.m2n_create(this,"Dataset","dst_inParam");this.m2n_create(this,"Dataset","dst_outParam");this.m2n_lookupPath("dst_inParam").clear();this.m2n_lookupPath("dst_outParam").clear();this.m2n_lookupPath("dst_inParam").addColumn("userIp","String");this.m2n_lookupPath("dst_inParam").addRow();this.m2n_lookupPath("dst_inParam").setColumn(this.m2n_lookupPath("dst_inParam").row,"userIp",_e);var _h="cm.utl.CMUTLO00#psCMUTLSocIpChk";var _i="";var _j="";var _k="inDto=dst_inParam";var _l="dst_outParam=outDto";this.sysf_ncCallSyncTR(_i,_h,_j,"",_k,_l);var _f=this.m2n_lookupPath("dst_outParam").getColumn(0,"ipResult");this.m2n_destroy(this.m2n_lookupPath("dst_inParam"));this.m2n_destroy(this.m2n_lookupPath("dst_outParam"));if(_f=="NOT_EXISTS_IP"){_g=false;}else if(this.sysf_isLocal()){_g=false;}else{_g=true;}if(_g==false){for(var _m=0;_m<this.m2n_length(_d);_m++ ){_b=this.m2n_getChild(_c,_d[_m]);_b.set_visible(false);}}else{for(var _m=0;_m<this.m2n_length(_d);_m++ ){_b=this.m2n_getChild(_c,_d[_m]);_b.set_visible(true);}}return true;};});this.loadIncludeScript(_a);_b=null;};})();